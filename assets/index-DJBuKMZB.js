var Kt=Object.defineProperty;var Yt=(e,t,n)=>t in e?Kt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var U=(e,t,n)=>(Yt(e,typeof t!="symbol"?t+"":t,n),n);import{d as N,c as T,f as k,h as A,n as W,k as H,l as z,$ as Jt,a0 as We,a1 as _e,r as P,G as te,a2 as R,a3 as ce,p as C,B as r,x as g,M as m,a4 as u,u as l,w as ne,F as ue,N as Ge,q as V,a5 as Zt,a6 as Xt,o as Qt,a7 as en,a8 as tn,a9 as nn,aa as an,ab as on,ac as sn,ad as rn,ae as ln,af as cn,ag as un,J as dn,K as pn,L as gn,_ as mn,ah as hn,ai as fn}from"./libs-DQ8Nf-LA.js";import{_ as K,g as Y,i as J,d as bn,l as _n,T as G,P as St,S as O,a as Le,M as $t,b as ke,c as vn,e as yn,C as Tt,f as Ke,R as Ye,h as Je,j as Ie,D as Ze,I as kn,k as wn,m as Sn,n as $n,o as Xe,p as Tn,G as Ln,q as In,u as Qe,L as et,r as Lt,s as Cn,E as It,t as Pn,v as Nn,w as Ct,x as zn,y as Pt,z as Nt,O as jn,A as Mn,B as zt,F as he,H as En,J as An,K as jt,N as Un,Q as Mt,U as Et,V as xn,W as On,X as Rn,Y as Bn,Z as Dn,$ as qn,a0 as Hn,a1 as Fn,a2 as Vn,a3 as Wn,a4 as Gn,a5 as Kn,a6 as Yn,a7 as Jn}from"./arcoDesign-6o-eZ3FB.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))o(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&o(s)}).observe(document,{childList:!0,subtree:!0});function n(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(a){if(a.ep)return;a.ep=!0;const i=n(a);fetch(a.href,i)}})();const Zn=N({name:"IconArrowDown",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:t}){const n=Y("icon"),o=T(()=>[n,`${n}-arrow-down`,{[`${n}-spin`]:e.spin}]),a=T(()=>{const s={};return e.size&&(s.fontSize=J(e.size)?`${e.size}px`:e.size),e.rotate&&(s.transform=`rotate(${e.rotate}deg)`),s});return{cls:o,innerStyle:a,onClick:s=>{t("click",s)}}}}),Xn=["stroke-width","stroke-linecap","stroke-linejoin"],Qn=z("path",{d:"m11.27 27.728 12.727 12.728 12.728-12.728M24 5v34.295"},null,-1),ea=[Qn];function ta(e,t,n,o,a,i){return k(),A("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:W(e.cls),style:H(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:t[0]||(t[0]=(...s)=>e.onClick&&e.onClick(...s))},ea,14,Xn)}var Pe=K(Zn,[["render",ta]]);const At=Object.assign(Pe,{install:(e,t)=>{var n;const o=(n=t==null?void 0:t.iconPrefix)!=null?n:"";e.component(o+Pe.name,Pe)}}),na=N({name:"IconArrowUp",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:t}){const n=Y("icon"),o=T(()=>[n,`${n}-arrow-up`,{[`${n}-spin`]:e.spin}]),a=T(()=>{const s={};return e.size&&(s.fontSize=J(e.size)?`${e.size}px`:e.size),e.rotate&&(s.transform=`rotate(${e.rotate}deg)`),s});return{cls:o,innerStyle:a,onClick:s=>{t("click",s)}}}}),aa=["stroke-width","stroke-linecap","stroke-linejoin"],oa=z("path",{d:"M11.27 20.272 23.997 7.544l12.728 12.728M24 43V8.705"},null,-1),sa=[oa];function ra(e,t,n,o,a,i){return k(),A("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:W(e.cls),style:H(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:t[0]||(t[0]=(...s)=>e.onClick&&e.onClick(...s))},sa,14,aa)}var Ne=K(na,[["render",ra]]);const Ut=Object.assign(Ne,{install:(e,t)=>{var n;const o=(n=t==null?void 0:t.iconPrefix)!=null?n:"";e.component(o+Ne.name,Ne)}}),la=N({name:"IconInfoCircle",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:t}){const n=Y("icon"),o=T(()=>[n,`${n}-info-circle`,{[`${n}-spin`]:e.spin}]),a=T(()=>{const s={};return e.size&&(s.fontSize=J(e.size)?`${e.size}px`:e.size),e.rotate&&(s.transform=`rotate(${e.rotate}deg)`),s});return{cls:o,innerStyle:a,onClick:s=>{t("click",s)}}}}),ia=["stroke-width","stroke-linecap","stroke-linejoin"],ca=z("path",{d:"M24 20v14m0-16v-4m18 10c0 9.941-8.059 18-18 18S6 33.941 6 24 14.059 6 24 6s18 8.059 18 18Z"},null,-1),ua=[ca];function da(e,t,n,o,a,i){return k(),A("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:W(e.cls),style:H(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:t[0]||(t[0]=(...s)=>e.onClick&&e.onClick(...s))},ua,14,ia)}var ze=K(la,[["render",da]]);const tt=Object.assign(ze,{install:(e,t)=>{var n;const o=(n=t==null?void 0:t.iconPrefix)!=null?n:"";e.component(o+ze.name,ze)}}),pa=N({name:"IconStop",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:t}){const n=Y("icon"),o=T(()=>[n,`${n}-stop`,{[`${n}-spin`]:e.spin}]),a=T(()=>{const s={};return e.size&&(s.fontSize=J(e.size)?`${e.size}px`:e.size),e.rotate&&(s.transform=`rotate(${e.rotate}deg)`),s});return{cls:o,innerStyle:a,onClick:s=>{t("click",s)}}}}),ga=["stroke-width","stroke-linecap","stroke-linejoin"],ma=z("path",{d:"M36.728 36.728c7.03-7.03 7.03-18.427 0-25.456-7.03-7.03-18.427-7.03-25.456 0m25.456 25.456c-7.03 7.03-18.427 7.03-25.456 0-7.03-7.03-7.03-18.427 0-25.456m25.456 25.456L11.272 11.272"},null,-1),ha=[ma];function fa(e,t,n,o,a,i){return k(),A("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:W(e.cls),style:H(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:t[0]||(t[0]=(...s)=>e.onClick&&e.onClick(...s))},ha,14,ga)}var je=K(pa,[["render",fa]]);const ba=Object.assign(je,{install:(e,t)=>{var n;const o=(n=t==null?void 0:t.iconPrefix)!=null?n:"";e.component(o+je.name,je)}}),_a=N({name:"IconSettings",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:t}){const n=Y("icon"),o=T(()=>[n,`${n}-settings`,{[`${n}-spin`]:e.spin}]),a=T(()=>{const s={};return e.size&&(s.fontSize=J(e.size)?`${e.size}px`:e.size),e.rotate&&(s.transform=`rotate(${e.rotate}deg)`),s});return{cls:o,innerStyle:a,onClick:s=>{t("click",s)}}}}),va=["stroke-width","stroke-linecap","stroke-linejoin"],ya=z("path",{d:"M18.797 6.732A1 1 0 0 1 19.76 6h8.48a1 1 0 0 1 .964.732l1.285 4.628a1 1 0 0 0 1.213.7l4.651-1.2a1 1 0 0 1 1.116.468l4.24 7.344a1 1 0 0 1-.153 1.2L38.193 23.3a1 1 0 0 0 0 1.402l3.364 3.427a1 1 0 0 1 .153 1.2l-4.24 7.344a1 1 0 0 1-1.116.468l-4.65-1.2a1 1 0 0 0-1.214.7l-1.285 4.628a1 1 0 0 1-.964.732h-8.48a1 1 0 0 1-.963-.732L17.51 36.64a1 1 0 0 0-1.213-.7l-4.65 1.2a1 1 0 0 1-1.116-.468l-4.24-7.344a1 1 0 0 1 .153-1.2L9.809 24.7a1 1 0 0 0 0-1.402l-3.364-3.427a1 1 0 0 1-.153-1.2l4.24-7.344a1 1 0 0 1 1.116-.468l4.65 1.2a1 1 0 0 0 1.213-.7l1.286-4.628Z"},null,-1),ka=z("path",{d:"M30 24a6 6 0 1 1-12 0 6 6 0 0 1 12 0Z"},null,-1),wa=[ya,ka];function Sa(e,t,n,o,a,i){return k(),A("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:W(e.cls),style:H(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:t[0]||(t[0]=(...s)=>e.onClick&&e.onClick(...s))},wa,14,va)}var Me=K(_a,[["render",Sa]]);const $a=Object.assign(Me,{install:(e,t)=>{var n;const o=(n=t==null?void 0:t.iconPrefix)!=null?n:"";e.component(o+Me.name,Me)}}),Ta=N({name:"IconMoonFill",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:t}){const n=Y("icon"),o=T(()=>[n,`${n}-moon-fill`,{[`${n}-spin`]:e.spin}]),a=T(()=>{const s={};return e.size&&(s.fontSize=J(e.size)?`${e.size}px`:e.size),e.rotate&&(s.transform=`rotate(${e.rotate}deg)`),s});return{cls:o,innerStyle:a,onClick:s=>{t("click",s)}}}}),La=["stroke-width","stroke-linecap","stroke-linejoin"],Ia=z("path",{d:"M42.108 29.769c.124-.387-.258-.736-.645-.613A17.99 17.99 0 0 1 36 30c-9.941 0-18-8.059-18-18 0-1.904.296-3.74.844-5.463.123-.387-.226-.768-.613-.645C10.558 8.334 5 15.518 5 24c0 10.493 8.507 19 19 19 8.482 0 15.666-5.558 18.108-13.231Z",fill:"currentColor",stroke:"none"},null,-1),Ca=[Ia];function Pa(e,t,n,o,a,i){return k(),A("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:W(e.cls),style:H(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:t[0]||(t[0]=(...s)=>e.onClick&&e.onClick(...s))},Ca,14,La)}var Ee=K(Ta,[["render",Pa]]);const Na=Object.assign(Ee,{install:(e,t)=>{var n;const o=(n=t==null?void 0:t.iconPrefix)!=null?n:"";e.component(o+Ee.name,Ee)}}),za=N({name:"IconSunFill",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:t}){const n=Y("icon"),o=T(()=>[n,`${n}-sun-fill`,{[`${n}-spin`]:e.spin}]),a=T(()=>{const s={};return e.size&&(s.fontSize=J(e.size)?`${e.size}px`:e.size),e.rotate&&(s.transform=`rotate(${e.rotate}deg)`),s});return{cls:o,innerStyle:a,onClick:s=>{t("click",s)}}}}),ja=["stroke-width","stroke-linecap","stroke-linejoin"],Ma=z("circle",{cx:"24",cy:"24",r:"9",fill:"currentColor",stroke:"none"},null,-1),Ea=z("path",{d:"M21 5.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 .5.5v5a.5.5 0 0 1-.5.5h-5a.5.5 0 0 1-.5-.5v-5ZM21 37.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 .5.5v5a.5.5 0 0 1-.5.5h-5a.5.5 0 0 1-.5-.5v-5ZM42.5 21a.5.5 0 0 1 .5.5v5a.5.5 0 0 1-.5.5h-5a.5.5 0 0 1-.5-.5v-5a.5.5 0 0 1 .5-.5h5ZM10.5 21a.5.5 0 0 1 .5.5v5a.5.5 0 0 1-.5.5h-5a.5.5 0 0 1-.5-.5v-5a.5.5 0 0 1 .5-.5h5ZM39.203 34.96a.5.5 0 0 1 0 .707l-3.536 3.536a.5.5 0 0 1-.707 0l-3.535-3.536a.5.5 0 0 1 0-.707l3.535-3.535a.5.5 0 0 1 .707 0l3.536 3.535ZM16.575 12.333a.5.5 0 0 1 0 .707l-3.535 3.535a.5.5 0 0 1-.707 0L8.797 13.04a.5.5 0 0 1 0-.707l3.536-3.536a.5.5 0 0 1 .707 0l3.535 3.536ZM13.04 39.203a.5.5 0 0 1-.707 0l-3.536-3.536a.5.5 0 0 1 0-.707l3.536-3.535a.5.5 0 0 1 .707 0l3.536 3.535a.5.5 0 0 1 0 .707l-3.536 3.536ZM35.668 16.575a.5.5 0 0 1-.708 0l-3.535-3.535a.5.5 0 0 1 0-.707l3.535-3.536a.5.5 0 0 1 .708 0l3.535 3.536a.5.5 0 0 1 0 .707l-3.535 3.535Z",fill:"currentColor",stroke:"none"},null,-1),Aa=[Ma,Ea];function Ua(e,t,n,o,a,i){return k(),A("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:W(e.cls),style:H(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:t[0]||(t[0]=(...s)=>e.onClick&&e.onClick(...s))},Aa,14,ja)}var Ae=K(za,[["render",Ua]]);const xa=Object.assign(Ae,{install:(e,t)=>{var n;const o=(n=t==null?void 0:t.iconPrefix)!=null?n:"";e.component(o+Ae.name,Ae)}}),Oa=N({name:"IconLanguage",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:t}){const n=Y("icon"),o=T(()=>[n,`${n}-language`,{[`${n}-spin`]:e.spin}]),a=T(()=>{const s={};return e.size&&(s.fontSize=J(e.size)?`${e.size}px`:e.size),e.rotate&&(s.transform=`rotate(${e.rotate}deg)`),s});return{cls:o,innerStyle:a,onClick:s=>{t("click",s)}}}}),Ra=["stroke-width","stroke-linecap","stroke-linejoin"],Ba=z("path",{d:"m42 43-2.385-6M26 43l2.384-6m11.231 0-.795-2-4.18-10h-1.28l-4.181 10-.795 2m11.231 0h-11.23M17 5l1 5M5 11h26M11 11s1.889 7.826 6.611 12.174C22.333 27.522 30 31 30 31"},null,-1),Da=z("path",{d:"M25 11s-1.889 7.826-6.611 12.174C13.667 27.522 6 31 6 31"},null,-1),qa=[Ba,Da];function Ha(e,t,n,o,a,i){return k(),A("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:W(e.cls),style:H(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:t[0]||(t[0]=(...s)=>e.onClick&&e.onClick(...s))},qa,14,Ra)}var Ue=K(Oa,[["render",Ha]]);const Fa=Object.assign(Ue,{install:(e,t)=>{var n;const o=(n=t==null?void 0:t.iconPrefix)!=null?n:"";e.component(o+Ue.name,Ue)}}),Va=N({name:"IconLocation",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:t}){const n=Y("icon"),o=T(()=>[n,`${n}-location`,{[`${n}-spin`]:e.spin}]),a=T(()=>{const s={};return e.size&&(s.fontSize=J(e.size)?`${e.size}px`:e.size),e.rotate&&(s.transform=`rotate(${e.rotate}deg)`),s});return{cls:o,innerStyle:a,onClick:s=>{t("click",s)}}}}),Wa=["stroke-width","stroke-linecap","stroke-linejoin"],Ga=z("circle",{cx:"24",cy:"19",r:"5"},null,-1),Ka=z("path",{d:"M39 20.405C39 28.914 24 43 24 43S9 28.914 9 20.405C9 11.897 15.716 5 24 5c8.284 0 15 6.897 15 15.405Z"},null,-1),Ya=[Ga,Ka];function Ja(e,t,n,o,a,i){return k(),A("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:W(e.cls),style:H(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:t[0]||(t[0]=(...s)=>e.onClick&&e.onClick(...s))},Ya,14,Wa)}var xe=K(Va,[["render",Ja]]);const Za=Object.assign(xe,{install:(e,t)=>{var n;const o=(n=t==null?void 0:t.iconPrefix)!=null?n:"";e.component(o+xe.name,xe)}}),Xa=N({name:"IconLock",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:t}){const n=Y("icon"),o=T(()=>[n,`${n}-lock`,{[`${n}-spin`]:e.spin}]),a=T(()=>{const s={};return e.size&&(s.fontSize=J(e.size)?`${e.size}px`:e.size),e.rotate&&(s.transform=`rotate(${e.rotate}deg)`),s});return{cls:o,innerStyle:a,onClick:s=>{t("click",s)}}}}),Qa=["stroke-width","stroke-linecap","stroke-linejoin"],eo=z("rect",{x:"7",y:"21",width:"34",height:"20",rx:"1"},null,-1),to=z("path",{d:"M15 21v-6a9 9 0 1 1 18 0v6M24 35v-8"},null,-1),no=[eo,to];function ao(e,t,n,o,a,i){return k(),A("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:W(e.cls),style:H(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:t[0]||(t[0]=(...s)=>e.onClick&&e.onClick(...s))},no,14,Qa)}var Oe=K(Xa,[["render",ao]]);const oo=Object.assign(Oe,{install:(e,t)=>{var n;const o=(n=t==null?void 0:t.iconPrefix)!=null?n:"";e.component(o+Oe.name,Oe)}});function so(e){var t=[];if(e.length===0)return"";if(typeof e[0]!="string")throw new TypeError("Url must be a string. Received "+e[0]);if(e[0].match(/^[^/:]+:\/*$/)&&e.length>1){var n=e.shift();e[0]=n+e[0]}e[0].match(/^file:\/\/\//)?e[0]=e[0].replace(/^([^/:]+):\/*/,"$1:///"):e[0]=e[0].replace(/^([^/:]+):\/*/,"$1://");for(var o=0;o<e.length;o++){var a=e[o];if(typeof a!="string")throw new TypeError("Url must be a string. Received "+a);a!==""&&(o>0&&(a=a.replace(/^[\/]+/,"")),o<e.length-1?a=a.replace(/[\/]+$/,""):a=a.replace(/[\/]+$/,"/"),t.push(a))}var i=t.join("/");i=i.replace(/\/(\?|&|#[^!])/g,"$1");var s=i.split("?");return i=s.shift()+(s.length>0?"?":"")+s.join("&"),i}function Z(){var e;return typeof arguments[0]=="object"?e=arguments[0]:e=[].slice.call(arguments),so(e)}const $e={formatYear:"YYYY",formatMonth:"MMM YYYY",today:"Today",view:{month:"Month",year:"Year",week:"Week",day:"Day"},month:{long:{January:"January",February:"February",March:"March",April:"April",May:"May",June:"June",July:"July",August:"August",September:"September",October:"October",November:"November",December:"December"},short:{January:"Jan",February:"Feb",March:"Mar",April:"Apr",May:"May",June:"Jun",July:"Jul",August:"Aug",September:"Sept",October:"Oct",November:"Nov",December:"Dec"}},week:{long:{self:"Week",monday:"Monday",tuesday:"Tuesday",wednesday:"Wednesday",thursday:"Thursday",friday:"Friday",saturday:"Saturday",sunday:"Sunday"},short:{self:"Week",monday:"Mon",tuesday:"Tue",wednesday:"Wed",thursday:"Thu",friday:"Fri",saturday:"Sat",sunday:"Sun"}}},ro={locale:"en-US",empty:{description:"No Data"},drawer:{okText:"Ok",cancelText:"Cancel"},popconfirm:{okText:"Ok",cancelText:"Cancel"},modal:{okText:"Ok",cancelText:"Cancel"},pagination:{goto:"Goto",page:"Page",countPerPage:" / Page",total:"Total: {0}"},table:{okText:"Ok",resetText:"Reset"},upload:{start:"Start",cancel:"Cancel",delete:"Delete",retry:"Click to retry",buttonText:"Upload",preview:"Preview",drag:"Click or drag file to this area to upload",dragHover:"Release to upload",error:"Upload Error"},calendar:$e,datePicker:{view:$e.view,month:$e.month,week:$e.week,placeholder:{date:"Please select date",week:"Please select week",month:"Please select month",year:"Please select year",quarter:"Please select quarter",time:"Please select time"},rangePlaceholder:{date:["Start date","End date"],week:["Start week","End week"],month:["Start month","End month"],year:["Start year","End year"],quarter:["Start quarter","End quarter"],time:["Start time","End time"]},selectTime:"Select time",today:"Today",now:"Now",ok:"Ok"},image:{loading:"loading"},imagePreview:{fullScreen:"Full Screen",rotateRight:"Rotate Right",rotateLeft:"Rotate Left",zoomIn:"Zoom In",zoomOut:"Zoom Out",originalSize:"Original Size"},typography:{copied:"Copied",copy:"Copy",expand:"Expand",collapse:"Collapse",edit:"Edit"},form:{validateMessages:bn},colorPicker:{history:"History Colors",preset:"Preset Colors",empty:"Empty"}},lo={"settings.navbar.theme.toLight":"Click to use light mode","settings.navbar.theme.toDark":"Click to use dark mode","settings.language":"Language","settings.modal.title":"Settings","settings.modal.endpointTips":"If you can't access the backend of the PBH, you can try to set the Endpoint here","settings.modal.accessTokenTips":'You can set the <a href="https://github.com/settings/tokens">access token</a> at here',"settings.modal.pollInterval":"Polling interval:","settings.endpoint.error":"Cannot connect to the backend, please check the Endpoint settings","settings.accessToken.error":"Failed to get version, please check your network or try to set the access token in settings."},io={"page.dashboard.description":"This page displays the basic data since PeerBanHelper started.","page.dashboard.clientStatus.title":"Connected Downloaders","page.dashboard.clientStatus.card.title":"Downloader Status","page.dashboard.clientStatus.card.status":"Status","page.dashboard.clientStatus.card.type":"Type","page.dashboard.clientStatus.card.status.normal":"Normal - Status is good","page.dashboard.clientStatus.card.status.error":"Error - Error occurred when communicating with the client, please check the log file","page.dashboard.clientStatus.card.status.unknown":"Unknown - PeerBanHelper may not have communicated with this client yet","page.dashboard.clientStatus.card.status.torrentNumber":"Active Torrents:","page.dashboard.clientStatus.card.status.peerNumber":"Connected Peers:","page.dashboard.statics.currentStatus":"Current Status","page.dashboard.statics.checked":"Total checked","page.dashboard.statics.times":"times","page.dashboard.statics.banPeer":"Ban Peers","page.dashboard.statics.unbanPeer":"Unban Peers","page.dashboard.statics.currentBan":"Currently banned Peers","page.dashboard.statics.number":"","page.dashboard.torrentList.title":"Active Torrent List","page.dashboard.torrentList.tips":"Click to view the active torrent list","page.dashboard.torrentList.column.name":"Name","page.dashboard.torrentList.column.size":"Size","page.dashboard.torrentList.column.hash":"Hash","page.dashboard.torrentList.column.progress":"Progress"},co={"page.banlist.banlist":"Ban List","page.banlist.banlist.description":"Following is the ban list (sorted by time descending)","page.banlist.banlist.searchPlaceHolder":"Search an IP address","page.banlist.banlist.listItem.reserveDNSLookup":"Reverse DNS Lookup","page.banlist.banlist.listItem.banTime":"Ban Time","page.banlist.banlist.listItem.expireTime":"Unban Time","page.banlist.banlist.listItem.location":"Torrent","page.banlist.banlist.listItem.snapshot":"Snapshot","page.banlist.banlist.listItem.reason":"Ban Reason","page.banlist.banlist.listItem.geo":"Geo Location","page.banlist.banlist.listItem.asn":"ASN","page.banlist.banlist.listItem.asn.subnet":"ASN Subnet: ","page.banlist.banlist.bottomReached":"No more data!"},uo={"page.banlog.description":"This page shows the ban log information stored by PeerBanHelper.","page.banlog.banlogTable.notUnbanned":"Not Unbanned yet","page.banlog.banlogTable.column.banTime":"Ban Time","page.banlog.banlogTable.column.unbanTime":"Unban Time","page.banlog.banlogTable.column.peerAddress":"Peer Address","page.banlog.banlogTable.column.peerId":"Peer ID","page.banlog.banlogTable.column.trafficSnapshot":"Traffic Snapshot","page.banlog.banlogTable.column.torrentName":"Torrent Name","page.banlog.banlogTable.column.torrentSize":"Size","page.banlog.banlogTable.column.description":"Description"},po={"page.topban.description":"This page shows the ban history stored by PeerBanHelper.","page.topban.title":"Top {topNumber} most frequently banned IP addresses","page.topban.usage":"This data is analyzed from the ban history recorded in the database in the past 14 days. If some IP addresses are repeatedly banned, you may consider using the system firewall to block these IPs, or share these malicious IP addresses with others to help more people improve their blocking rules.","page.topban.onlyShow":"Only show the first","page.topban.onlyShow.number":"","page.topban.top50Table.searchPlaceholder":"Search IP address...","page.topban.top50Table.column.ipaddress":"IP Address","page.topban.top50Table.column.historyCount":"History Ban Count"},go={"page.ruleMetrices.title":"Rule metrics","page.ruleMetrices.description":"The following is the rule statistics information, you can improve your rule through following information.","page.ruleMetrices.metricsTable.filter":"Show hit rules only","page.ruleMetrices.metricsTable.column.type":"Rule Type","page.ruleMetrices.metricsTable.column.run":"Run Times","page.ruleMetrices.metricsTable.column.hit":"Hit Times"},mo={"service.version.networkError":"Network failure, unable to initiate request","service.version.parseError":"Unable to parse the data, please check whether the endpoint is correct","service.version.formatError":"The response format is incorrect, please check the backend version"},ho={"login.form.login.success":"Login success","login.form.title":"Login to PeerBanHelper","login.form.password.placeholder":"Please enter the management token","login.form.rememberPassword":"Remember token","login.form.forgetPassword":"Forget token","login.form.password.errMsg":"Please enter the management token","login.form.login.failed":"Login Failed:","login.form.login":"Login"},fo={"navbar.action.locale":"Switch to English","navbar.action.autoUpdate":"Auto Update","navbar.action.autoUpdate.lastUpdate":"Last updated at: ","main.workInProgressTips":"This feature is still working in progress, and the data currently recorded and displayed is relatively limited","router.login":"Login","router.dashboard":"Status","router.banlist":"Ban List","router.banlogs":"Ban Logs","router.topban":"Top Bans","router.ruleMetrics":"Rule Metrics",...lo,...io,...co,...uo,...po,...go,...mo,...ho},bo={"settings.navbar.theme.toLight":"点击切换为亮色模式","settings.navbar.theme.toDark":"点击切换为暗黑模式","settings.language":"语言","settings.modal.title":"设置","settings.modal.endpointTips":"如果你无法访问PBH后端，可以尝试在此设置Endpoint","settings.modal.pollInterval":"轮询间隔：","settings.endpoint.error":"无法连接到后端，请检查Endpoint设置","settings.modal.accessTokenTips":'你可以在这里填写 <a href="https://github.com/settings/tokens">Github Access Token</a>',"settings.accessToken.error":"无法获取版本信息，请检查网络或尝试在设置中设置访问令牌"},_o={"page.dashboard.description":"此页面展示 PeerBanHelper 自启动以来的基本数据。","page.dashboard.clientStatus.title":"已连接的下载器","page.dashboard.clientStatus.card.title":"下载器状态","page.dashboard.clientStatus.card.status":"状态","page.dashboard.clientStatus.card.type":"类型","page.dashboard.clientStatus.card.status.normal":"正常 - 状态良好","page.dashboard.clientStatus.card.status.error":"错误 - 与客户端通信时出错，请检查日志文件","page.dashboard.clientStatus.card.status.unknown":"未知 - PeerBanHelper 可能还没有与此客户端通信","page.dashboard.clientStatus.card.status.torrentNumber":"活动种子数:","page.dashboard.clientStatus.card.status.peerNumber":"已连接的Peers:","page.dashboard.statics.currentStatus":"当前状态","page.dashboard.statics.checked":"共检查","page.dashboard.statics.times":"次","page.dashboard.statics.banPeer":"封禁Peer","page.dashboard.statics.unbanPeer":"解除已到期的封禁","page.dashboard.statics.currentBan":"当前处于封禁状态Peer","page.dashboard.statics.number":"个","page.dashboard.torrentList.title":"活动种子列表","page.dashboard.torrentList.tips":"点击查看活动种子列表","page.dashboard.torrentList.column.name":"名称","page.dashboard.torrentList.column.size":"大小","page.dashboard.torrentList.column.hash":"Hash","page.dashboard.torrentList.column.progress":"进度"},vo={"page.banlist.banlist":"封禁名单","page.banlist.banlist.description":"以下是封禁列表（按时间倒序排列）","page.banlist.banlist.searchPlaceHolder":"搜索 IP 地址","page.banlist.banlist.listItem.reserveDNSLookup":"反向 DNS 解析","page.banlist.banlist.listItem.banTime":"封禁时间","page.banlist.banlist.listItem.expireTime":"预计解封时间","page.banlist.banlist.listItem.location":"发现位置","page.banlist.banlist.listItem.snapshot":"封禁快照","page.banlist.banlist.listItem.reason":"封禁原因","page.banlist.banlist.listItem.geo":"地理位置","page.banlist.banlist.listItem.asn":"ASN","page.banlist.banlist.listItem.asn.subnet":"子网：","page.banlist.banlist.bottomReached":"已经到底啦！"},yo={"page.banlog.description":" 此页面展示 PeerBanHelper 储存的封禁历史记录信息。","page.banlog.banlogTable.notUnbanned":"未解封","page.banlog.banlogTable.column.banTime":"封禁时间","page.banlog.banlogTable.column.unbanTime":"解封时间","page.banlog.banlogTable.column.peerAddress":"Peer 地址","page.banlog.banlogTable.column.peerId":"Peer ID","page.banlog.banlogTable.column.trafficSnapshot":"流量快照","page.banlog.banlogTable.column.torrentName":"种子名","page.banlog.banlogTable.column.torrentSize":"大小","page.banlog.banlogTable.column.description":"描述"},ko={"page.topban.description":"此页面展示 PeerBanHelper 储存的封禁历史记录信息。","page.topban.title":"被封禁频率最高的{topNumber}个 IP 地址","page.topban.usage":"这是从数据库中记录的近14天的封禁历史中分析得来的数据。如果某些 IP 地址持续被多次封禁，则可以考虑使用系统防火墙屏蔽这些 IP，或者向其他人分享这些恶意 IP 地址，以帮助更多人改善他们的屏蔽规则。","page.topban.onlyShow":"只展示前","page.topban.onlyShow.number":"个","page.topban.top50Table.searchPlaceholder":"搜索IP地址...","page.topban.top50Table.column.ipaddress":"IP 地址","page.topban.top50Table.column.historyCount":"历史封禁次数"},wo={"page.ruleMetrices.title":"规则统计","page.ruleMetrices.description":"以下是规则统计信息，你可以通过规则命中次数（封禁次数）和运行次数来评估规则的有效性。","page.ruleMetrices.metricsTable.filter":"仅显示命中过的规则","page.ruleMetrices.metricsTable.column.type":"规则类型","page.ruleMetrices.metricsTable.column.run":"运行次数","page.ruleMetrices.metricsTable.column.hit":"命中次数"},So={"service.version.networkError":"网络故障，无法发起请求","service.version.parseError":"无法解析接口返回数据，请检查服务地址是否正确","service.version.formatError":"后端接口响应格式错误，请检查后端版本"},$o={"login.form.login.success":"登录成功","login.form.title":"登录到 PeerBanHelper","login.form.password.placeholder":"请输入管理 Token","login.form.rememberPassword":"记住 Token","login.form.forgetPassword":"忘记 Token","login.form.password.errMsg":"请输入管理 Token","login.form.login.failed":"登录失败：","login.form.login":"登录"},To={"navbar.action.locale":"切换为中文","navbar.action.autoUpdate":"自动刷新","navbar.action.autoUpdate.lastUpdate":"最后更新于：","main.workInProgressTips":"请注意，此功能仍在施工中，目前记录和展示的数据较为有限。","router.login":"登录","router.dashboard":"状态","router.banlist":"封禁名单","router.banlogs":"封禁日志","router.topban":"最多封禁","router.ruleMetrics":"规则统计",...bo,..._o,...vo,...yo,...ko,...wo,...So,...$o},Lo=[{label:"中文",value:"zh-CN"},{label:"English",value:"en-US"}];function xt(){return navigator.language.includes("zh")?"zh-CN":"en-US"}const rt={short:{year:"numeric",month:"short",day:"numeric"},long:{year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric"},longlong:{year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"}},Io=Jt({locale:xt(),fallbackLocale:"en-US",legacy:!1,messages:{"en-US":fo,"zh-CN":To},datetimeFormats:{"en-US":rt,"zh-CN":rt}}),Co={"en-US":ro,"zh-CN":_n};function X(e=!0){var a;const{authToken:t}=M(),n=((a=document.querySelector("html"))==null?void 0:a.getAttribute("lang"))||xt(),o=new Headers;return o.set("Accept-Language",n),e&&o.set("Authorization",`Bearer ${t}`),o}function Ce(){return typeof navigator=="object"&&"userAgent"in navigator?navigator.userAgent:typeof process=="object"&&process.version!==void 0?`Node.js/${process.version.substr(1)} (${process.platform}; ${process.arch})`:"<environment undetectable>"}function nt(e,t,n,o){if(typeof n!="function")throw new Error("method for before hook must be a function");return o||(o={}),Array.isArray(t)?t.reverse().reduce((a,i)=>nt.bind(null,e,i,a,o),n)():Promise.resolve().then(()=>e.registry[t]?e.registry[t].reduce((a,i)=>i.hook.bind(null,a,o),n)():n(o))}function Po(e,t,n,o){const a=o;e.registry[n]||(e.registry[n]=[]),t==="before"&&(o=(i,s)=>Promise.resolve().then(a.bind(null,s)).then(i.bind(null,s))),t==="after"&&(o=(i,s)=>{let c;return Promise.resolve().then(i.bind(null,s)).then(d=>(c=d,a(c,s))).then(()=>c)}),t==="error"&&(o=(i,s)=>Promise.resolve().then(i.bind(null,s)).catch(c=>a(c,s))),e.registry[n].push({hook:o,orig:a})}function No(e,t,n){if(!e.registry[t])return;const o=e.registry[t].map(a=>a.orig).indexOf(n);o!==-1&&e.registry[t].splice(o,1)}const lt=Function.bind,it=lt.bind(lt);function Ot(e,t,n){const o=it(No,null).apply(null,n?[t,n]:[t]);e.api={remove:o},e.remove=o,["before","error","after","wrap"].forEach(a=>{const i=n?[t,a,n]:[t,a];e[a]=e.api[a]=it(Po,null).apply(null,i)})}function zo(){const e=Symbol("Singular"),t={registry:{}},n=nt.bind(null,t,e);return Ot(n,t,e),n}function jo(){const e={registry:{}},t=nt.bind(null,e);return Ot(t,e),t}const Mo={Singular:zo,Collection:jo};var Eo="0.0.0-development",Ao=`octokit-endpoint.js/${Eo} ${Ce()}`,Uo={method:"GET",baseUrl:"https://api.github.com",headers:{accept:"application/vnd.github.v3+json","user-agent":Ao},mediaType:{format:""}};function xo(e){return e?Object.keys(e).reduce((t,n)=>(t[n.toLowerCase()]=e[n],t),{}):{}}function Oo(e){if(typeof e!="object"||e===null||Object.prototype.toString.call(e)!=="[object Object]")return!1;const t=Object.getPrototypeOf(e);if(t===null)return!0;const n=Object.prototype.hasOwnProperty.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&Function.prototype.call(n)===Function.prototype.call(e)}function Rt(e,t){const n=Object.assign({},e);return Object.keys(t).forEach(o=>{Oo(t[o])?o in e?n[o]=Rt(e[o],t[o]):Object.assign(n,{[o]:t[o]}):Object.assign(n,{[o]:t[o]})}),n}function ct(e){for(const t in e)e[t]===void 0&&delete e[t];return e}function qe(e,t,n){var a;if(typeof t=="string"){let[i,s]=t.split(" ");n=Object.assign(s?{method:i,url:s}:{url:i},n)}else n=Object.assign({},t);n.headers=xo(n.headers),ct(n),ct(n.headers);const o=Rt(e||{},n);return n.url==="/graphql"&&(e&&((a=e.mediaType.previews)!=null&&a.length)&&(o.mediaType.previews=e.mediaType.previews.filter(i=>!o.mediaType.previews.includes(i)).concat(o.mediaType.previews)),o.mediaType.previews=(o.mediaType.previews||[]).map(i=>i.replace(/-preview/,""))),o}function Ro(e,t){const n=/\?/.test(e)?"&":"?",o=Object.keys(t);return o.length===0?e:e+n+o.map(a=>a==="q"?"q="+t.q.split("+").map(encodeURIComponent).join("+"):`${a}=${encodeURIComponent(t[a])}`).join("&")}var Bo=/\{[^}]+\}/g;function Do(e){return e.replace(/^\W+|\W+$/g,"").split(/,/)}function qo(e){const t=e.match(Bo);return t?t.map(Do).reduce((n,o)=>n.concat(o),[]):[]}function ut(e,t){const n={__proto__:null};for(const o of Object.keys(e))t.indexOf(o)===-1&&(n[o]=e[o]);return n}function Bt(e){return e.split(/(%[0-9A-Fa-f]{2})/g).map(function(t){return/%[0-9A-Fa-f]/.test(t)||(t=encodeURI(t).replace(/%5B/g,"[").replace(/%5D/g,"]")),t}).join("")}function pe(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}function fe(e,t,n){return t=e==="+"||e==="#"?Bt(t):pe(t),n?pe(n)+"="+t:t}function de(e){return e!=null}function Re(e){return e===";"||e==="&"||e==="?"}function Ho(e,t,n,o){var a=e[n],i=[];if(de(a)&&a!=="")if(typeof a=="string"||typeof a=="number"||typeof a=="boolean")a=a.toString(),o&&o!=="*"&&(a=a.substring(0,parseInt(o,10))),i.push(fe(t,a,Re(t)?n:""));else if(o==="*")Array.isArray(a)?a.filter(de).forEach(function(s){i.push(fe(t,s,Re(t)?n:""))}):Object.keys(a).forEach(function(s){de(a[s])&&i.push(fe(t,a[s],s))});else{const s=[];Array.isArray(a)?a.filter(de).forEach(function(c){s.push(fe(t,c))}):Object.keys(a).forEach(function(c){de(a[c])&&(s.push(pe(c)),s.push(fe(t,a[c].toString())))}),Re(t)?i.push(pe(n)+"="+s.join(",")):s.length!==0&&i.push(s.join(","))}else t===";"?de(a)&&i.push(pe(n)):a===""&&(t==="&"||t==="?")?i.push(pe(n)+"="):a===""&&i.push("");return i}function Fo(e){return{expand:Vo.bind(null,e)}}function Vo(e,t){var n=["+","#",".","/",";","?","&"];return e=e.replace(/\{([^\{\}]+)\}|([^\{\}]+)/g,function(o,a,i){if(a){let c="";const d=[];if(n.indexOf(a.charAt(0))!==-1&&(c=a.charAt(0),a=a.substr(1)),a.split(/,/g).forEach(function(h){var f=/([^:\*]*)(?::(\d+)|(\*))?/.exec(h);d.push(Ho(t,c,f[1],f[2]||f[3]))}),c&&c!=="+"){var s=",";return c==="?"?s="&":c!=="#"&&(s=c),(d.length!==0?c:"")+d.join(s)}else return d.join(",")}else return Bt(i)}),e==="/"?e:e.replace(/\/$/,"")}function Dt(e){var f;let t=e.method.toUpperCase(),n=(e.url||"/").replace(/:([a-z]\w+)/g,"{$1}"),o=Object.assign({},e.headers),a,i=ut(e,["method","baseUrl","url","headers","request","mediaType"]);const s=qo(n);n=Fo(n).expand(i),/^http/.test(n)||(n=e.baseUrl+n);const c=Object.keys(e).filter(p=>s.includes(p)).concat("baseUrl"),d=ut(i,c);if(!/application\/octet-stream/i.test(o.accept)&&(e.mediaType.format&&(o.accept=o.accept.split(/,/).map(p=>p.replace(/application\/vnd(\.\w+)(\.v3)?(\.\w+)?(\+json)?$/,`application/vnd$1$2.${e.mediaType.format}`)).join(",")),n.endsWith("/graphql")&&(f=e.mediaType.previews)!=null&&f.length)){const p=o.accept.match(/[\w-]+(?=-preview)/g)||[];o.accept=p.concat(e.mediaType.previews).map(b=>{const $=e.mediaType.format?`.${e.mediaType.format}`:"+json";return`application/vnd.github.${b}-preview${$}`}).join(",")}return["GET","HEAD"].includes(t)?n=Ro(n,d):"data"in d?a=d.data:Object.keys(d).length&&(a=d),!o["content-type"]&&typeof a<"u"&&(o["content-type"]="application/json; charset=utf-8"),["PATCH","PUT"].includes(t)&&typeof a>"u"&&(a=""),Object.assign({method:t,url:n,headers:o},typeof a<"u"?{body:a}:null,e.request?{request:e.request}:null)}function Wo(e,t,n){return Dt(qe(e,t,n))}function qt(e,t){const n=qe(e,t),o=Wo.bind(null,n);return Object.assign(o,{DEFAULTS:n,defaults:qt.bind(null,n),merge:qe.bind(null,n),parse:Dt})}var Go=qt(null,Uo);class be extends Error{constructor(n,o,a){super(n);U(this,"name");U(this,"status");U(this,"request");U(this,"response");Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.name="HttpError",this.status=o,"response"in a&&(this.response=a.response);const i=Object.assign({},a.request);a.request.headers.authorization&&(i.headers=Object.assign({},a.request.headers,{authorization:a.request.headers.authorization.replace(/ .*$/," [REDACTED]")})),i.url=i.url.replace(/\bclient_secret=\w+/g,"client_secret=[REDACTED]").replace(/\baccess_token=\w+/g,"access_token=[REDACTED]"),this.request=i}}var Ko="0.0.0-development";function Yo(e){if(typeof e!="object"||e===null||Object.prototype.toString.call(e)!=="[object Object]")return!1;const t=Object.getPrototypeOf(e);if(t===null)return!0;const n=Object.prototype.hasOwnProperty.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&Function.prototype.call(n)===Function.prototype.call(e)}function Jo(e){return e.arrayBuffer()}function dt(e){var c,d,h,f;const t=e.request&&e.request.log?e.request.log:console,n=((c=e.request)==null?void 0:c.parseSuccessResponseBody)!==!1;(Yo(e.body)||Array.isArray(e.body))&&(e.body=JSON.stringify(e.body));let o={},a,i,{fetch:s}=globalThis;if((d=e.request)!=null&&d.fetch&&(s=e.request.fetch),!s)throw new Error("fetch is not set. Please pass a fetch implementation as new Octokit({ request: { fetch }}). Learn more at https://github.com/octokit/octokit.js/#fetch-missing");return s(e.url,{method:e.method,body:e.body,redirect:(h=e.request)==null?void 0:h.redirect,headers:Object.fromEntries(Object.entries(e.headers).map(([p,b])=>[p,String(b)])),signal:(f=e.request)==null?void 0:f.signal,...e.body&&{duplex:"half"}}).then(async p=>{i=p.url,a=p.status;for(const b of p.headers)o[b[0]]=b[1];if("deprecation"in o){const b=o.link&&o.link.match(/<([^>]+)>; rel="deprecation"/),$=b&&b.pop();t.warn(`[@octokit/request] "${e.method} ${e.url}" is deprecated. It is scheduled to be removed on ${o.sunset}${$?`. See ${$}`:""}`)}if(!(a===204||a===205)){if(e.method==="HEAD"){if(a<400)return;throw new be(p.statusText,a,{response:{url:i,status:a,headers:o,data:void 0},request:e})}if(a===304)throw new be("Not modified",a,{response:{url:i,status:a,headers:o,data:await Be(p)},request:e});if(a>=400){const b=await Be(p);throw new be(Zo(b),a,{response:{url:i,status:a,headers:o,data:b},request:e})}return n?await Be(p):p.body}}).then(p=>({status:a,url:i,headers:o,data:p})).catch(p=>{if(p instanceof be)throw p;if(p.name==="AbortError")throw p;let b=p.message;throw p.name==="TypeError"&&"cause"in p&&(p.cause instanceof Error?b=p.cause.message:typeof p.cause=="string"&&(b=p.cause)),new be(b,500,{request:e})})}async function Be(e){const t=e.headers.get("content-type");return/application\/json/.test(t)?e.json().catch(()=>e.text()).catch(()=>""):!t||/^text\/|charset=utf-8$/.test(t)?e.text():Jo(e)}function Zo(e){if(typeof e=="string")return e;let t;return"documentation_url"in e?t=` - ${e.documentation_url}`:t="","message"in e?Array.isArray(e.errors)?`${e.message}: ${e.errors.map(JSON.stringify).join(", ")}${t}`:`${e.message}${t}`:`Unknown error: ${JSON.stringify(e)}`}function He(e,t){const n=e.defaults(t);return Object.assign(function(a,i){const s=n.merge(a,i);if(!s.request||!s.request.hook)return dt(n.parse(s));const c=(d,h)=>dt(n.parse(n.merge(d,h)));return Object.assign(c,{endpoint:n,defaults:He.bind(null,n)}),s.request.hook(c,s)},{endpoint:n,defaults:He.bind(null,n)})}var Fe=He(Go,{headers:{"user-agent":`octokit-request.js/${Ko} ${Ce()}`}}),Xo="0.0.0-development";function Qo(e){return`Request failed due to following response errors:
`+e.errors.map(t=>` - ${t.message}`).join(`
`)}var es=class extends Error{constructor(t,n,o){super(Qo(o));U(this,"name","GraphqlResponseError");U(this,"errors");U(this,"data");this.request=t,this.headers=n,this.response=o,this.errors=o.errors,this.data=o.data,Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}},ts=["method","baseUrl","url","headers","request","query","mediaType"],ns=["query","method","url"],pt=/\/api\/v3\/?$/;function as(e,t,n){if(n){if(typeof t=="string"&&"query"in n)return Promise.reject(new Error('[@octokit/graphql] "query" cannot be used as variable name'));for(const s in n)if(ns.includes(s))return Promise.reject(new Error(`[@octokit/graphql] "${s}" cannot be used as variable name`))}const o=typeof t=="string"?Object.assign({query:t},n):t,a=Object.keys(o).reduce((s,c)=>ts.includes(c)?(s[c]=o[c],s):(s.variables||(s.variables={}),s.variables[c]=o[c],s),{}),i=o.baseUrl||e.endpoint.DEFAULTS.baseUrl;return pt.test(i)&&(a.url=i.replace(pt,"/api/graphql")),e(a).then(s=>{if(s.data.errors){const c={};for(const d of Object.keys(s.headers))c[d]=s.headers[d];throw new es(a,c,s.data)}return s.data.data})}function at(e,t){const n=e.defaults(t);return Object.assign((a,i)=>as(n,a,i),{defaults:at.bind(null,n),endpoint:n.endpoint})}at(Fe,{headers:{"user-agent":`octokit-graphql.js/${Xo} ${Ce()}`},method:"POST",url:"/graphql"});function os(e){return at(e,{method:"POST",url:"/graphql"})}var ss=/^v1\./,rs=/^ghs_/,ls=/^ghu_/;async function is(e){const t=e.split(/\./).length===3,n=ss.test(e)||rs.test(e),o=ls.test(e);return{type:"token",token:e,tokenType:t?"app":n?"installation":o?"user-to-server":"oauth"}}function cs(e){return e.split(/\./).length===3?`bearer ${e}`:`token ${e}`}async function us(e,t,n,o){const a=t.endpoint.merge(n,o);return a.headers.authorization=cs(e),t(a)}var ds=function(t){if(!t)throw new Error("[@octokit/auth-token] No token passed to createTokenAuth");if(typeof t!="string")throw new Error("[@octokit/auth-token] Token passed to createTokenAuth is not a string");return t=t.replace(/^(token|bearer) +/i,""),Object.assign(is.bind(null,t),{hook:us.bind(null,t)})};const Ht="6.1.2",gt=()=>{},ps=console.warn.bind(console),gs=console.error.bind(console),mt=`octokit-core.js/${Ht} ${Ce()}`;class Ve{constructor(t={}){U(this,"request");U(this,"graphql");U(this,"log");U(this,"hook");U(this,"auth");const n=new Mo.Collection,o={baseUrl:Fe.endpoint.DEFAULTS.baseUrl,headers:{},request:Object.assign({},t.request,{hook:n.bind(null,"request")}),mediaType:{previews:[],format:""}};if(o.headers["user-agent"]=t.userAgent?`${t.userAgent} ${mt}`:mt,t.baseUrl&&(o.baseUrl=t.baseUrl),t.previews&&(o.mediaType.previews=t.previews),t.timeZone&&(o.headers["time-zone"]=t.timeZone),this.request=Fe.defaults(o),this.graphql=os(this.request).defaults(o),this.log=Object.assign({debug:gt,info:gt,warn:ps,error:gs},t.log),this.hook=n,t.authStrategy){const{authStrategy:i,...s}=t,c=i(Object.assign({request:this.request,log:this.log,octokit:this,octokitOptions:s},t.auth));n.wrap("request",c.hook),this.auth=c}else if(!t.auth)this.auth=async()=>({type:"unauthenticated"});else{const i=ds(t.auth);n.wrap("request",i.hook),this.auth=i}const a=this.constructor;for(let i=0;i<a.plugins.length;++i)Object.assign(this,a.plugins[i](this,t))}static defaults(t){return class extends this{constructor(...o){const a=o[0]||{};if(typeof t=="function"){super(t(a));return}super(Object.assign({},t,a,a.userAgent&&t.userAgent?{userAgent:`${a.userAgent} ${t.userAgent}`}:null))}}}static plugin(...t){var a;const n=this.plugins;return a=class extends this{},U(a,"plugins",n.concat(t.filter(i=>!n.includes(i)))),a}}U(Ve,"VERSION",Ht),U(Ve,"plugins",[]);const ve=class ve extends Error{constructor(n,o=!0){super(n);U(this,"name",ve.name);this.isApiWrong=o}static is(n){return(n==null?void 0:n.name)===ve.name}};U(ve,"name","GetVersionError");let ge=ve;function ms(e=M().accessToken){return new Ve({auth:e}).request("GET /repos/{owner}/{repo}/releases/latest",{owner:"PBH-BTN",repo:"PeerBanHelper",headers:{"X-GitHub-Api-Version":"2022-11-28"}}).then(n=>n.data)}function hs(e=M().endpoint){const t=new URL(Z(e,"/api/metadata/manifest"),location.href);return fetch(t,{headers:X(!1)}).catch(()=>{throw new ge("service.version.networkError",!1)}).then(n=>n.json().catch(()=>{throw new ge("service.version.parseError")})).then(n=>{if(!n.version)throw new ge("service.version.formatError");return n})}const ye=class ye extends Error{constructor(){super(...arguments);U(this,"name",ye.name)}static is(n){return(n==null?void 0:n.name)===ye.name}};U(ye,"name","IncorrectTokenError");let se=ye;async function fs(e){const t=M(),n=new URL(Z(t.endpoint,"/api/auth/login"),location.href);return fetch(n,{headers:X(!1),method:"POST",body:JSON.stringify({token:e})}).then(async o=>{const a=await o.json();if(o.status===401)throw new se(a.message);if(o.status!==200)throw new Error(a.message)})}const bs=/^[v^~<>=]*?(\d+)(?:\.([x*]|\d+)(?:\.([x*]|\d+)(?:\.([x*]|\d+))?(?:-([\da-z\-]+(?:\.[\da-z\-]+)*))?(?:\+[\da-z\-]+(?:\.[\da-z\-]+)*)?)?)?$/i,ht=e=>{if(typeof e!="string")throw new TypeError("Invalid argument expected string");const t=e.match(bs);if(!t)throw new Error(`Invalid argument not valid semver ('${e}' received)`);return t.shift(),t},ft=e=>e==="*"||e==="x"||e==="X",bt=e=>{const t=parseInt(e,10);return isNaN(t)?e:t},_s=(e,t)=>typeof e!=typeof t?[String(e),String(t)]:[e,t],vs=(e,t)=>{if(ft(e)||ft(t))return 0;const[n,o]=_s(bt(e),bt(t));return n>o?1:n<o?-1:0},_t=(e,t)=>{for(let n=0;n<Math.max(e.length,t.length);n++){const o=vs(e[n]||"0",t[n]||"0");if(o!==0)return o}return 0},ys=(e,t)=>{const n=ht(e),o=ht(t),a=n.pop(),i=o.pop(),s=_t(n,o);return s!==0?s:a&&i?_t(a.split("."),i.split(".")):a||i?a?-1:1:0},Ft=(e,t,n)=>{ks(n);const o=ys(e,t);return Vt[n].includes(o)},Vt={">":[1],">=":[0,1],"=":[0],"<=":[-1,0],"<":[-1],"!=":[-1,1]},vt=Object.keys(Vt),ks=e=>{if(typeof e!="string")throw new TypeError(`Invalid operator type, expected string but got ${typeof e}`);if(vt.indexOf(e)===-1)throw new Error(`Invalid operator, expected one of ${vt.join("|")}`)};function yt(){let e;const t=new Promise(n=>e=n);return Object.assign(t,{resolve:e})}const M=We("endpoint",()=>{const e=_e("endpoint",""),t=_e("accessToken",""),n=_e("authToken","",void 0,{writeDefaults:!1}),o=P(n.value),a=P(),i=P(yt()),s=()=>{const _=yt();return i.value.resolve(_),i.value=_,_},c=P(),d=P("checking"),h=P(null),f=P(null),p=async(_,v=!1)=>{if(c.value&&Ft(c.value.version,"4.0.0","<"))return;_&&(o.value=_),_&&v&&(n.value=_);const I=d.value==="checking";I||s();try{if(_)await fs(_);else throw new se;I||(i.value.resolve(),h.value=null,d.value="pass")}catch(y){throw I||(h.value=y,se.is(y)&&(d.value="needLogin")),y}},b=async _=>{d.value="checking",e.value=_,s();try{c.value=await hs(_);try{await p(o.value)}catch(v){throw se.is(v)&&(d.value="needLogin"),v}return i.value.resolve(),h.value=null,d.value="pass",!0}catch(v){return h.value=v,d.value==="checking"&&(d.value="fail"),!1}},$=async _=>{t.value=_;try{const v=await ms();a.value={tagName:v.tag_name,url:v.html_url}}catch(v){f.value=v,console.error("Failed to get version:",v)}};return b(e.value),setTimeout(async()=>$(t.value),3e3),{endpoint:te(e),serverAvailable:te(i),serverVersion:te(c),loading:T(()=>d.value==="checking"),status:te(d),error:te(h),checkUpgradeError:te(f),accessToken:te(t),latestVersion:te(a),setEndpoint:b,setAccessToken:$,authToken:te(o),setAuthToken:p,assertResponseLogin:_=>{if(_.status===403)throw p(null),new se}}}),Wt=We("downlaoder",()=>{const e=P([]);return{downloaders:e,updateDownloaders:n=>{e.value=n}}});async function ws(){const e=M();await e.serverAvailable;const{downloaders:t}=Wt();return Promise.all(t.map(n=>{const o=new URL(Z(e.endpoint,`api/downloaders/${n.name}/status`),location.href);return fetch(o,{headers:X()}).then(a=>(e.assertResponseLogin(a),a.json())).then(a=>({...n,...a}))}))}async function Ss(){const e=M();await e.serverAvailable;const t=new URL(Z(e.endpoint,"/api/statistic/counter"),location.href);return fetch(t,{headers:X()}).then(n=>(e.assertResponseLogin(n),n.json()))}async function $s(){const e=M();await e.serverAvailable;const t=new URL(Z(e.endpoint,"/api/downloaders"),location.href);return fetch(t,{headers:X()}).then(n=>(e.assertResponseLogin(n),n.json()))}async function Ts(e){const t=M();await t.serverAvailable;const n=new URL(Z(t.endpoint,`/api/downloaders/${e}/torrents`),location.href);return fetch(n,{headers:X()}).then(o=>(t.assertResponseLogin(o),o.json()))}var F=(e=>(e.HEALTHY="HEALTHY",e.ERROR="ERROR",e.UNKNOWN="UNKNOWN",e))(F||{});const re=We("autoUpdate",()=>{const e=P(new Date),t=_e("autoUpdate.enable",!0),n=_e("autoUpdate.interval",3e3),o=T(()=>t.value?n.value:-1);function a(){e.value=new Date}return{lastUpdate:e,autoUpdate:t,interval:n,pollingInterval:o,renewLastUpdate:a}});function me(e,t=2){if(e===0)return"0 Bytes";const n=1024,o=t<0?0:t,a=["Bytes","KB","MB","GB","TB","PB","EB"],i=Math.floor(Math.log(e)/Math.log(n));return i>=a.length?"Too large":parseFloat((e/Math.pow(n,i)).toFixed(o))+" "+a[i]}const Ls=N({__name:"torrentListModal",setup(e,{expose:t}){const{t:n}=R(),o=P(!1),a=P("");t({showModal:f=>{a.value=f,o.value=!0,d(f)}});const i=()=>{o.value=!1,a.value=""},{data:s,loading:c,run:d}=ce(Ts,{manual:!0}),h=[{title:()=>n("page.dashboard.torrentList.column.name"),slotName:"name"},{title:()=>n("page.dashboard.torrentList.column.size"),slotName:"size"},{title:()=>n("page.dashboard.torrentList.column.hash"),slotName:"hash"},{title:()=>n("page.dashboard.torrentList.column.progress"),slotName:"progress"}];return(f,p)=>{const b=G,$=St,_=O,v=Le,I=$t;return k(),C(I,{"hide-cancel":"",closable:"",visible:o.value,"onUpdate:visible":p[0]||(p[0]=y=>o.value=y),onOk:i,draggable:"",width:"auto"},{title:r(()=>[g(m(u(n)("page.dashboard.torrentList.title")),1)]),default:r(()=>[l(v,{columns:h,data:u(s),loading:u(c),pagination:{pageSize:5}},{name:r(({record:y})=>[l(b,{bold:"",style:{"margin-bottom":"0"},ellipsis:{showTooltip:!0}},{default:r(()=>[g(m(y.name),1)]),_:2},1024)]),size:r(({record:y})=>[l(b,null,{default:r(()=>[g(m(u(me)(y.size)),1)]),_:2},1024)]),hash:r(({record:y})=>[l(b,{copyable:"",code:""},{default:r(()=>[g(m(y.hash),1)]),_:2},1024)]),progress:r(({record:y})=>[l(_,null,{default:r(()=>[l($,{percent:y.progress,size:"mini"},null,8,["percent"]),l(b,null,{default:r(()=>[g(m((y.progress*100).toFixed(2)+"%"),1)]),_:2},1024)]),_:2},1024)]),_:1},8,["data","loading"])]),_:1},8,["visible"])}}}),Is={class:"card-wrap"},Cs={class:"card-wrap"},Ps=["onClick"],Ns=N({__name:"clientStatus",setup(e){const{t}=R(),n={[F.HEALTHY]:["success","page.dashboard.clientStatus.card.status.normal"],[F.ERROR]:["warning","page.dashboard.clientStatus.card.status.error"],[F.UNKNOWN]:["danger","page.dashboard.clientStatus.card.status.unknown"]},o=Wt(),a=p=>n[(p==null?void 0:p.lastStatus)??F.UNKNOWN]??n[F.UNKNOWN],i=re(),s=M(),c=ce($s,{onSuccess:o.updateDownloaders,cacheKey:()=>`${s.endpoint}-downloader`}),{data:d,refresh:h}=ce(ws,{pollingInterval:T(()=>i.pollingInterval),onSuccess:i.renewLastUpdate,cacheKey:()=>`${s.endpoint}-clientStatus`,ready:()=>!c.loading.value});ne(()=>s.endpoint,h);const f=P();return(p,b)=>{const $=ke,_=vn,v=O,I=yn,y=Tt,L=Ke,S=Je,w=tt,j=Ie,x=Ze,B=kn,ae=wn,le=Sn,ee=G,oe=$n,D=Xe,E=Ye;return k(),A(ue,null,[l($,{heading:3},{default:r(()=>[g(m(u(t)("page.dashboard.clientStatus.title")),1)]),_:1}),l(E,{justify:"start",align:"stretch",wrap:!0,gutter:[{xs:8,sm:8,md:8,lg:24,xl:32},{xs:8,sm:8,md:8,lg:24,xl:32}]},{default:r(()=>{var Se;return[!u(d)||((Se=u(d))==null?void 0:Se.length)===0?(k(),C(L,{key:0,xs:24,sm:12,md:8,lg:6},{default:r(()=>[z("div",Is,[l(y,{hoverable:""},{title:r(()=>[l(I,{animation:!0},{default:r(()=>[l(v,{direction:"vertical",style:{width:"100%"},size:0},{default:r(()=>[l(_,{"line-height":44,"line-spacing":0})]),_:1})]),_:1})]),default:r(()=>[l(I,{animation:!0},{default:r(()=>[l(v,{direction:"vertical",style:{width:"100%"},size:0},{default:r(()=>[l(_,{rows:4,"line-height":22,"line-spacing":14,widths:["60%","70%","50%","60%"]})]),_:1})]),_:1})]),_:1})])]),_:1})):(k(!0),A(ue,{key:1},Ge(u(d),q=>(k(),C(L,{xs:24,sm:12,md:8,lg:6,key:q.name},{default:r(()=>[z("div",Cs,[l(y,{hoverable:""},{title:r(()=>[l($,{style:{marginBottom:"0px"},ellipsis:{rows:2,showTooltip:!0}},{default:r(()=>[g(m(q.name),1)]),_:2},1024)]),default:r(()=>[l(D,{column:1,layout:"inline-horizontal"},{default:r(()=>[l(x,null,{label:r(()=>[g(m(u(t)("page.dashboard.clientStatus.card.type")),1)]),default:r(()=>[l(v,null,{default:r(()=>[l(S,{bordered:""},{default:r(()=>[g(m(q.type),1)]),_:2},1024),l(j,{content:q.endpoint},{default:r(()=>[l(w,{size:"large"})]),_:2},1032,["content"])]),_:2},1024)]),_:2},1024),l(x,null,{label:r(()=>[g(m(u(t)("page.dashboard.clientStatus.card.status")),1)]),default:r(()=>[l(ee,{type:a(q)[0]},{default:r(()=>[q.lastStatus==u(F).HEALTHY?(k(),C(B,{key:0})):V("",!0),q.lastStatus==u(F).ERROR?(k(),C(ae,{key:1})):V("",!0),q.lastStatus==u(F).UNKNOWN?(k(),C(le,{key:2})):V("",!0),g(" "+m(u(t)(a(q)[1])),1)]),_:2},1032,["type"])]),_:2},1024),q.lastStatus==u(F).HEALTHY?(k(),C(x,{key:0},{label:r(()=>[g(m(u(t)("page.dashboard.clientStatus.card.status.torrentNumber")),1)]),default:r(()=>[l(v,null,{default:r(()=>[l(S,{color:"arcoblue",bordered:""},{default:r(()=>[g(m(q.activeTorrents),1)]),_:2},1024),l(j,{content:u(t)("page.dashboard.torrentList.tips")},{default:r(()=>[z("button",{onClick:()=>{var st;return(st=f.value)==null?void 0:st.showModal(q.name)}},[l(oe,{size:"large"})],8,Ps)]),_:2},1032,["content"])]),_:2},1024)]),_:2},1024)):V("",!0),q.lastStatus==u(F).HEALTHY?(k(),C(x,{key:1},{label:r(()=>[g(m(u(t)("page.dashboard.clientStatus.card.status.peerNumber")),1)]),default:r(()=>[l(S,{color:"arcoblue",bordered:""},{default:r(()=>[g(m(q.activePeers),1)]),_:2},1024)]),_:2},1024)):V("",!0)]),_:2},1024)]),_:2},1024)])]),_:2},1024))),128))]}),_:1}),l(Ls,{ref_key:"torrentList",ref:f},null,512)],64)}}}),Q=(e,t)=>{const n=e.__vccOpts||e;for(const[o,a]of t)n[o]=a;return n},zs=Q(Ns,[["__scopeId","data-v-bd8abf15"]]),js=N({__name:"statisticInfo",setup(e){const{t}=R(),n=re(),o=M(),a=P({checkCounter:0,peerBanCounter:0,peerUnbanCounter:0,banlistCounter:0}),i=P(a.value),{refresh:s}=ce(Ss,{pollingInterval:T(()=>n.pollingInterval),onSuccess:c=>{const d=i.value;i.value=c,Zt.isEqual(c,d)||(a.value=d),n.renewLastUpdate()},cacheKey:()=>`${o.endpoint}-statistic`});return ne(()=>o.endpoint,s),(c,d)=>{const h=G,f=Tn,p=Ln,b=In,$=Tt,_=O;return k(),C(_,{direction:"vertical",fill:""},{default:r(()=>[l($,{title:u(t)("page.dashboard.statics.currentStatus")},{default:r(()=>[l(b,{cols:24,"row-gap":16,class:"panel"},{default:r(()=>[l(p,{class:"panel-col",span:{xs:12,sm:12,md:6}},{default:r(()=>{var v;return[l(f,{title:u(t)("page.dashboard.statics.checked"),value:(v=i.value)==null?void 0:v.checkCounter,"value-from":a.value.checkCounter,animation:"","show-group-separator":""},{suffix:r(()=>[l(h,null,{default:r(()=>[g(" "+m(u(t)("page.dashboard.statics.times")),1)]),_:1})]),_:1},8,["title","value","value-from"])]}),_:1}),l(p,{class:"panel-col",span:{xs:12,sm:12,md:6}},{default:r(()=>{var v;return[l(f,{title:u(t)("page.dashboard.statics.banPeer"),value:(v=i.value)==null?void 0:v.peerBanCounter,"value-from":a.value.peerBanCounter,animation:"","show-group-separator":""},{suffix:r(()=>[l(h,null,{default:r(()=>[g(" "+m(u(t)("page.dashboard.statics.times")),1)]),_:1})]),_:1},8,["title","value","value-from"])]}),_:1}),l(p,{class:"panel-col",span:{xs:12,sm:12,md:6}},{default:r(()=>{var v;return[l(f,{title:u(t)("page.dashboard.statics.unbanPeer"),value:(v=i.value)==null?void 0:v.peerUnbanCounter,"value-from":a.value.peerUnbanCounter,animation:"","show-group-separator":""},{suffix:r(()=>[l(h,null,{default:r(()=>[g(" "+m(u(t)("page.dashboard.statics.times")),1)]),_:1})]),_:1},8,["title","value","value-from"])]}),_:1}),l(p,{class:"panel-col",span:{xs:12,sm:12,md:6}},{default:r(()=>{var v;return[l(f,{title:u(t)("page.dashboard.statics.currentBan"),value:(v=i.value)==null?void 0:v.banlistCounter,"value-from":a.value.banlistCounter,animation:"","show-group-separator":""},{suffix:r(()=>[l(h,null,{default:r(()=>[g(" "+m(u(t)("page.dashboard.statics.number")),1)]),_:1})]),_:1},8,["title","value","value-from"])]}),_:1})]),_:1})]),_:1},8,["title"])]),_:1})}}}),Ms=z("br",null,null,-1),Es=N({__name:"index",setup(e){return(t,n)=>{const o=G,a=O;return k(),C(a,{direction:"vertical",fill:""},{default:r(()=>[l(o,{style:{"font-size":"1.2em"}},{default:r(()=>[g(m(t.$t("page.dashboard.description")),1)]),_:1}),l(zs),Ms,l(js)]),_:1})}}});async function De(e,t){const n=M();await n.serverAvailable;const o=new URL(Z(n.endpoint,"api/bans"),location.href);return o.searchParams.set("limit",String(e)),t&&o.searchParams.set("lastBanTime",String(t)),fetch(o,{headers:X()}).then(a=>(n.assertResponseLogin(a),a.json()))}const As=e=>{let t=0,n,o;if(e.length===0)return t;for(n=0;n<e.length;n++)o=e.charCodeAt(n),t=(t<<5)-t+o,t|=0;return t},Gt=e=>{const t=Math.abs(As(e))%kt.length;return kt[t]},kt=["red","orangered","orange","gold","lime","green","cyan","blue","arcoblue","purple","pinkpurple","magenta"],Us=["title"],xs=N({__name:"countryFlag",props:{iso:{},title:{},mode:{}},setup(e){const{locale:t}=R(),n=e,o=T(()=>{let a="",i=n.iso.toLowerCase();return t.value==="zh-CN"&&i==="tw"&&(i="cn"),a="flag-icon-"+i,n.mode&&(a+=" flag-icon-"+n.mode),a});return(a,i)=>n.iso!==""?(k(),A("span",{key:0,class:W([o.value,"flag-icon"]),title:n.title||n.iso},null,10,Us)):V("",!0)}}),Os=N({__name:"banListItem",props:{item:{}},setup(e){const{t,d:n}=R(),o=Qe(P({xs:0,md:1}),1);return(a,i)=>{const s=G,c=O,d=Ze,h=Ut,f=At,p=Za,b=et,$=Je,_=tt,v=Ie,I=Xe;return k(),C(I,{column:{xs:3,md:6,xl:12},size:"medium",layout:["inline-vertical","horizontal"][u(o)]},{title:r(()=>[l(c,{wrap:""},{default:r(()=>[l(s,{bold:"",copyable:""},{default:r(()=>[g(m(a.item.banMetadata.peer.address.ip)+":"+m(a.item.banMetadata.peer.address.port),1)]),_:1}),l(s,{code:""},{default:r(()=>[g(m(a.item.banMetadata.peer.clientName),1)]),_:1})]),_:1})]),default:r(()=>[l(d,{label:u(t)("page.banlist.banlist.listItem.banTime"),span:4},{default:r(()=>[g(m(u(n)(a.item.banMetadata.banAt,"long")),1)]),_:1},8,["label"]),l(d,{label:u(t)("page.banlist.banlist.listItem.expireTime"),span:4},{default:r(()=>[g(m(u(n)(a.item.banMetadata.unbanAt,"long")),1)]),_:1},8,["label"]),l(d,{label:u(t)("page.banlist.banlist.listItem.snapshot"),span:4},{default:r(()=>[l(h,{class:"green"}),g(" "+m(u(me)(a.item.banMetadata.peer.uploaded))+" ",1),l(f,{class:"red"}),g(" "+m(u(me)(a.item.banMetadata.peer.downloaded))+" - "+m((a.item.banMetadata.peer.progress*100).toFixed(2))+"% ",1)]),_:1},8,["label"]),l(d,{label:u(t)("page.banlist.banlist.listItem.location"),span:12},{default:r(()=>[l(s,{style:{"margin-bottom":"0"},ellipsis:{showTooltip:!0}},{default:r(()=>[g(m(a.item.banMetadata.torrent.name),1)]),_:1})]),_:1},8,["label"]),l(d,{label:u(t)("page.banlist.banlist.listItem.reason"),span:12},{default:r(()=>[g(m(a.item.banMetadata.description),1)]),_:1},8,["label"]),a.item.banMetadata.geo?(k(),C(d,{key:0,label:u(t)("page.banlist.banlist.listItem.geo"),span:4},{default:r(()=>{var y,L,S,w,j;return[l(xs,{iso:(y=a.item.banMetadata.geo)==null?void 0:y.iso,mode:"squared"},null,8,["iso"]),g(" "+m(`${(L=a.item.banMetadata.geo)==null?void 0:L.countryRegion} ${((S=a.item.banMetadata.geo)==null?void 0:S.city)??""}`)+" ",1),l(b,{href:`https://uri.amap.com/marker?position=${(w=a.item.banMetadata.geo)==null?void 0:w.longitude},${(j=a.item.banMetadata.geo)==null?void 0:j.latitude}`,hoverable:!1},{default:r(()=>[l(p)]),_:1},8,["href"])]}),_:1},8,["label"])):V("",!0),a.item.banMetadata.asn?(k(),C(d,{key:1,label:u(t)("page.banlist.banlist.listItem.asn"),span:4},{default:r(()=>[l(c,null,{default:r(()=>{var y,L;return[l(s,null,{default:r(()=>{var S;return[g(m((S=a.item.banMetadata.asn)==null?void 0:S.asOrganization),1)]}),_:1}),l($,{color:u(Gt)((y=a.item.banMetadata.asn)==null?void 0:y.asn.toString())},{default:r(()=>{var S;return[g(m((S=a.item.banMetadata.asn)==null?void 0:S.asn),1)]}),_:1},8,["color"]),l(v,{content:u(t)("page.banlist.banlist.listItem.asn.subnet")+((L=a.item.banMetadata.asn)==null?void 0:L.asNetwork)},{default:r(()=>{var S;return[l(b,{href:`https://2ip.io/analytics/asn-list/?asnId=${(S=a.item.banMetadata.asn)==null?void 0:S.asn}`,hoverable:!1},{default:r(()=>[l(_)]),_:1},8,["href"])]}),_:1},8,["content"])]}),_:1})]),_:1},8,["label"])):V("",!0),a.item.banMetadata.reverseLookup!=="N/A"?(k(),C(d,{key:2,label:u(t)("page.banlist.banlist.listItem.reserveDNSLookup"),span:4},{default:r(()=>[g(m(a.item.banMetadata.reverseLookup),1)]),_:1},8,["label"])):V("",!0)]),_:1},8,["layout"])}}}),Rs=Q(Os,[["__scopeId","data-v-2e1fc5da"]]),Bs=e=>(en("data-v-bcc8aabb"),e=e(),tn(),e),Ds=Bs(()=>z("br",null,null,-1)),qs={key:1,style:{position:"absolute",transform:"translateY(-50%)"}},ie=5,Hs=N({__name:"banList",setup(e){const{height:t}=Xt(),n=P(),o=re(),a=M(),i=P(!1),s=P(5),c=P(!1),{t:d}=R();let h=!0;async function f(){var S;if(h||!p.value)return h=!1,De(ie);if(p.value.length>s.value-ie){const w=[];let j=!1;for(;w.length<s.value&&!j;){const x=await De(ie,(S=w[w.length-1])==null?void 0:S.banMetadata.banAt);for(const B of x)if(B.banMetadata.randomId!==p.value[0].banMetadata.randomId)w.push(B);else{j=!0;break}}return j?(s.value=p.value.length+w.length,w.concat(p.value)):w}return p.value}const{data:p,refresh:b,run:$}=ce(f,{pollingInterval:T(()=>o.pollingInterval),onSuccess:o.renewLastUpdate,manual:!0}),_=S=>{var w,j;if(S){const x=(w=p.value)==null?void 0:w.map(B=>B.address).findIndex(B=>B.includes(S));x!==-1&&((j=n.value)==null||j.scrollIntoView({index:x,align:"auto"}))}},v=async()=>{var S;if(p.value){if(s.value=p.value.length+ie,c.value=!0,i.value=!1,p.value.length<=s.value){const w=[];for(;w.length+p.value.length<s.value&&!i.value;){const j=await De(ie,(S=w[w.length-1]||p.value[p.value.length-1])==null?void 0:S.banMetadata.banAt);j.length<ie&&(i.value=!0),w.push(...j)}p.value=p.value.concat(w)}setTimeout(()=>{c.value=!1},i.value?1e3:0)}};ne(()=>a.endpoint,()=>{s.value=ie,p.value=void 0,b()}),Qt($);const I=T(()=>p.value??[]),y=Qe(P({xs:1500,md:1e3,xl:800}),800),L=T(()=>Math.min(y.value,t.value-200));return(S,w)=>{const j=ke,x=G,B=Lt,ae=O,le=Cn,ee=It,oe=Pn,D=Nn;return k(),C(ae,{direction:"vertical",fill:""},{default:r(()=>[l(j,{heading:3},{default:r(()=>[g(m(u(d)("page.banlist.banlist")),1)]),_:1}),Ds,l(ae,{class:"list-header",wrap:""},{default:r(()=>[l(x,null,{default:r(()=>[g(m(u(d)("page.banlist.banlist.description")),1)]),_:1}),l(B,{style:{width:"250px"},placeholder:u(d)("page.banlist.banlist.searchPlaceHolder"),onSearch:_,"allow-clear":"","search-button":""},null,8,["placeholder"])]),_:1}),l(D,{virtualListProps:{height:L.value},ref_key:"banlist",ref:n,onReachBottom:v,scrollbar:!1,data:I.value},{item:r(({item:E,index:Se})=>[l(le,{style:H({marginBottom:Se===I.value.length-1&&c.value?"50px":void 0})},{default:r(()=>[l(Rs,{item:E},null,8,["item"])]),_:2},1032,["style"])]),"scroll-loading":r(()=>[I.value.length===0?(k(),C(ee,{key:0,style:H({height:`${L.value}px`})},null,8,["style"])):V("",!0),c.value?(k(),A("div",qs,[i.value?(k(),C(x,{key:0},{default:r(()=>[g(m(u(d)("page.banlist.banlist.bottomReached")),1)]),_:1})):(k(),C(oe,{key:1}))])):V("",!0)]),_:1},8,["virtualListProps","data"])]),_:1})}}}),Fs=Q(Hs,[["__scopeId","data-v-bcc8aabb"]]),Vs=N({__name:"index",setup(e){return(t,n)=>{const o=O;return k(),C(o,{direction:"vertical",fill:""},{default:r(()=>[l(Fs)]),_:1})}}});async function Ws(e){const t=M();await t.serverAvailable;const n=new URL(Z(t.endpoint,"api/bans/logs"),location.href);return n.searchParams.set("pageIndex",String(e.pageIndex-1)),e.pageSize&&n.searchParams.set("pageSize",String(e.pageSize)),fetch(n,{headers:X()}).then(o=>o.json()).then(o=>(t.assertResponseLogin(o),{...o,pageIndex:o.pageIndex+1}))}const Gs=N({__name:"banlogTable",setup(e){const t=P(!0),n=re(),o=M(),{t:a,d:i}=R(),{data:s,total:c,current:d,loading:h,pageSize:f,changeCurrent:p,changePageSize:b,refresh:$}=nn(Ws,{defaultParams:[{pageIndex:1,pageSize:10}],pagination:{currentKey:"pageIndex",pageSizeKey:"pageSize",totalKey:"total"},pollingInterval:T(()=>n.pollingInterval),cacheKey:y=>`${o.endpoint}-banlogs-${(y==null?void 0:y[0].pageIndex)||1}-${(y==null?void 0:y[0].pageSize)||10}`,onSuccess:n.renewLastUpdate,onAfter:()=>{t.value=!1}});ne([f,d],()=>{t.value=!0}),ne(()=>o.endpoint,$);const _=T(()=>t.value||h.value||!I.value),v=[{title:()=>a("page.banlog.banlogTable.column.banTime")+"/"+a("page.banlog.banlogTable.column.unbanTime"),slotName:"banAt",width:210},{title:()=>a("page.banlog.banlogTable.column.peerAddress"),slotName:"peerAddress",width:230},{title:()=>a("page.banlog.banlogTable.column.peerId"),slotName:"peerId",width:120},{title:()=>a("page.banlog.banlogTable.column.trafficSnapshot"),slotName:"peerStatus",width:150},{title:()=>a("page.banlog.banlogTable.column.torrentName"),dataIndex:"torrentName",ellipsis:!0,tooltip:!0},{title:()=>a("page.banlog.banlogTable.column.torrentSize"),slotName:"torrentSize",width:120},{title:()=>a("page.banlog.banlogTable.column.description"),dataIndex:"description",ellipsis:!0,tooltip:!0}],I=T(()=>{var y;return(y=s.value)==null?void 0:y.results});return(y,L)=>{const S=ba,w=G,j=Ct,x=O,B=Ut,ae=At,le=St,ee=Ie,oe=tt,D=Le;return k(),C(D,{stripe:!0,columns:v,data:I.value,loading:_.value,pagination:{total:u(c),current:u(d),pageSize:u(f),showPageSize:!0},"column-resizable":"",size:"medium",onPageChange:u(p),onPageSizeChange:u(b),class:"banlog-table"},{banAt:r(({record:E})=>[l(x,{fill:"",direction:"vertical"},{default:r(()=>[l(w,null,{default:r(()=>[l(S),g(" "+m(u(i)(E.banAt,"long")),1)]),_:2},1024),l(w,null,{default:r(()=>[l(j),g(" "+m(E.unbanAt?u(i)(E.unbanAt,"long"):u(a)("page.banlog.banlogTable.notUnbanned")),1)]),_:2},1024)]),_:2},1024)]),peerAddress:r(({record:E})=>[l(w,{copyable:"",code:""},{default:r(()=>[g(m(E.peerIp)+":"+m(E.peerPort),1)]),_:2},1024)]),peerStatus:r(({record:E})=>[l(x,{fill:"",style:{"justify-content":"space-between"}},{default:r(()=>[l(x,{fill:"",direction:"vertical"},{default:r(()=>[l(w,null,{default:r(()=>[l(B,{class:"green"}),g(" "+m(u(me)(E.peerUploaded)),1)]),_:2},1024),l(w,null,{default:r(()=>[l(ae,{class:"red"}),g(" "+m(u(me)(E.peerDownloaded)),1)]),_:2},1024)]),_:2},1024),l(ee,{content:(E.peerProgress*100).toFixed(2)+"%"},{default:r(()=>[l(le,{percent:E.peerProgress,size:"mini"},null,8,["percent"])]),_:2},1032,["content"])]),_:2},1024)]),peerId:r(({record:E})=>[z("p",null,[g(m(E.peerId)+" ",1),l(ee,{content:E.peerClientName},{default:r(()=>[l(oe)]),_:2},1032,["content"])])]),torrentSize:r(({record:E})=>[l(ee,{content:`Hash: ${E.torrentInfoHash}`},{default:r(()=>[z("p",null,m(u(me)(E.torrentSize)),1)]),_:2},1032,["content"])]),_:1},8,["data","loading","pagination","onPageChange","onPageSizeChange"])}}}),Ks=Q(Gs,[["__scopeId","data-v-2fe0735c"]]),Ys=N({__name:"index",setup(e){return(t,n)=>{const o=G,a=O;return k(),C(a,{direction:"vertical",fill:""},{default:r(()=>[l(o,{style:{"font-size":"1.2em"}},{default:r(()=>[g(m(t.$t("page.banlog.description")),1)]),_:1}),l(Ks)]),_:1})}}});async function Js(e){const t=M();await t.serverAvailable;const n=new URL(Z(t.endpoint,"api/bans/ranks"),location.href);return n.searchParams.set("limit",String(e)),fetch(n,{headers:X()}).then(o=>(t.assertResponseLogin(o),o.json()))}const Zs={class:"search-box"},Xs=N({__name:"top50Table",props:{topNumber:{type:Number,required:!0}},setup(e){const t=re(),n=M(),{t:o}=R(),a=[{title:()=>o("page.topban.top50Table.column.ipaddress"),dataIndex:"address",filterable:{filter:(f,p)=>p.address.includes(f[0]),slotName:"ip-filter",icon:()=>an(zn)}},{title:()=>o("page.topban.top50Table.column.historyCount"),dataIndex:"count"}],i=e,s=T(()=>i.topNumber),{data:c,loading:d,refresh:h}=ce(()=>Js(s.value),{pollingInterval:T(()=>t.pollingInterval),onSuccess:t.renewLastUpdate,cacheKey:()=>`${n.endpoint}-topban-${s.value}`});return ne([s,()=>n.endpoint],()=>{h()}),(f,p)=>{const b=Lt,$=O,_=Le;return k(),C(_,{stripe:"","sticky-header":"",columns:a,data:u(c),"column-resizable":"",loading:u(d),pagination:{showPageSize:!0},"filter-icon-align-left":""},{"ip-filter":r(({filterValue:v,setFilterValue:I,handleFilterConfirm:y,handleFilterReset:L})=>[z("div",Zs,[l($,{direction:"vertical"},{default:r(()=>[l(b,{"model-value":v[0],placeholder:u(o)("page.topban.top50Table.searchPlaceholder"),"allow-clear":"",onSearch:y,onClear:L,onInput:S=>I([S])},null,8,["model-value","placeholder","onSearch","onClear","onInput"])]),_:2},1024)])]),_:1},8,["data","loading"])}}}),Qs=Q(Xs,[["__scopeId","data-v-46249714"]]),er=N({__name:"index",setup(e){const t=P(50);return(n,o)=>{const a=G,i=ke,s=Nt,c=Pt,d=jn,h=Mn,f=O;return k(),A(ue,null,[l(a,{style:{"font-size":"1.2em"}},{default:r(()=>[g(m(n.$t("page.topban.description")),1)]),_:1}),l(c,null,{default:r(()=>[l(i,{heading:3},{default:r(()=>[g(m(n.$t("page.topban.title",{topNumber:t.value})),1)]),_:1}),l(s,null,{default:r(()=>[g(m(n.$t("page.topban.usage")),1)]),_:1})]),_:1}),l(f,{fill:"",direction:"vertical"},{default:r(()=>[l(f,null,{default:r(()=>[l(a,null,{default:r(()=>[g(m(n.$t("page.topban.onlyShow")),1)]),_:1}),l(h,{modelValue:t.value,"onUpdate:modelValue":o[0]||(o[0]=p=>t.value=p),"trigger-props":{autoFitPopupMinWidth:!0}},{default:r(()=>[l(d,{value:10},{default:r(()=>[g("10")]),_:1}),l(d,{value:20},{default:r(()=>[g("20")]),_:1}),l(d,{value:30},{default:r(()=>[g("30")]),_:1}),l(d,{value:40},{default:r(()=>[g("40")]),_:1}),l(d,{value:50},{default:r(()=>[g("50")]),_:1})]),_:1},8,["modelValue"]),l(a,null,{default:r(()=>[g(m(n.$t("page.topban.onlyShow.number")),1)]),_:1})]),_:1}),l(Qs,{"top-number":t.value},null,8,["top-number"])]),_:1})],64)}}});async function tr(){const e=M();await e.serverAvailable;const t=new URL(Z(e.endpoint,"api/statistic/rules"),location.href);return fetch(t,{headers:X()}).then(n=>(e.assertResponseLogin(n),n.json()))}const nr={class:"search-box"},ar=N({__name:"ruleMetricsTable",setup(e){const t=re(),{t:n}=R(),o=M(),{data:a,refresh:i,loading:s}=ce(tr,{pollingInterval:T(()=>t.pollingInterval),onSuccess:t.renewLastUpdate,cacheKey:()=>`${o.endpoint}-ruleStatic`}),c=h=>{var f;return(f=a.value)!=null&&f.dict[h]?Gt(h):"gray"},d=[{title:()=>n("page.ruleMetrices.metricsTable.column.type"),slotName:"type",width:200},{title:()=>n("page.ruleMetrices.metricsTable.column.type"),slotName:"ruleName",width:200},{title:()=>n("page.ruleMetrices.metricsTable.column.run"),dataIndex:"query",width:200},{title:()=>n("page.ruleMetrices.metricsTable.column.hit"),dataIndex:"hit",filterable:{filter:(h,f)=>h[0]==="yes"&&f.hit>0,slotName:"hit-filter"},width:200}];return ne(()=>o.endpoint,i),(h,f)=>{var y;const p=It,b=Je,$=G,_=zt,v=O,I=Le;return k(),C(I,{columns:d,data:(y=u(a))==null?void 0:y.data,size:"large",loading:u(s),"column-resizable":"","filter-icon-align-left":"",pagination:{showPageSize:!0}},{empty:r(()=>[l(p)]),type:r(({record:L})=>[l(b,{color:c(L.type)},{default:r(()=>{var S;return[g(m(((S=u(a))==null?void 0:S.dict[L.type])??L.type),1)]}),_:2},1032,["color"])]),ruleName:r(({record:L})=>[l($,{code:""},{default:r(()=>[g(m(L.metadata.rule),1)]),_:2},1024)]),"hit-filter":r(({filterValue:L,handleFilterConfirm:S,handleFilterReset:w})=>[z("div",nr,[l(v,null,{default:r(()=>[l(_,{modelValue:L[0],"onUpdate:modelValue":j=>L[0]=j,"checked-value":"yes","unchecked-value":"no",onChange:j=>j==="yes"?S():w()},null,8,["modelValue","onUpdate:modelValue","onChange"]),l($,null,{default:r(()=>[g(m(u(n)("page.ruleMetrices.metricsTable.filter")),1)]),_:1})]),_:2},1024)])]),_:1},8,["data","loading"])}}}),or=Q(ar,[["__scopeId","data-v-2b61e9f1"]]),sr=N({__name:"index",setup(e){return(t,n)=>{const o=ke,a=Nt,i=Pt;return k(),A(ue,null,[l(i,null,{default:r(()=>[l(o,{heading:3},{default:r(()=>[g(m(t.$t("page.ruleMetrices.title")),1)]),_:1}),l(a,null,{default:r(()=>[g(m(t.$t("page.ruleMetrices.description")),1)]),_:1})]),_:1}),l(or)],64)}}}),ot=[{path:"/dashboard",name:"dashboard",meta:{label:"router.dashboard"},component:Es},{path:"/list",name:"banlist",meta:{label:"router.banlist"},component:Vs},{path:"/log",name:"banlogs",meta:{label:"router.banlogs"},component:Ys},{path:"/top",name:"top",meta:{label:"router.topban"},component:er},{path:"/metrics",name:"rule_metrics",meta:{label:"router.ruleMetrics"},component:sr},{path:"/:pathMatch(.*)*",name:"not-found",meta:{hidden:!0,label:"404"},redirect:{name:"dashboard"}}];let Te=location.pathname;var wt;for(const e of ot)if(!((wt=e.meta)!=null&&wt.hidden)&&Te.endsWith(e.path)){Te=Te.slice(0,-e.path.length);break}const rr=on({history:sn(Te),routes:ot});function lr(){const e=rn(),t=ln(),n=i=>{e.replace({name:`${i}`})},o=T(()=>ot.filter(i=>{var s;return!((s=i.meta)!=null&&s.hidden)})),a=T(()=>t.name);return[o,a,n]}const ir=["href"],cr={key:1},ur=N({__name:"pageFooter",setup(e){const{t}=R(),n="1.5.1",o=`a74410630b2dcca66a1aa638c352530a38f7f466
`,a=M(),i=T(()=>a.serverVersion),s=T(()=>a.latestVersion),c=T(()=>{var d,h;return Ft(((d=a.latestVersion)==null?void 0:d.tagName)??"1.0",((h=a.serverVersion)==null?void 0:h.version)??"1.0",">")});return ne(()=>a.checkUpgradeError,d=>{he.error(`${t("settings.accessToken.error")},error:${d}`)}),(d,h)=>{const f=En,p=et,b=O,$=Ze,_=Xe,v=Ke,I=Ye;return k(),C(I,{align:"center",justify:"center"},{default:r(()=>[l(v,{class:"footer"},{default:r(()=>[l(_,{column:{xs:1,md:3,lg:4}},{default:r(()=>[l($,{label:"Backend Version"},{default:r(()=>[l(b,null,{default:r(()=>{var y,L,S;return[c.value?(k(),A("a",{key:0,href:(y=s.value)==null?void 0:y.url},[l(f,{dot:"",count:1,offset:[8,-1]},{default:r(()=>{var w;return[g(m((w=i.value)==null?void 0:w.version),1)]}),_:1})],8,ir)):(k(),A("div",cr,m((L=i.value)==null?void 0:L.version),1)),z("div",null,[g(" ("),l(p,{href:`https://github.com/Ghost-chu/PeerBanHelper/commit/${(S=i.value)==null?void 0:S.commit}`},{default:r(()=>{var w;return[g(m((w=i.value)==null?void 0:w.commit.substring(0,8)),1)]}),_:1},8,["href"]),g(") ")])]}),_:1})]),_:1}),l($,{label:"WebUI Version"},{default:r(()=>[l(b,null,{default:r(()=>[g(m(u(n))+" ",1),z("div",null,[g(" ("),l(p,{href:`https://github.com/Gaojianli/pbh-fe/commit/${u(o)}`},{default:r(()=>[g(m(u(o).substring(0,8)),1)]),_:1},8,["href"]),g(") ")])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}}}),dr=Q(ur,[["__scopeId","data-v-c8c6b32b"]]),pr=["innerHTML"],gr=N({__name:"settingsModal",setup(e,{expose:t}){const n=M(),o=re(),a=P(!1),i=T(()=>n.loading),s=T(()=>n.status==="fail"),c=P({endpoint:n.endpoint,interval:o.interval,accessToken:n.accessToken}),{t:d}=R();function h(){c.value.endpoint=n.endpoint,c.value.interval=o.interval}t({showModal:()=>{a.value=!0,h()}});const f=()=>{if(!i.value)return o.interval=c.value.interval,n.setAccessToken(c.value.accessToken),n.setEndpoint(c.value.endpoint)};ne(()=>n.error,$=>{se.is($)?p():ge.is($)?(he.error(d($.message)),!a.value&&$.isApiWrong&&(a.value=!0,h())):$&&(he.error(`${d("settings.endpoint.error")},error:${$}`),a.value||(a.value=!0,h()))},{immediate:!0});const p=()=>{a.value=!1,h()},b=Qe(P({sm:0,md:1}),1);return($,_)=>{const v=An,I=jt,y=Un,L=Mt,S=$t;return k(),C(S,{"modal-style":{"max-width":"80vw"},visible:a.value,"onUpdate:visible":_[3]||(_[3]=w=>a.value=w),onBeforeOk:f,onCancel:p,closable:!s.value,maskClosable:!s.value,"hide-cancel":s.value,"ok-loading":i.value},{title:r(()=>[g(m(u(d)("settings.modal.title")),1)]),default:r(()=>[l(L,{model:c.value,onSubmit:f,layout:["vertical","horizontal"][u(b)],"label-col-props":{span:6},"wrapper-col-props":{span:18}},{default:r(()=>[l(I,{field:"endpoint",label:"Endpoint:",tooltip:u(d)("settings.modal.endpointTips"),"validate-trigger":"input"},{default:r(()=>[l(v,{modelValue:c.value.endpoint,"onUpdate:modelValue":_[0]||(_[0]=w=>c.value.endpoint=w),placeholder:"http://localhost:8989","allow-clear":""},null,8,["modelValue"])]),_:1},8,["tooltip"]),l(I,{field:"interval",label:u(d)("settings.modal.pollInterval"),"validate-trigger":"input"},{default:r(()=>[l(y,{modelValue:c.value.interval,"onUpdate:modelValue":_[1]||(_[1]=w=>c.value.interval=w),placeholder:"3000",min:100,"hide-button":""},{suffix:r(()=>[g(" ms ")]),_:1},8,["modelValue"])]),_:1},8,["label"]),l(I,{field:"accessToken",label:"Access Token:","validate-trigger":"input"},{extra:r(()=>[z("div",{innerHTML:u(d)("settings.modal.accessTokenTips")},null,8,pr)]),default:r(()=>[l(v,{modelValue:c.value.accessToken,"onUpdate:modelValue":_[2]||(_[2]=w=>c.value.accessToken=w),"allow-clear":""},null,8,["modelValue"])]),_:1})]),_:1},8,["model","layout"])]),_:1},8,["visible","closable","maskClosable","hide-cancel","ok-loading"])}}}),mr=Q(gr,[["__scopeId","data-v-48e021dd"]]);function hr(){const e=R({useScope:"global"});return{changeLocale:n=>{var o;e.locale.value===n||!e.availableLocales.includes(n)||(e.locale.value=n,(o=document.querySelector("html"))==null||o.setAttribute("lang",n),he.success(e.t("navbar.action.locale")))}}}const fr={class:"lang-selector"},br=N({__name:"pageHeader",setup(e){const{t,d:n,locale:o}=R(),{changeLocale:a}=hr(),i=[...Lo],s=re(),c=cn({selector:"body",attribute:"arco-theme",valueDark:"dark",valueLight:"light",storageKey:null}),d=P(),h=un(c),f=()=>{h()};return(p,b)=>{const $=Ct,_=G,v=zt,I=Fa,y=Et,L=Ie,S=Rn,w=Bn,j=xn,x=Na,B=xa,ae=$a,le=O,ee=On;return k(),A(ue,null,[l(ee,{title:"PeerBanHelper","show-back":!1},{extra:r(()=>[l(le,{class:"right-side",wrap:""},{default:r(()=>{var oe;return[l(_,null,{default:r(()=>[l($),g(" "+m(u(t)("navbar.action.autoUpdate.lastUpdate"))+m(u(n)(u(s).lastUpdate,"longlong")),1)]),_:1}),l(v,{modelValue:u(s).autoUpdate,"onUpdate:modelValue":b[0]||(b[0]=D=>u(s).autoUpdate=D)},null,8,["modelValue"]),l(_,null,{default:r(()=>[g(m(u(t)("navbar.action.autoUpdate")),1)]),_:1}),z("div",fr,[l(j,{trigger:"click",onSelect:b[1]||(b[1]=D=>u(a)(D))},{content:r(()=>[(k(),A(ue,null,Ge(i,D=>l(w,{key:D.value,value:D.value},{icon:r(()=>[dn(l(S,null,null,512),[[pn,D.value===u(o)]])]),default:r(()=>[g(" "+m(D.label),1)]),_:2},1032,["value"])),64))]),default:r(()=>[l(L,{content:u(t)("settings.language")},{default:r(()=>[l(y,{class:"nav-btn",type:"outline",shape:"circle"},{icon:r(()=>[l(I)]),_:1})]),_:1},8,["content"])]),_:1})]),l(L,{content:u(c)?u(t)("settings.navbar.theme.toLight"):u(t)("settings.navbar.theme.toDark")},{default:r(()=>[l(y,{class:"nav-btn",type:"outline",shape:"circle",onClick:f},{icon:r(()=>[u(c)?(k(),C(x,{key:0})):(k(),C(B,{key:1}))]),_:1})]),_:1},8,["content"]),l(y,{class:"nav-btn",type:"outline",shape:"circle",status:"normal",onClick:(oe=d.value)==null?void 0:oe.showModal},{icon:r(()=>[l(ae)]),_:1},8,["onClick"])]}),_:1})]),_:1}),l(mr,{ref_key:"settingsModalRef",ref:d},null,512)],64)}}}),_r=Q(br,[["__scopeId","data-v-b8fcc0e7"]]),vr=N({__name:"index",setup(e){const t=M(),{t:n}=R(),o=P(!1),a=P({rememberPassword:!0,token:t.authToken}),i=P(),s=async({errors:c,values:d})=>{var b,$,_;const h=c?Object.keys(c):[];if(h.length>0){(b=i.value)==null||b.scrollToField(h[0]);return}const{token:f,rememberPassword:p}=d;if(!o.value){o.value=!0,($=i.value)==null||$.setFields({token:{status:"validating",message:""}});try{await t.setAuthToken(f,p),he.success(n("login.form.login.success"))}catch(v){(_=i.value)==null||_.setFields({token:{status:"error",message:`${n("login.form.login.failed")}  ${v.message}`}})}finally{o.value=!1}}};return(c,d)=>{const h=ke,f=oo,p=Dn,b=jt,$=qn,_=et,v=Et,I=Mt,y=O,L=Ke,S=Ye;return k(),C(S,{justify:"center"},{default:r(()=>[l(L,{xs:24,sm:20,md:16,lg:12,xl:8},{default:r(()=>[l(y,{direction:"vertical",fill:""},{default:r(()=>[l(h,{heading:3},{default:r(()=>[g(m(c.$t("login.form.title")),1)]),_:1}),l(I,{ref_key:"loginForm",ref:i,model:a.value,class:"login-form",layout:"vertical",onSubmit:s},{default:r(()=>[l(b,{field:"token",rules:[{required:!0,message:c.$t("login.form.password.errMsg")}],"validate-trigger":["change","input"],"hide-label":""},{default:r(()=>[l(p,{modelValue:a.value.token,"onUpdate:modelValue":d[0]||(d[0]=w=>a.value.token=w),placeholder:c.$t("login.form.password.placeholder"),"allow-clear":""},{prefix:r(()=>[l(f)]),_:1},8,["modelValue","placeholder"])]),_:1},8,["rules"]),l(b,{field:"rememberPassword",class:"login-form-password-actions"},{default:r(()=>[l($,{checked:"rememberPassword","model-value":a.value.rememberPassword},{default:r(()=>[g(m(c.$t("login.form.rememberPassword")),1)]),_:1},8,["model-value"]),l(_,{style:{marginLeft:"auto"},href:"https://github.com/PBH-BTN/PeerBanHelper/wiki/%E5%A6%82%E4%BD%95%E9%87%8D%E7%BD%AEToken"},{default:r(()=>[g(m(c.$t("login.form.forgetPassword")),1)]),_:1})]),_:1}),l(v,{type:"primary","html-type":"submit",long:"",loading:o.value},{default:r(()=>[g(m(c.$t("login.form.login")),1)]),_:1},8,["loading"])]),_:1},8,["model"])]),_:1})]),_:1})]),_:1})}}}),yr=N({__name:"App",setup(e){const t=M(),n=T(()=>t.status),{t:o,locale:a}=R(),[i,s,c]=lr();return(d,h)=>{const f=Fn,p=Vn,b=Jn,$=Wn,_=Gn,v=O,I=Kn,y=Yn,L=Hn;return k(),C(L,{locale:u(Co)[u(a)]},{default:r(()=>[l(y,null,{default:r(()=>[l(f,null,{default:r(()=>[l(_r)]),_:1}),n.value==="needLogin"?(k(),C(p,{key:0,class:"login-page"},{default:r(()=>[l(vr,{style:{width:"100%","max-width":"1200px",margin:"auto"}})]),_:1})):(k(),C(p,{key:1},{default:r(()=>[l(v,{direction:"vertical",fill:"",style:{width:"100%","max-width":"1200px",margin:"auto"}},{default:r(()=>[l($,{"active-key":u(s),onChange:u(c),size:"large",animation:!0,"destroy-on-hide":!0,"lazy-load":!0},{default:r(()=>[(k(!0),A(ue,null,Ge(u(i),S=>{var w;return k(),C(b,{key:S.name,title:u(o)(String((w=S.meta)==null?void 0:w.label))},{default:r(()=>[(k(),C(gn(S.component)))]),_:2},1032,["title"])}),128))]),_:1},8,["active-key","onChange"]),l(_)]),_:1})]),_:1})),l(I,null,{default:r(()=>[l(dr)]),_:1})]),_:1})]),_:1},8,["locale"])}}}),kr=Q(yr,[["__scopeId","data-v-a32dc683"]]),we=mn(kr);he._context=we._context;hn({loadingDelay:400,loadingKeep:1e3,pollingWhenOffline:!0});we.use(fn());we.use(Io);we.use(rr);we.mount("#app");
