var cn=Object.defineProperty;var un=(e,t,n)=>t in e?cn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var O=(e,t,n)=>(un(e,typeof t!="symbol"?t+"":t,n),n);import{$ as dn,a0 as jt,a1 as we,r as N,G as le,c as L,d as P,a2 as x,a3 as ie,f as k,p as I,B as r,x as g,M as h,a4 as c,u as l,h as A,n as X,k as G,l as j,q as Z,w as re,F as de,N as at,a5 as pn,a6 as mn,o as gn,a7 as fn,a8 as bn,a9 as At,aa as hn,j as _n,a as Et,ab as vn,ac as yn,ad as kn,ae as Rt,af as wn,ag as Sn,J as $n,K as Tn,L as Ln,_ as In,ah as Cn,ai as Nn}from"./libs-DQ8Nf-LA.js";import{d as Pn,l as Mn,T as K,P as xt,S as q,a as he,M as Te,_ as Q,g as ee,i as te,b as _e,c as Ot,e as Bt,f as Le,h as Ie,D as ot,I as zn,j as Un,k as jn,m as An,B as Ce,n as st,C as rt,o as lt,R as it,p as En,G as Rn,q as xn,u as ct,L as ut,r as Dt,s as On,E as qt,t as Bn,v as Dn,w as Vt,x as qn,y as Ht,z as Ft,O as Vn,A as Hn,F as dt,H as F,J as Wt,K as Ue,N as Fn,Q as je,U as Gt,V as Wn,W as Gn,X as Kn,Y as Jn,Z as Yn,$ as Zn,a0 as Xn,a1 as Qn,a2 as ea,a3 as ta,a4 as na,a5 as aa,a6 as oa,a7 as sa,a8 as ra,a9 as la,aa as ia,ab as ca,ac as ua,ad as da}from"./arcoDesign-BU5r-WLy.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&a(s)}).observe(document,{childList:!0,subtree:!0});function n(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function a(o){if(o.ep)return;o.ep=!0;const i=n(o);fetch(o.href,i)}})();function pa(e){var t=[];if(e.length===0)return"";if(typeof e[0]!="string")throw new TypeError("Url must be a string. Received "+e[0]);if(e[0].match(/^[^/:]+:\/*$/)&&e.length>1){var n=e.shift();e[0]=n+e[0]}e[0].match(/^file:\/\/\//)?e[0]=e[0].replace(/^([^/:]+):\/*/,"$1:///"):e[0]=e[0].replace(/^([^/:]+):\/*/,"$1://");for(var a=0;a<e.length;a++){var o=e[a];if(typeof o!="string")throw new TypeError("Url must be a string. Received "+o);o!==""&&(a>0&&(o=o.replace(/^[\/]+/,"")),a<e.length-1?o=o.replace(/[\/]+$/,""):o=o.replace(/[\/]+$/,"/"),t.push(o))}var i=t.join("/");i=i.replace(/\/(\?|&|#[^!])/g,"$1");var s=i.split("?");return i=s.shift()+(s.length>0?"?":"")+s.join("&"),i}function B(){var e;return typeof arguments[0]=="object"?e=arguments[0]:e=[].slice.call(arguments),pa(e)}const Me={formatYear:"YYYY",formatMonth:"MMM YYYY",today:"Today",view:{month:"Month",year:"Year",week:"Week",day:"Day"},month:{long:{January:"January",February:"February",March:"March",April:"April",May:"May",June:"June",July:"July",August:"August",September:"September",October:"October",November:"November",December:"December"},short:{January:"Jan",February:"Feb",March:"Mar",April:"Apr",May:"May",June:"Jun",July:"Jul",August:"Aug",September:"Sept",October:"Oct",November:"Nov",December:"Dec"}},week:{long:{self:"Week",monday:"Monday",tuesday:"Tuesday",wednesday:"Wednesday",thursday:"Thursday",friday:"Friday",saturday:"Saturday",sunday:"Sunday"},short:{self:"Week",monday:"Mon",tuesday:"Tue",wednesday:"Wed",thursday:"Thu",friday:"Fri",saturday:"Sat",sunday:"Sun"}}},ma={locale:"en-US",empty:{description:"No Data"},drawer:{okText:"Ok",cancelText:"Cancel"},popconfirm:{okText:"Ok",cancelText:"Cancel"},modal:{okText:"Ok",cancelText:"Cancel"},pagination:{goto:"Goto",page:"Page",countPerPage:" / Page",total:"Total: {0}"},table:{okText:"Ok",resetText:"Reset"},upload:{start:"Start",cancel:"Cancel",delete:"Delete",retry:"Click to retry",buttonText:"Upload",preview:"Preview",drag:"Click or drag file to this area to upload",dragHover:"Release to upload",error:"Upload Error"},calendar:Me,datePicker:{view:Me.view,month:Me.month,week:Me.week,placeholder:{date:"Please select date",week:"Please select week",month:"Please select month",year:"Please select year",quarter:"Please select quarter",time:"Please select time"},rangePlaceholder:{date:["Start date","End date"],week:["Start week","End week"],month:["Start month","End month"],year:["Start year","End year"],quarter:["Start quarter","End quarter"],time:["Start time","End time"]},selectTime:"Select time",today:"Today",now:"Now",ok:"Ok"},image:{loading:"loading"},imagePreview:{fullScreen:"Full Screen",rotateRight:"Rotate Right",rotateLeft:"Rotate Left",zoomIn:"Zoom In",zoomOut:"Zoom Out",originalSize:"Original Size"},typography:{copied:"Copied",copy:"Copy",expand:"Expand",collapse:"Collapse",edit:"Edit"},form:{validateMessages:Pn},colorPicker:{history:"History Colors",preset:"Preset Colors",empty:"Empty"}},ga={"settings.navbar.theme.toLight":"Click to use light mode","settings.navbar.theme.toDark":"Click to use dark mode","settings.language":"Language","settings.modal.title":"Settings","settings.modal.endpointTips":"If you can't access the backend of the PBH, you can try to set the Endpoint here","settings.modal.accessTokenTips":'You can set the <a href="https://github.com/settings/tokens">access token</a> at here',"settings.modal.pollInterval":"Polling interval:","settings.endpoint.error":"Cannot connect to the backend, please check the Endpoint settings","settings.accessToken.error":"Failed to get version, please check your network or try to set the access token in settings."},fa={"page.dashboard.description":"This page displays the basic data since PeerBanHelper started.","page.dashboard.clientStatus.title":"Connected Downloaders","page.dashboard.clientStatus.card.title":"Downloader Status","page.dashboard.clientStatus.card.status":"Status","page.dashboard.clientStatus.card.type":"Type","page.dashboard.clientStatus.card.status.normal":"Normal - Status is good","page.dashboard.clientStatus.card.status.error":"Error - Error occurred when communicating with the client, please check the log file","page.dashboard.clientStatus.card.status.unknown":"Unknown - PeerBanHelper may not have communicated with this client yet","page.dashboard.clientStatus.card.status.torrentNumber":"Active Torrents","page.dashboard.clientStatus.card.status.peerNumber":"Connected Peers","page.dashboard.statics.currentStatus":"Current Status","page.dashboard.statics.checked":"Total checked","page.dashboard.statics.times":"times","page.dashboard.statics.banPeer":"Ban Peers","page.dashboard.statics.unbanPeer":"Unban Peers","page.dashboard.statics.currentBan":"Currently banned Peers","page.dashboard.statics.number":"","page.dashboard.torrentList.title":"Active Torrent List","page.dashboard.torrentList.tips":"Click to view the active torrent list","page.dashboard.torrentList.column.name":"Name","page.dashboard.torrentList.column.size":"Size","page.dashboard.torrentList.column.hash":"Hash","page.dashboard.torrentList.column.progress":"Progress"},ba={"page.banlist.banlist":"Ban List","page.banlist.banlist.description":"Following is the ban list (sorted by time descending)","page.banlist.banlist.searchPlaceHolder":"Search an IP address","page.banlist.banlist.listItem.reserveDNSLookup":"Reverse DNS Lookup","page.banlist.banlist.listItem.banTime":"Ban Time","page.banlist.banlist.listItem.expireTime":"Unban Time","page.banlist.banlist.listItem.location":"Torrent","page.banlist.banlist.listItem.snapshot":"Snapshot","page.banlist.banlist.listItem.reason":"Ban Reason","page.banlist.banlist.listItem.geo":"Geo Location","page.banlist.banlist.listItem.asn":"ASN","page.banlist.banlist.listItem.asn.subnet":"ASN Subnet: ","page.banlist.banlist.listItem.empty":"Empty","page.banlist.banlist.bottomReached":"No more data!"},ha={"page.banlog.description":"This page shows the ban log information stored by PeerBanHelper.","page.banlog.banlogTable.notUnbanned":"Not Unbanned yet","page.banlog.banlogTable.column.banTime":"Ban Time","page.banlog.banlogTable.column.unbanTime":"Unban Time","page.banlog.banlogTable.column.peerAddress":"Peer Address","page.banlog.banlogTable.column.peerId":"Peer ID","page.banlog.banlogTable.column.trafficSnapshot":"Traffic Snapshot","page.banlog.banlogTable.column.torrentName":"Torrent Name","page.banlog.banlogTable.column.torrentSize":"Size","page.banlog.banlogTable.column.description":"Description"},_a={"page.topban.description":"This page shows the ban history stored by PeerBanHelper.","page.topban.title":"Top {topNumber} most frequently banned IP addresses","page.topban.usage":"This data is analyzed from the ban history recorded in the database in the past 14 days. If some IP addresses are repeatedly banned, you may consider using the system firewall to block these IPs, or share these malicious IP addresses with others to help more people improve their blocking rules.","page.topban.onlyShow":"Only show the first","page.topban.onlyShow.number":"","page.topban.top50Table.searchPlaceholder":"Search IP address...","page.topban.top50Table.column.ipaddress":"IP Address","page.topban.top50Table.column.historyCount":"History Ban Count"},va={"page.ruleMetrices.title":"Rule metrics","page.ruleMetrices.description":"The following is the rule statistics information, you can improve your rule through following information.","page.ruleMetrices.metricsTable.filter":"Show hit rules only","page.ruleMetrices.metricsTable.column.type":"Rule Type","page.ruleMetrices.metricsTable.column.content":"Rule Content","page.ruleMetrices.metricsTable.column.run":"Run Times","page.ruleMetrices.metricsTable.column.hit":"Hit Times"},ya={"service.manifest.networkError":"Network failure, unable to initiate request","service.manifest.parseError":"Unable to parse the data, please check whether the endpoint is correct","service.manifest.formatError":"The response format is incorrect, please check the backend version"},ka={"login.form.login.success":"Login success","login.form.title":"Login to PeerBanHelper","login.form.password.placeholder":"Please enter the management token","login.form.rememberPassword":"Remember token","login.form.forgetPassword":"Forget token","login.form.password.errMsg":"Please enter the management token","login.form.login.failed":"Login Failed:","login.form.login":"Login"},wa={"page.ruleSubscribe.description":"You can manage online rules subscriptions here.","page.ruleSubscribe.addRule":"Add Subscription","page.ruleSubscribe.updateAll":"Update all","page.ruleSubscribe.settingsTips":"Auto update settings","page.ruleSubscribe.updateLog":"Update Log","page.ruleSubscribe.column.ruleName":"Rule Name","page.ruleSubscribe.column.lastUpdated":"Last Updated","page.ruleSubscribe.column.notUpdated":"Never","page.ruleSubscribe.column.status":"Enabled","page.ruleSubscribe.column.actions":"Actions","page.ruleSubscribe.column.actions.edit":"Edit","page.ruleSubscribe.column.actions.update":"Update","page.ruleSubscribe.editModal.title":"Edit Rule","page.ruleSubscribe.editModal.title.new":"New Rule","page.ruleSubscribe.editModal.form.name":"Rule Name","page.ruleSubscribe.editModal.form.id.extra":"Rule ID, should be unique","page.ruleSubscribe.editModal.form.name.required":"Please input rule name","page.ruleSubscribe.column.rulesCount":"Rules","page.ruleSubscribe.column.deleteConfirm":"Are you sure you want to delete?","page.ruleSubscribe.settingsModal.title":"Subscribe Settings","page.ruleSubscribe.settingsModal.checkInterval":"Update Interval","page.ruleSubscribe.updateLog.updateTime":"Update at","page.ruleSubscribe.updateLog.ruleCount":"Rules Count","page.ruleSubscribe.updateLog.updateType":"Type"},Sa={"navbar.action.locale":"Switch to English","navbar.action.autoUpdate":"Auto Update","navbar.action.autoUpdate.lastUpdate":"Last updated at: ","main.workInProgressTips":"This feature is still working in progress, and the data currently recorded and displayed is relatively limited","router.login":"Login","router.dashboard":"Status","router.banlist":"Ban List","router.banlogs":"Ban Logs","router.topban":"Top Bans","router.ruleMetrics":"Rule Metrics","router.ruleSubscribe":"Rule Subscription","router.moduleNotEnable":"{moduleName} is not enabled","router.moduleNotEnable.tips":"Please enable the feature in the configuration file","router.moduleNotEnable.viewDoc":"View Documentation",...ga,...fa,...ba,...ha,..._a,...va,...ya,...ka,...wa},$a={"settings.navbar.theme.toLight":"点击切换为亮色模式","settings.navbar.theme.toDark":"点击切换为暗黑模式","settings.language":"语言","settings.modal.title":"设置","settings.modal.endpointTips":"如果你无法访问PBH后端，可以尝试在此设置Endpoint","settings.modal.pollInterval":"轮询间隔：","settings.endpoint.error":"无法连接到后端，请检查Endpoint设置","settings.modal.accessTokenTips":'你可以在这里填写 <a href="https://github.com/settings/tokens">Github Access Token</a>',"settings.accessToken.error":"无法获取版本信息，请检查网络或尝试在设置中设置访问令牌"},Ta={"page.dashboard.description":"此页面展示 PeerBanHelper 自启动以来的基本数据。","page.dashboard.clientStatus.title":"已连接的下载器","page.dashboard.clientStatus.card.title":"下载器状态","page.dashboard.clientStatus.card.status":"状态","page.dashboard.clientStatus.card.type":"类型","page.dashboard.clientStatus.card.status.normal":"正常 - 状态良好","page.dashboard.clientStatus.card.status.error":"错误 - 与客户端通信时出错，请检查日志文件","page.dashboard.clientStatus.card.status.unknown":"未知 - PeerBanHelper 可能还没有与此客户端通信","page.dashboard.clientStatus.card.status.torrentNumber":"活动种子数","page.dashboard.clientStatus.card.status.peerNumber":"已连接的Peers","page.dashboard.statics.currentStatus":"当前状态","page.dashboard.statics.checked":"共检查","page.dashboard.statics.times":"次","page.dashboard.statics.banPeer":"封禁Peer","page.dashboard.statics.unbanPeer":"解除已到期的封禁","page.dashboard.statics.currentBan":"当前处于封禁状态Peer","page.dashboard.statics.number":"个","page.dashboard.torrentList.title":"活动种子列表","page.dashboard.torrentList.tips":"点击查看活动种子列表","page.dashboard.torrentList.column.name":"名称","page.dashboard.torrentList.column.size":"大小","page.dashboard.torrentList.column.hash":"Hash","page.dashboard.torrentList.column.progress":"进度"},La={"page.banlist.banlist":"封禁名单","page.banlist.banlist.description":"以下是封禁列表（按时间倒序排列）","page.banlist.banlist.searchPlaceHolder":"搜索 IP 地址","page.banlist.banlist.listItem.reserveDNSLookup":"反向 DNS 解析","page.banlist.banlist.listItem.banTime":"封禁时间","page.banlist.banlist.listItem.expireTime":"预计解封时间","page.banlist.banlist.listItem.location":"发现位置","page.banlist.banlist.listItem.snapshot":"封禁快照","page.banlist.banlist.listItem.reason":"封禁原因","page.banlist.banlist.listItem.geo":"地理位置","page.banlist.banlist.listItem.asn":"ASN","page.banlist.banlist.listItem.asn.subnet":"子网：","page.banlist.banlist.listItem.empty":"空","page.banlist.banlist.bottomReached":"已经到底啦！"},Ia={"page.banlog.description":" 此页面展示 PeerBanHelper 储存的封禁历史记录信息。","page.banlog.banlogTable.notUnbanned":"未解封","page.banlog.banlogTable.column.banTime":"封禁时间","page.banlog.banlogTable.column.unbanTime":"解封时间","page.banlog.banlogTable.column.peerAddress":"Peer 地址","page.banlog.banlogTable.column.peerId":"Peer ID","page.banlog.banlogTable.column.trafficSnapshot":"流量快照","page.banlog.banlogTable.column.torrentName":"种子名","page.banlog.banlogTable.column.torrentSize":"大小","page.banlog.banlogTable.column.description":"描述"},Ca={"page.topban.description":"此页面展示 PeerBanHelper 储存的封禁历史记录信息。","page.topban.title":"被封禁频率最高的{topNumber}个 IP 地址","page.topban.usage":"这是从数据库中记录的近14天的封禁历史中分析得来的数据。如果某些 IP 地址持续被多次封禁，则可以考虑使用系统防火墙屏蔽这些 IP，或者向其他人分享这些恶意 IP 地址，以帮助更多人改善他们的屏蔽规则。","page.topban.onlyShow":"只展示前","page.topban.onlyShow.number":"个","page.topban.top50Table.searchPlaceholder":"搜索IP地址...","page.topban.top50Table.column.ipaddress":"IP 地址","page.topban.top50Table.column.historyCount":"历史封禁次数"},Na={"page.ruleMetrices.title":"规则统计","page.ruleMetrices.description":"以下是规则统计信息，你可以通过规则命中次数（封禁次数）和运行次数来评估规则的有效性。","page.ruleMetrices.metricsTable.filter":"仅显示命中过的规则","page.ruleMetrices.metricsTable.column.type":"规则类型","page.ruleMetrices.metricsTable.column.content":"规则内容","page.ruleMetrices.metricsTable.column.run":"运行次数","page.ruleMetrices.metricsTable.column.hit":"命中次数"},Pa={"service.manifest.networkError":"网络故障，无法发起请求","service.manifest.parseError":"无法解析接口返回数据，请检查服务地址是否正确","service.manifest.formatError":"后端接口响应格式错误，请检查后端版本"},Ma={"login.form.login.success":"登录成功","login.form.title":"登录到 PeerBanHelper","login.form.password.placeholder":"请输入管理 Token","login.form.rememberPassword":"记住 Token","login.form.forgetPassword":"忘记 Token","login.form.password.errMsg":"请输入管理 Token","login.form.login.failed":"登录失败：","login.form.login":"登录"},za={"page.ruleSubscribe.description":"你可以在此处管理订阅的在线规则","page.ruleSubscribe.updateAll":"更新全部","page.ruleSubscribe.settingsTips":"自动更新设置","page.ruleSubscribe.updateLog":"更新记录","page.ruleSubscribe.column.ruleName":"规则名称","page.ruleSubscribe.column.lastUpdated":"最后更新","page.ruleSubscribe.column.notUpdated":"无","page.ruleSubscribe.column.status":"启用状态","page.ruleSubscribe.column.actions":"操作","page.ruleSubscribe.column.actions.edit":"编辑","page.ruleSubscribe.column.actions.update":"更新","page.ruleSubscribe.editModal.title":"编辑规则","page.ruleSubscribe.editModal.title.new":"新建规则","page.ruleSubscribe.editModal.form.name":"规则名称","page.ruleSubscribe.editModal.form.id.extra":"规则ID，不允许重复","page.ruleSubscribe.editModal.form.name.required":"请输入规则名称","page.ruleSubscribe.addRule":"新增订阅","page.ruleSubscribe.column.rulesCount":"规则数量","page.ruleSubscribe.column.deleteConfirm":"确定删除这条规则吗？","page.ruleSubscribe.settingsModal.title":"订阅设置","page.ruleSubscribe.settingsModal.checkInterval":"更新间隔","page.ruleSubscribe.updateLog.updateTime":"更新时间","page.ruleSubscribe.updateLog.ruleCount":"规则数量","page.ruleSubscribe.updateLog.updateType":"更新类型"},Ua={"navbar.action.locale":"切换为中文","navbar.action.autoUpdate":"自动刷新","navbar.action.autoUpdate.lastUpdate":"最后更新于：","main.workInProgressTips":"请注意，此功能仍在施工中，目前记录和展示的数据较为有限。","router.login":"登录","router.dashboard":"状态","router.banlist":"封禁名单","router.banlogs":"封禁日志","router.topban":"最多封禁","router.ruleMetrics":"规则统计","router.ruleSubscribe":"规则订阅","router.moduleNotEnable":"{moduleName}功能未启用","router.moduleNotEnable.tips":"请在配置文件中开启相关功能","router.moduleNotEnable.viewDoc":"查看文档",...$a,...Ta,...La,...Ia,...Ca,...Na,...Pa,...Ma,...za},ja=[{label:"中文",value:"zh-CN"},{label:"English",value:"en-US"}];function Kt(){return navigator.language.includes("zh")?"zh-CN":"en-US"}const ht={short:{year:"numeric",month:"short",day:"numeric"},long:{year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric"},longlong:{year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"}},Aa=dn({locale:Kt(),fallbackLocale:"en-US",legacy:!1,messages:{"en-US":Sa,"zh-CN":Ua},datetimeFormats:{"en-US":ht,"zh-CN":ht}}),Ea={"en-US":ma,"zh-CN":Mn};function D(e=!0){var o;const{authToken:t}=z(),n=((o=document.querySelector("html"))==null?void 0:o.getAttribute("lang"))||Kt(),a=new Headers;return a.set("Accept-Language",n),e&&a.set("Authorization",`Bearer ${t}`),a}function Ae(){return typeof navigator=="object"&&"userAgent"in navigator?navigator.userAgent:typeof process=="object"&&process.version!==void 0?`Node.js/${process.version.substr(1)} (${process.platform}; ${process.arch})`:"<environment undetectable>"}function pt(e,t,n,a){if(typeof n!="function")throw new Error("method for before hook must be a function");return a||(a={}),Array.isArray(t)?t.reverse().reduce((o,i)=>pt.bind(null,e,i,o,a),n)():Promise.resolve().then(()=>e.registry[t]?e.registry[t].reduce((o,i)=>i.hook.bind(null,o,a),n)():n(a))}function Ra(e,t,n,a){const o=a;e.registry[n]||(e.registry[n]=[]),t==="before"&&(a=(i,s)=>Promise.resolve().then(o.bind(null,s)).then(i.bind(null,s))),t==="after"&&(a=(i,s)=>{let u;return Promise.resolve().then(i.bind(null,s)).then(p=>(u=p,o(u,s))).then(()=>u)}),t==="error"&&(a=(i,s)=>Promise.resolve().then(i.bind(null,s)).catch(u=>o(u,s))),e.registry[n].push({hook:a,orig:o})}function xa(e,t,n){if(!e.registry[t])return;const a=e.registry[t].map(o=>o.orig).indexOf(n);a!==-1&&e.registry[t].splice(a,1)}const _t=Function.bind,vt=_t.bind(_t);function Jt(e,t,n){const a=vt(xa,null).apply(null,n?[t,n]:[t]);e.api={remove:a},e.remove=a,["before","error","after","wrap"].forEach(o=>{const i=n?[t,o,n]:[t,o];e[o]=e.api[o]=vt(Ra,null).apply(null,i)})}function Oa(){const e=Symbol("Singular"),t={registry:{}},n=pt.bind(null,t,e);return Jt(n,t,e),n}function Ba(){const e={registry:{}},t=pt.bind(null,e);return Jt(t,e),t}const Da={Singular:Oa,Collection:Ba};var qa="0.0.0-development",Va=`octokit-endpoint.js/${qa} ${Ae()}`,Ha={method:"GET",baseUrl:"https://api.github.com",headers:{accept:"application/vnd.github.v3+json","user-agent":Va},mediaType:{format:""}};function Fa(e){return e?Object.keys(e).reduce((t,n)=>(t[n.toLowerCase()]=e[n],t),{}):{}}function Wa(e){if(typeof e!="object"||e===null||Object.prototype.toString.call(e)!=="[object Object]")return!1;const t=Object.getPrototypeOf(e);if(t===null)return!0;const n=Object.prototype.hasOwnProperty.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&Function.prototype.call(n)===Function.prototype.call(e)}function Yt(e,t){const n=Object.assign({},e);return Object.keys(t).forEach(a=>{Wa(t[a])?a in e?n[a]=Yt(e[a],t[a]):Object.assign(n,{[a]:t[a]}):Object.assign(n,{[a]:t[a]})}),n}function yt(e){for(const t in e)e[t]===void 0&&delete e[t];return e}function Qe(e,t,n){var o;if(typeof t=="string"){let[i,s]=t.split(" ");n=Object.assign(s?{method:i,url:s}:{url:i},n)}else n=Object.assign({},t);n.headers=Fa(n.headers),yt(n),yt(n.headers);const a=Yt(e||{},n);return n.url==="/graphql"&&(e&&((o=e.mediaType.previews)!=null&&o.length)&&(a.mediaType.previews=e.mediaType.previews.filter(i=>!a.mediaType.previews.includes(i)).concat(a.mediaType.previews)),a.mediaType.previews=(a.mediaType.previews||[]).map(i=>i.replace(/-preview/,""))),a}function Ga(e,t){const n=/\?/.test(e)?"&":"?",a=Object.keys(t);return a.length===0?e:e+n+a.map(o=>o==="q"?"q="+t.q.split("+").map(encodeURIComponent).join("+"):`${o}=${encodeURIComponent(t[o])}`).join("&")}var Ka=/\{[^}]+\}/g;function Ja(e){return e.replace(/^\W+|\W+$/g,"").split(/,/)}function Ya(e){const t=e.match(Ka);return t?t.map(Ja).reduce((n,a)=>n.concat(a),[]):[]}function kt(e,t){const n={__proto__:null};for(const a of Object.keys(e))t.indexOf(a)===-1&&(n[a]=e[a]);return n}function Zt(e){return e.split(/(%[0-9A-Fa-f]{2})/g).map(function(t){return/%[0-9A-Fa-f]/.test(t)||(t=encodeURI(t).replace(/%5B/g,"[").replace(/%5D/g,"]")),t}).join("")}function ge(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}function ye(e,t,n){return t=e==="+"||e==="#"?Zt(t):ge(t),n?ge(n)+"="+t:t}function me(e){return e!=null}function Re(e){return e===";"||e==="&"||e==="?"}function Za(e,t,n,a){var o=e[n],i=[];if(me(o)&&o!=="")if(typeof o=="string"||typeof o=="number"||typeof o=="boolean")o=o.toString(),a&&a!=="*"&&(o=o.substring(0,parseInt(a,10))),i.push(ye(t,o,Re(t)?n:""));else if(a==="*")Array.isArray(o)?o.filter(me).forEach(function(s){i.push(ye(t,s,Re(t)?n:""))}):Object.keys(o).forEach(function(s){me(o[s])&&i.push(ye(t,o[s],s))});else{const s=[];Array.isArray(o)?o.filter(me).forEach(function(u){s.push(ye(t,u))}):Object.keys(o).forEach(function(u){me(o[u])&&(s.push(ge(u)),s.push(ye(t,o[u].toString())))}),Re(t)?i.push(ge(n)+"="+s.join(",")):s.length!==0&&i.push(s.join(","))}else t===";"?me(o)&&i.push(ge(n)):o===""&&(t==="&"||t==="?")?i.push(ge(n)+"="):o===""&&i.push("");return i}function Xa(e){return{expand:Qa.bind(null,e)}}function Qa(e,t){var n=["+","#",".","/",";","?","&"];return e=e.replace(/\{([^\{\}]+)\}|([^\{\}]+)/g,function(a,o,i){if(o){let u="";const p=[];if(n.indexOf(o.charAt(0))!==-1&&(u=o.charAt(0),o=o.substr(1)),o.split(/,/g).forEach(function(f){var m=/([^:\*]*)(?::(\d+)|(\*))?/.exec(f);p.push(Za(t,u,m[1],m[2]||m[3]))}),u&&u!=="+"){var s=",";return u==="?"?s="&":u!=="#"&&(s=u),(p.length!==0?u:"")+p.join(s)}else return p.join(",")}else return Zt(i)}),e==="/"?e:e.replace(/\/$/,"")}function Xt(e){var m;let t=e.method.toUpperCase(),n=(e.url||"/").replace(/:([a-z]\w+)/g,"{$1}"),a=Object.assign({},e.headers),o,i=kt(e,["method","baseUrl","url","headers","request","mediaType"]);const s=Ya(n);n=Xa(n).expand(i),/^http/.test(n)||(n=e.baseUrl+n);const u=Object.keys(e).filter(d=>s.includes(d)).concat("baseUrl"),p=kt(i,u);if(!/application\/octet-stream/i.test(a.accept)&&(e.mediaType.format&&(a.accept=a.accept.split(/,/).map(d=>d.replace(/application\/vnd(\.\w+)(\.v3)?(\.\w+)?(\+json)?$/,`application/vnd$1$2.${e.mediaType.format}`)).join(",")),n.endsWith("/graphql")&&(m=e.mediaType.previews)!=null&&m.length)){const d=a.accept.match(/[\w-]+(?=-preview)/g)||[];a.accept=d.concat(e.mediaType.previews).map(b=>{const w=e.mediaType.format?`.${e.mediaType.format}`:"+json";return`application/vnd.github.${b}-preview${w}`}).join(",")}return["GET","HEAD"].includes(t)?n=Ga(n,p):"data"in p?o=p.data:Object.keys(p).length&&(o=p),!a["content-type"]&&typeof o<"u"&&(a["content-type"]="application/json; charset=utf-8"),["PATCH","PUT"].includes(t)&&typeof o>"u"&&(o=""),Object.assign({method:t,url:n,headers:a},typeof o<"u"?{body:o}:null,e.request?{request:e.request}:null)}function eo(e,t,n){return Xt(Qe(e,t,n))}function Qt(e,t){const n=Qe(e,t),a=eo.bind(null,n);return Object.assign(a,{DEFAULTS:n,defaults:Qt.bind(null,n),merge:Qe.bind(null,n),parse:Xt})}var to=Qt(null,Ha);class ke extends Error{constructor(n,a,o){super(n);O(this,"name");O(this,"status");O(this,"request");O(this,"response");Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.name="HttpError",this.status=a,"response"in o&&(this.response=o.response);const i=Object.assign({},o.request);o.request.headers.authorization&&(i.headers=Object.assign({},o.request.headers,{authorization:o.request.headers.authorization.replace(/ .*$/," [REDACTED]")})),i.url=i.url.replace(/\bclient_secret=\w+/g,"client_secret=[REDACTED]").replace(/\baccess_token=\w+/g,"access_token=[REDACTED]"),this.request=i}}var no="0.0.0-development";function ao(e){if(typeof e!="object"||e===null||Object.prototype.toString.call(e)!=="[object Object]")return!1;const t=Object.getPrototypeOf(e);if(t===null)return!0;const n=Object.prototype.hasOwnProperty.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&Function.prototype.call(n)===Function.prototype.call(e)}function oo(e){return e.arrayBuffer()}function wt(e){var u,p,f,m;const t=e.request&&e.request.log?e.request.log:console,n=((u=e.request)==null?void 0:u.parseSuccessResponseBody)!==!1;(ao(e.body)||Array.isArray(e.body))&&(e.body=JSON.stringify(e.body));let a={},o,i,{fetch:s}=globalThis;if((p=e.request)!=null&&p.fetch&&(s=e.request.fetch),!s)throw new Error("fetch is not set. Please pass a fetch implementation as new Octokit({ request: { fetch }}). Learn more at https://github.com/octokit/octokit.js/#fetch-missing");return s(e.url,{method:e.method,body:e.body,redirect:(f=e.request)==null?void 0:f.redirect,headers:Object.fromEntries(Object.entries(e.headers).map(([d,b])=>[d,String(b)])),signal:(m=e.request)==null?void 0:m.signal,...e.body&&{duplex:"half"}}).then(async d=>{i=d.url,o=d.status;for(const b of d.headers)a[b[0]]=b[1];if("deprecation"in a){const b=a.link&&a.link.match(/<([^>]+)>; rel="deprecation"/),w=b&&b.pop();t.warn(`[@octokit/request] "${e.method} ${e.url}" is deprecated. It is scheduled to be removed on ${a.sunset}${w?`. See ${w}`:""}`)}if(!(o===204||o===205)){if(e.method==="HEAD"){if(o<400)return;throw new ke(d.statusText,o,{response:{url:i,status:o,headers:a,data:void 0},request:e})}if(o===304)throw new ke("Not modified",o,{response:{url:i,status:o,headers:a,data:await xe(d)},request:e});if(o>=400){const b=await xe(d);throw new ke(so(b),o,{response:{url:i,status:o,headers:a,data:b},request:e})}return n?await xe(d):d.body}}).then(d=>({status:o,url:i,headers:a,data:d})).catch(d=>{if(d instanceof ke)throw d;if(d.name==="AbortError")throw d;let b=d.message;throw d.name==="TypeError"&&"cause"in d&&(d.cause instanceof Error?b=d.cause.message:typeof d.cause=="string"&&(b=d.cause)),new ke(b,500,{request:e})})}async function xe(e){const t=e.headers.get("content-type");return/application\/json/.test(t)?e.json().catch(()=>e.text()).catch(()=>""):!t||/^text\/|charset=utf-8$/.test(t)?e.text():oo(e)}function so(e){if(typeof e=="string")return e;let t;return"documentation_url"in e?t=` - ${e.documentation_url}`:t="","message"in e?Array.isArray(e.errors)?`${e.message}: ${e.errors.map(JSON.stringify).join(", ")}${t}`:`${e.message}${t}`:`Unknown error: ${JSON.stringify(e)}`}function et(e,t){const n=e.defaults(t);return Object.assign(function(o,i){const s=n.merge(o,i);if(!s.request||!s.request.hook)return wt(n.parse(s));const u=(p,f)=>wt(n.parse(n.merge(p,f)));return Object.assign(u,{endpoint:n,defaults:et.bind(null,n)}),s.request.hook(u,s)},{endpoint:n,defaults:et.bind(null,n)})}var tt=et(to,{headers:{"user-agent":`octokit-request.js/${no} ${Ae()}`}}),ro="0.0.0-development";function lo(e){return`Request failed due to following response errors:
`+e.errors.map(t=>` - ${t.message}`).join(`
`)}var io=class extends Error{constructor(t,n,a){super(lo(a));O(this,"name","GraphqlResponseError");O(this,"errors");O(this,"data");this.request=t,this.headers=n,this.response=a,this.errors=a.errors,this.data=a.data,Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}},co=["method","baseUrl","url","headers","request","query","mediaType"],uo=["query","method","url"],St=/\/api\/v3\/?$/;function po(e,t,n){if(n){if(typeof t=="string"&&"query"in n)return Promise.reject(new Error('[@octokit/graphql] "query" cannot be used as variable name'));for(const s in n)if(uo.includes(s))return Promise.reject(new Error(`[@octokit/graphql] "${s}" cannot be used as variable name`))}const a=typeof t=="string"?Object.assign({query:t},n):t,o=Object.keys(a).reduce((s,u)=>co.includes(u)?(s[u]=a[u],s):(s.variables||(s.variables={}),s.variables[u]=a[u],s),{}),i=a.baseUrl||e.endpoint.DEFAULTS.baseUrl;return St.test(i)&&(o.url=i.replace(St,"/api/graphql")),e(o).then(s=>{if(s.data.errors){const u={};for(const p of Object.keys(s.headers))u[p]=s.headers[p];throw new io(o,u,s.data)}return s.data.data})}function mt(e,t){const n=e.defaults(t);return Object.assign((o,i)=>po(n,o,i),{defaults:mt.bind(null,n),endpoint:n.endpoint})}mt(tt,{headers:{"user-agent":`octokit-graphql.js/${ro} ${Ae()}`},method:"POST",url:"/graphql"});function mo(e){return mt(e,{method:"POST",url:"/graphql"})}var go=/^v1\./,fo=/^ghs_/,bo=/^ghu_/;async function ho(e){const t=e.split(/\./).length===3,n=go.test(e)||fo.test(e),a=bo.test(e);return{type:"token",token:e,tokenType:t?"app":n?"installation":a?"user-to-server":"oauth"}}function _o(e){return e.split(/\./).length===3?`bearer ${e}`:`token ${e}`}async function vo(e,t,n,a){const o=t.endpoint.merge(n,a);return o.headers.authorization=_o(e),t(o)}var yo=function(t){if(!t)throw new Error("[@octokit/auth-token] No token passed to createTokenAuth");if(typeof t!="string")throw new Error("[@octokit/auth-token] Token passed to createTokenAuth is not a string");return t=t.replace(/^(token|bearer) +/i,""),Object.assign(ho.bind(null,t),{hook:vo.bind(null,t)})};const en="6.1.2",$t=()=>{},ko=console.warn.bind(console),wo=console.error.bind(console),Tt=`octokit-core.js/${en} ${Ae()}`;class nt{constructor(t={}){O(this,"request");O(this,"graphql");O(this,"log");O(this,"hook");O(this,"auth");const n=new Da.Collection,a={baseUrl:tt.endpoint.DEFAULTS.baseUrl,headers:{},request:Object.assign({},t.request,{hook:n.bind(null,"request")}),mediaType:{previews:[],format:""}};if(a.headers["user-agent"]=t.userAgent?`${t.userAgent} ${Tt}`:Tt,t.baseUrl&&(a.baseUrl=t.baseUrl),t.previews&&(a.mediaType.previews=t.previews),t.timeZone&&(a.headers["time-zone"]=t.timeZone),this.request=tt.defaults(a),this.graphql=mo(this.request).defaults(a),this.log=Object.assign({debug:$t,info:$t,warn:ko,error:wo},t.log),this.hook=n,t.authStrategy){const{authStrategy:i,...s}=t,u=i(Object.assign({request:this.request,log:this.log,octokit:this,octokitOptions:s},t.auth));n.wrap("request",u.hook),this.auth=u}else if(!t.auth)this.auth=async()=>({type:"unauthenticated"});else{const i=yo(t.auth);n.wrap("request",i.hook),this.auth=i}const o=this.constructor;for(let i=0;i<o.plugins.length;++i)Object.assign(this,o.plugins[i](this,t))}static defaults(t){return class extends this{constructor(...a){const o=a[0]||{};if(typeof t=="function"){super(t(o));return}super(Object.assign({},t,o,o.userAgent&&t.userAgent?{userAgent:`${o.userAgent} ${t.userAgent}`}:null))}}}static plugin(...t){var o;const n=this.plugins;return o=class extends this{},O(o,"plugins",n.concat(t.filter(i=>!n.includes(i)))),o}}O(nt,"VERSION",en),O(nt,"plugins",[]);const Se=class Se extends Error{constructor(n,a=!0){super(n);O(this,"name",Se.name);this.isApiWrong=a}static is(n){return(n==null?void 0:n.name)===Se.name}};O(Se,"name","GetManifestError");let fe=Se;function So(e=z().accessToken){return new nt({auth:e}).request("GET /repos/{owner}/{repo}/releases/latest",{owner:"PBH-BTN",repo:"PeerBanHelper",headers:{"X-GitHub-Api-Version":"2022-11-28"}}).then(n=>n.data)}function $o(e=z().endpoint){const t=new URL(B(e,"/api/metadata/manifest"),location.href);return fetch(t,{headers:D(!1)}).catch(()=>{throw new fe("service.manifest.networkError",!1)}).then(n=>n.json().catch(()=>{throw new fe("service.manifest.parseError")})).then(n=>{if(!Array.isArray(n.modules)||typeof n.version!="object")throw new fe("service.manifest.formatError");return n})}const $e=class $e extends Error{constructor(){super(...arguments);O(this,"name",$e.name)}static is(n){return(n==null?void 0:n.name)===$e.name}};O($e,"name","IncorrectTokenError");let ue=$e;async function To(e){const t=z(),n=new URL(B(t.endpoint,"/api/auth/login"),location.href);return fetch(n,{headers:D(!1),method:"POST",body:JSON.stringify({token:e})}).then(async a=>{const o=await a.json();if(a.status===401)throw new ue(o.message);if(a.status!==200)throw new Error(o.message)})}const Lo=/^[v^~<>=]*?(\d+)(?:\.([x*]|\d+)(?:\.([x*]|\d+)(?:\.([x*]|\d+))?(?:-([\da-z\-]+(?:\.[\da-z\-]+)*))?(?:\+[\da-z\-]+(?:\.[\da-z\-]+)*)?)?)?$/i,Lt=e=>{if(typeof e!="string")throw new TypeError("Invalid argument expected string");const t=e.match(Lo);if(!t)throw new Error(`Invalid argument not valid semver ('${e}' received)`);return t.shift(),t},It=e=>e==="*"||e==="x"||e==="X",Ct=e=>{const t=parseInt(e,10);return isNaN(t)?e:t},Io=(e,t)=>typeof e!=typeof t?[String(e),String(t)]:[e,t],Co=(e,t)=>{if(It(e)||It(t))return 0;const[n,a]=Io(Ct(e),Ct(t));return n>a?1:n<a?-1:0},Nt=(e,t)=>{for(let n=0;n<Math.max(e.length,t.length);n++){const a=Co(e[n]||"0",t[n]||"0");if(a!==0)return a}return 0},No=(e,t)=>{const n=Lt(e),a=Lt(t),o=n.pop(),i=a.pop(),s=Nt(n,a);return s!==0?s:o&&i?Nt(o.split("."),i.split(".")):o||i?o?-1:1:0},tn=(e,t,n)=>{Po(n);const a=No(e,t);return nn[n].includes(a)},nn={">":[1],">=":[0,1],"=":[0],"<=":[-1,0],"<":[-1],"!=":[-1,1]},Pt=Object.keys(nn),Po=e=>{if(typeof e!="string")throw new TypeError(`Invalid operator type, expected string but got ${typeof e}`);if(Pt.indexOf(e)===-1)throw new Error(`Invalid operator, expected one of ${Pt.join("|")}`)};function Mt(){let e;const t=new Promise(n=>e=n);return Object.assign(t,{resolve:e})}function Mo(e,t){return e?e.modules.some(n=>n.className===t):null}const z=jt("endpoint",()=>{const e=we("endpoint",""),t=we("accessToken",""),n=we("authToken","",void 0,{writeDefaults:!1}),a=N(n.value),o=N(),i=N(Mt()),s=()=>{const v=Mt();return i.value.resolve(v),i.value=v,v},u=N(),p=N("checking"),f=N(null),m=N(null),d=async(v,y=!1)=>{if(u.value&&tn(u.value.version.version,"4.0.0","<"))return;v&&(a.value=v),v&&y&&(n.value=v);const T=p.value==="checking";T||s();try{if(v)await To(v);else throw new ue;T||(i.value.resolve(),f.value=null,p.value="pass")}catch(_){throw T||(f.value=_,ue.is(_)&&(p.value="needLogin")),_}},b=async v=>{p.value="checking",e.value=v,s();try{u.value=await $o(v);try{await d(a.value)}catch(y){throw ue.is(y)&&(p.value="needLogin"),y}return i.value.resolve(),f.value=null,p.value="pass",!0}catch(y){return f.value=y,p.value==="checking"&&(p.value="fail"),!1}},w=async v=>{t.value=v;try{const y=await So();o.value={tagName:y.tag_name,url:y.html_url}}catch(y){m.value=y,console.error("Failed to get version:",y)}};return b(e.value),setTimeout(async()=>w(t.value),3e3),{endpoint:le(e),serverAvailable:le(i),serverManifest:le(u),loading:L(()=>p.value==="checking"),status:le(p),error:le(f),checkUpgradeError:le(m),accessToken:le(t),latestVersion:le(o),setEndpoint:b,setAccessToken:w,authToken:le(a),setAuthToken:d,assertResponseLogin:v=>{if(v.status===403)throw d(null),new ue}}});async function zo(e){const t=z();await t.serverAvailable;const n=new URL(B(t.endpoint,`api/downloaders/${e}/status`),location.href);return fetch(n,{headers:D()}).then(a=>(t.assertResponseLogin(a),a.json()))}async function Uo(){const e=z();await e.serverAvailable;const t=new URL(B(e.endpoint,"/api/statistic/counter"),location.href);return fetch(t,{headers:D()}).then(n=>(e.assertResponseLogin(n),n.json()))}async function jo(){const e=z();await e.serverAvailable;const t=new URL(B(e.endpoint,"/api/downloaders"),location.href);return fetch(t,{headers:D()}).then(n=>(e.assertResponseLogin(n),n.json()))}async function Ao(e){const t=z();await t.serverAvailable;const n=new URL(B(t.endpoint,`/api/downloaders/${e}/torrents`),location.href);return fetch(n,{headers:D()}).then(a=>(t.assertResponseLogin(a),a.json()))}function be(e,t=2){if(e===0)return"0 Bytes";const n=1024,a=t<0?0:t,o=["Bytes","KB","MB","GB","TB","PB","EB"],i=Math.floor(Math.log(e)/Math.log(n));return i>=o.length?"Too large":parseFloat((e/Math.pow(n,i)).toFixed(a))+" "+o[i]}const Eo=P({__name:"torrentListModal",setup(e,{expose:t}){const{t:n}=x(),a=N(!1),o=N("");t({showModal:m=>{o.value=m,a.value=!0,p(m)}});const i=()=>{a.value=!1,o.value=""},{data:s,loading:u,run:p}=ie(Ao,{manual:!0}),f=[{title:()=>n("page.dashboard.torrentList.column.name"),slotName:"name"},{title:()=>n("page.dashboard.torrentList.column.size"),slotName:"size"},{title:()=>n("page.dashboard.torrentList.column.hash"),slotName:"hash"},{title:()=>n("page.dashboard.torrentList.column.progress"),slotName:"progress"}];return(m,d)=>{const b=K,w=xt,v=q,y=he,T=Te;return k(),I(T,{"hide-cancel":"",closable:"",visible:a.value,"onUpdate:visible":d[0]||(d[0]=_=>a.value=_),onOk:i,draggable:"",width:"auto"},{title:r(()=>[g(h(c(n)("page.dashboard.torrentList.title")),1)]),default:r(()=>[l(y,{columns:f,data:c(s),loading:c(u),pagination:{pageSize:5,baseSize:4,bufferSize:1}},{name:r(({record:_})=>[l(b,{bold:"",style:{"margin-bottom":"0"},ellipsis:{showTooltip:!0}},{default:r(()=>[g(h(_.name),1)]),_:2},1024)]),size:r(({record:_})=>[l(b,null,{default:r(()=>[g(h(c(be)(_.size)),1)]),_:2},1024)]),hash:r(({record:_})=>[l(b,{copyable:"",code:""},{default:r(()=>[g(h(_.hash),1)]),_:2},1024)]),progress:r(({record:_})=>[l(v,null,{default:r(()=>[l(w,{percent:_.progress,size:"mini"},null,8,["percent"]),l(b,null,{default:r(()=>[g(h((_.progress*100).toFixed(2)+"%"),1)]),_:2},1024)]),_:2},1024)]),_:1},8,["data","loading"])]),_:1},8,["visible"])}}}),Ro=P({name:"IconArrowDown",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:t}){const n=ee("icon"),a=L(()=>[n,`${n}-arrow-down`,{[`${n}-spin`]:e.spin}]),o=L(()=>{const s={};return e.size&&(s.fontSize=te(e.size)?`${e.size}px`:e.size),e.rotate&&(s.transform=`rotate(${e.rotate}deg)`),s});return{cls:a,innerStyle:o,onClick:s=>{t("click",s)}}}}),xo=["stroke-width","stroke-linecap","stroke-linejoin"],Oo=j("path",{d:"m11.27 27.728 12.727 12.728 12.728-12.728M24 5v34.295"},null,-1),Bo=[Oo];function Do(e,t,n,a,o,i){return k(),A("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:X(e.cls),style:G(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:t[0]||(t[0]=(...s)=>e.onClick&&e.onClick(...s))},Bo,14,xo)}var Oe=Q(Ro,[["render",Do]]);const an=Object.assign(Oe,{install:(e,t)=>{var n;const a=(n=t==null?void 0:t.iconPrefix)!=null?n:"";e.component(a+Oe.name,Oe)}}),qo=P({name:"IconArrowUp",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:t}){const n=ee("icon"),a=L(()=>[n,`${n}-arrow-up`,{[`${n}-spin`]:e.spin}]),o=L(()=>{const s={};return e.size&&(s.fontSize=te(e.size)?`${e.size}px`:e.size),e.rotate&&(s.transform=`rotate(${e.rotate}deg)`),s});return{cls:a,innerStyle:o,onClick:s=>{t("click",s)}}}}),Vo=["stroke-width","stroke-linecap","stroke-linejoin"],Ho=j("path",{d:"M11.27 20.272 23.997 7.544l12.728 12.728M24 43V8.705"},null,-1),Fo=[Ho];function Wo(e,t,n,a,o,i){return k(),A("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:X(e.cls),style:G(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:t[0]||(t[0]=(...s)=>e.onClick&&e.onClick(...s))},Fo,14,Vo)}var Be=Q(qo,[["render",Wo]]);const on=Object.assign(Be,{install:(e,t)=>{var n;const a=(n=t==null?void 0:t.iconPrefix)!=null?n:"";e.component(a+Be.name,Be)}}),Go=P({name:"IconInfoCircle",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:t}){const n=ee("icon"),a=L(()=>[n,`${n}-info-circle`,{[`${n}-spin`]:e.spin}]),o=L(()=>{const s={};return e.size&&(s.fontSize=te(e.size)?`${e.size}px`:e.size),e.rotate&&(s.transform=`rotate(${e.rotate}deg)`),s});return{cls:a,innerStyle:o,onClick:s=>{t("click",s)}}}}),Ko=["stroke-width","stroke-linecap","stroke-linejoin"],Jo=j("path",{d:"M24 20v14m0-16v-4m18 10c0 9.941-8.059 18-18 18S6 33.941 6 24 14.059 6 24 6s18 8.059 18 18Z"},null,-1),Yo=[Jo];function Zo(e,t,n,a,o,i){return k(),A("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:X(e.cls),style:G(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:t[0]||(t[0]=(...s)=>e.onClick&&e.onClick(...s))},Yo,14,Ko)}var De=Q(Go,[["render",Zo]]);const gt=Object.assign(De,{install:(e,t)=>{var n;const a=(n=t==null?void 0:t.iconPrefix)!=null?n:"";e.component(a+De.name,De)}}),Xo=P({name:"IconPlusCircle",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:t}){const n=ee("icon"),a=L(()=>[n,`${n}-plus-circle`,{[`${n}-spin`]:e.spin}]),o=L(()=>{const s={};return e.size&&(s.fontSize=te(e.size)?`${e.size}px`:e.size),e.rotate&&(s.transform=`rotate(${e.rotate}deg)`),s});return{cls:a,innerStyle:o,onClick:s=>{t("click",s)}}}}),Qo=["stroke-width","stroke-linecap","stroke-linejoin"],es=j("path",{d:"M32 24h-8m-8 0h8m0 0v8m0-8v-8m18 8c0 9.941-8.059 18-18 18S6 33.941 6 24 14.059 6 24 6s18 8.059 18 18Z"},null,-1),ts=[es];function ns(e,t,n,a,o,i){return k(),A("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:X(e.cls),style:G(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:t[0]||(t[0]=(...s)=>e.onClick&&e.onClick(...s))},ts,14,Qo)}var qe=Q(Xo,[["render",ns]]);const as=Object.assign(qe,{install:(e,t)=>{var n;const a=(n=t==null?void 0:t.iconPrefix)!=null?n:"";e.component(a+qe.name,qe)}}),os=P({name:"IconStop",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:t}){const n=ee("icon"),a=L(()=>[n,`${n}-stop`,{[`${n}-spin`]:e.spin}]),o=L(()=>{const s={};return e.size&&(s.fontSize=te(e.size)?`${e.size}px`:e.size),e.rotate&&(s.transform=`rotate(${e.rotate}deg)`),s});return{cls:a,innerStyle:o,onClick:s=>{t("click",s)}}}}),ss=["stroke-width","stroke-linecap","stroke-linejoin"],rs=j("path",{d:"M36.728 36.728c7.03-7.03 7.03-18.427 0-25.456-7.03-7.03-18.427-7.03-25.456 0m25.456 25.456c-7.03 7.03-18.427 7.03-25.456 0-7.03-7.03-7.03-18.427 0-25.456m25.456 25.456L11.272 11.272"},null,-1),ls=[rs];function is(e,t,n,a,o,i){return k(),A("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:X(e.cls),style:G(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:t[0]||(t[0]=(...s)=>e.onClick&&e.onClick(...s))},ls,14,ss)}var Ve=Q(os,[["render",is]]);const cs=Object.assign(Ve,{install:(e,t)=>{var n;const a=(n=t==null?void 0:t.iconPrefix)!=null?n:"";e.component(a+Ve.name,Ve)}}),us=P({name:"IconHistory",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:t}){const n=ee("icon"),a=L(()=>[n,`${n}-history`,{[`${n}-spin`]:e.spin}]),o=L(()=>{const s={};return e.size&&(s.fontSize=te(e.size)?`${e.size}px`:e.size),e.rotate&&(s.transform=`rotate(${e.rotate}deg)`),s});return{cls:a,innerStyle:o,onClick:s=>{t("click",s)}}}}),ds=["stroke-width","stroke-linecap","stroke-linejoin"],ps=j("path",{d:"M6 24c0-9.941 8.059-18 18-18s18 8.059 18 18-8.059 18-18 18c-6.26 0-11.775-3.197-15-8.047M6 24l-.5-.757h1L6 24Zm26 2h-9v-9"},null,-1),ms=[ps];function gs(e,t,n,a,o,i){return k(),A("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:X(e.cls),style:G(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:t[0]||(t[0]=(...s)=>e.onClick&&e.onClick(...s))},ms,14,ds)}var He=Q(us,[["render",gs]]);const fs=Object.assign(He,{install:(e,t)=>{var n;const a=(n=t==null?void 0:t.iconPrefix)!=null?n:"";e.component(a+He.name,He)}}),bs=P({name:"IconRefresh",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:t}){const n=ee("icon"),a=L(()=>[n,`${n}-refresh`,{[`${n}-spin`]:e.spin}]),o=L(()=>{const s={};return e.size&&(s.fontSize=te(e.size)?`${e.size}px`:e.size),e.rotate&&(s.transform=`rotate(${e.rotate}deg)`),s});return{cls:a,innerStyle:o,onClick:s=>{t("click",s)}}}}),hs=["stroke-width","stroke-linecap","stroke-linejoin"],_s=j("path",{d:"M38.837 18C36.463 12.136 30.715 8 24 8 15.163 8 8 15.163 8 24s7.163 16 16 16c7.455 0 13.72-5.1 15.496-12M40 8v10H30"},null,-1),vs=[_s];function ys(e,t,n,a,o,i){return k(),A("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:X(e.cls),style:G(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:t[0]||(t[0]=(...s)=>e.onClick&&e.onClick(...s))},vs,14,hs)}var Fe=Q(bs,[["render",ys]]);const ks=Object.assign(Fe,{install:(e,t)=>{var n;const a=(n=t==null?void 0:t.iconPrefix)!=null?n:"";e.component(a+Fe.name,Fe)}}),ws=P({name:"IconSettings",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:t}){const n=ee("icon"),a=L(()=>[n,`${n}-settings`,{[`${n}-spin`]:e.spin}]),o=L(()=>{const s={};return e.size&&(s.fontSize=te(e.size)?`${e.size}px`:e.size),e.rotate&&(s.transform=`rotate(${e.rotate}deg)`),s});return{cls:a,innerStyle:o,onClick:s=>{t("click",s)}}}}),Ss=["stroke-width","stroke-linecap","stroke-linejoin"],$s=j("path",{d:"M18.797 6.732A1 1 0 0 1 19.76 6h8.48a1 1 0 0 1 .964.732l1.285 4.628a1 1 0 0 0 1.213.7l4.651-1.2a1 1 0 0 1 1.116.468l4.24 7.344a1 1 0 0 1-.153 1.2L38.193 23.3a1 1 0 0 0 0 1.402l3.364 3.427a1 1 0 0 1 .153 1.2l-4.24 7.344a1 1 0 0 1-1.116.468l-4.65-1.2a1 1 0 0 0-1.214.7l-1.285 4.628a1 1 0 0 1-.964.732h-8.48a1 1 0 0 1-.963-.732L17.51 36.64a1 1 0 0 0-1.213-.7l-4.65 1.2a1 1 0 0 1-1.116-.468l-4.24-7.344a1 1 0 0 1 .153-1.2L9.809 24.7a1 1 0 0 0 0-1.402l-3.364-3.427a1 1 0 0 1-.153-1.2l4.24-7.344a1 1 0 0 1 1.116-.468l4.65 1.2a1 1 0 0 0 1.213-.7l1.286-4.628Z"},null,-1),Ts=j("path",{d:"M30 24a6 6 0 1 1-12 0 6 6 0 0 1 12 0Z"},null,-1),Ls=[$s,Ts];function Is(e,t,n,a,o,i){return k(),A("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:X(e.cls),style:G(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:t[0]||(t[0]=(...s)=>e.onClick&&e.onClick(...s))},Ls,14,Ss)}var We=Q(ws,[["render",Is]]);const sn=Object.assign(We,{install:(e,t)=>{var n;const a=(n=t==null?void 0:t.iconPrefix)!=null?n:"";e.component(a+We.name,We)}}),Cs=P({name:"IconMoonFill",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:t}){const n=ee("icon"),a=L(()=>[n,`${n}-moon-fill`,{[`${n}-spin`]:e.spin}]),o=L(()=>{const s={};return e.size&&(s.fontSize=te(e.size)?`${e.size}px`:e.size),e.rotate&&(s.transform=`rotate(${e.rotate}deg)`),s});return{cls:a,innerStyle:o,onClick:s=>{t("click",s)}}}}),Ns=["stroke-width","stroke-linecap","stroke-linejoin"],Ps=j("path",{d:"M42.108 29.769c.124-.387-.258-.736-.645-.613A17.99 17.99 0 0 1 36 30c-9.941 0-18-8.059-18-18 0-1.904.296-3.74.844-5.463.123-.387-.226-.768-.613-.645C10.558 8.334 5 15.518 5 24c0 10.493 8.507 19 19 19 8.482 0 15.666-5.558 18.108-13.231Z",fill:"currentColor",stroke:"none"},null,-1),Ms=[Ps];function zs(e,t,n,a,o,i){return k(),A("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:X(e.cls),style:G(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:t[0]||(t[0]=(...s)=>e.onClick&&e.onClick(...s))},Ms,14,Ns)}var Ge=Q(Cs,[["render",zs]]);const Us=Object.assign(Ge,{install:(e,t)=>{var n;const a=(n=t==null?void 0:t.iconPrefix)!=null?n:"";e.component(a+Ge.name,Ge)}}),js=P({name:"IconSunFill",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:t}){const n=ee("icon"),a=L(()=>[n,`${n}-sun-fill`,{[`${n}-spin`]:e.spin}]),o=L(()=>{const s={};return e.size&&(s.fontSize=te(e.size)?`${e.size}px`:e.size),e.rotate&&(s.transform=`rotate(${e.rotate}deg)`),s});return{cls:a,innerStyle:o,onClick:s=>{t("click",s)}}}}),As=["stroke-width","stroke-linecap","stroke-linejoin"],Es=j("circle",{cx:"24",cy:"24",r:"9",fill:"currentColor",stroke:"none"},null,-1),Rs=j("path",{d:"M21 5.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 .5.5v5a.5.5 0 0 1-.5.5h-5a.5.5 0 0 1-.5-.5v-5ZM21 37.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 .5.5v5a.5.5 0 0 1-.5.5h-5a.5.5 0 0 1-.5-.5v-5ZM42.5 21a.5.5 0 0 1 .5.5v5a.5.5 0 0 1-.5.5h-5a.5.5 0 0 1-.5-.5v-5a.5.5 0 0 1 .5-.5h5ZM10.5 21a.5.5 0 0 1 .5.5v5a.5.5 0 0 1-.5.5h-5a.5.5 0 0 1-.5-.5v-5a.5.5 0 0 1 .5-.5h5ZM39.203 34.96a.5.5 0 0 1 0 .707l-3.536 3.536a.5.5 0 0 1-.707 0l-3.535-3.536a.5.5 0 0 1 0-.707l3.535-3.535a.5.5 0 0 1 .707 0l3.536 3.535ZM16.575 12.333a.5.5 0 0 1 0 .707l-3.535 3.535a.5.5 0 0 1-.707 0L8.797 13.04a.5.5 0 0 1 0-.707l3.536-3.536a.5.5 0 0 1 .707 0l3.535 3.536ZM13.04 39.203a.5.5 0 0 1-.707 0l-3.536-3.536a.5.5 0 0 1 0-.707l3.536-3.535a.5.5 0 0 1 .707 0l3.536 3.535a.5.5 0 0 1 0 .707l-3.536 3.536ZM35.668 16.575a.5.5 0 0 1-.708 0l-3.535-3.535a.5.5 0 0 1 0-.707l3.535-3.536a.5.5 0 0 1 .708 0l3.535 3.536a.5.5 0 0 1 0 .707l-3.535 3.535Z",fill:"currentColor",stroke:"none"},null,-1),xs=[Es,Rs];function Os(e,t,n,a,o,i){return k(),A("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:X(e.cls),style:G(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:t[0]||(t[0]=(...s)=>e.onClick&&e.onClick(...s))},xs,14,As)}var Ke=Q(js,[["render",Os]]);const Bs=Object.assign(Ke,{install:(e,t)=>{var n;const a=(n=t==null?void 0:t.iconPrefix)!=null?n:"";e.component(a+Ke.name,Ke)}}),Ds=P({name:"IconLanguage",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:t}){const n=ee("icon"),a=L(()=>[n,`${n}-language`,{[`${n}-spin`]:e.spin}]),o=L(()=>{const s={};return e.size&&(s.fontSize=te(e.size)?`${e.size}px`:e.size),e.rotate&&(s.transform=`rotate(${e.rotate}deg)`),s});return{cls:a,innerStyle:o,onClick:s=>{t("click",s)}}}}),qs=["stroke-width","stroke-linecap","stroke-linejoin"],Vs=j("path",{d:"m42 43-2.385-6M26 43l2.384-6m11.231 0-.795-2-4.18-10h-1.28l-4.181 10-.795 2m11.231 0h-11.23M17 5l1 5M5 11h26M11 11s1.889 7.826 6.611 12.174C22.333 27.522 30 31 30 31"},null,-1),Hs=j("path",{d:"M25 11s-1.889 7.826-6.611 12.174C13.667 27.522 6 31 6 31"},null,-1),Fs=[Vs,Hs];function Ws(e,t,n,a,o,i){return k(),A("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:X(e.cls),style:G(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:t[0]||(t[0]=(...s)=>e.onClick&&e.onClick(...s))},Fs,14,qs)}var Je=Q(Ds,[["render",Ws]]);const Gs=Object.assign(Je,{install:(e,t)=>{var n;const a=(n=t==null?void 0:t.iconPrefix)!=null?n:"";e.component(a+Je.name,Je)}}),Ks=P({name:"IconLocation",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:t}){const n=ee("icon"),a=L(()=>[n,`${n}-location`,{[`${n}-spin`]:e.spin}]),o=L(()=>{const s={};return e.size&&(s.fontSize=te(e.size)?`${e.size}px`:e.size),e.rotate&&(s.transform=`rotate(${e.rotate}deg)`),s});return{cls:a,innerStyle:o,onClick:s=>{t("click",s)}}}}),Js=["stroke-width","stroke-linecap","stroke-linejoin"],Ys=j("circle",{cx:"24",cy:"19",r:"5"},null,-1),Zs=j("path",{d:"M39 20.405C39 28.914 24 43 24 43S9 28.914 9 20.405C9 11.897 15.716 5 24 5c8.284 0 15 6.897 15 15.405Z"},null,-1),Xs=[Ys,Zs];function Qs(e,t,n,a,o,i){return k(),A("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:X(e.cls),style:G(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:t[0]||(t[0]=(...s)=>e.onClick&&e.onClick(...s))},Xs,14,Js)}var Ye=Q(Ks,[["render",Qs]]);const er=Object.assign(Ye,{install:(e,t)=>{var n;const a=(n=t==null?void 0:t.iconPrefix)!=null?n:"";e.component(a+Ye.name,Ye)}}),tr=P({name:"IconLock",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:t}){const n=ee("icon"),a=L(()=>[n,`${n}-lock`,{[`${n}-spin`]:e.spin}]),o=L(()=>{const s={};return e.size&&(s.fontSize=te(e.size)?`${e.size}px`:e.size),e.rotate&&(s.transform=`rotate(${e.rotate}deg)`),s});return{cls:a,innerStyle:o,onClick:s=>{t("click",s)}}}}),nr=["stroke-width","stroke-linecap","stroke-linejoin"],ar=j("rect",{x:"7",y:"21",width:"34",height:"20",rx:"1"},null,-1),or=j("path",{d:"M15 21v-6a9 9 0 1 1 18 0v6M24 35v-8"},null,-1),sr=[ar,or];function rr(e,t,n,a,o,i){return k(),A("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:X(e.cls),style:G(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:t[0]||(t[0]=(...s)=>e.onClick&&e.onClick(...s))},sr,14,nr)}var Ze=Q(tr,[["render",rr]]);const lr=Object.assign(Ze,{install:(e,t)=>{var n;const a=(n=t==null?void 0:t.iconPrefix)!=null?n:"";e.component(a+Ze.name,Ze)}});var oe=(e=>(e.HEALTHY="HEALTHY",e.ERROR="ERROR",e.UNKNOWN="UNKNOWN",e))(oe||{});const ce=jt("autoUpdate",()=>{const e=N(new Date),t=we("autoUpdate.enable",!0),n=we("autoUpdate.interval",3e3),a=L(()=>t.value?n.value:-1);function o(){e.value=new Date}return{lastUpdate:e,autoUpdate:t,interval:n,pollingInterval:a,renewLastUpdate:o}}),ir=P({__name:"clientStatusCard",props:{downloader:{}},emits:["torrent-view-click"],setup(e,{emit:t}){const{t:n}=x(),a={[oe.HEALTHY]:["success","page.dashboard.clientStatus.card.status.normal"],[oe.ERROR]:["warning","page.dashboard.clientStatus.card.status.error"],[oe.UNKNOWN]:["danger","page.dashboard.clientStatus.card.status.unknown"]},o=e,i=t,s=L(()=>o.downloader),u=ce(),p=z(),f=d=>a[(d==null?void 0:d.lastStatus)??oe.UNKNOWN]??a[oe.UNKNOWN],{data:m}=ie(zo,{pollingInterval:L(()=>u.pollingInterval),onSuccess:u.renewLastUpdate,cacheKey:()=>`${p.endpoint}-clientStatus-${s.value.name}`,defaultParams:[s.value.name],refreshDeps:[()=>s.value.name],refreshDepsAction:()=>{u.renewLastUpdate()}});return(d,b)=>{const w=_e,v=Ot,y=q,T=Bt,_=Le,C=gt,S=Ie,$=ot,M=zn,R=Un,V=jn,H=K,W=An,J=Ce,Y=st,ne=rt;return k(),I(ne,{hoverable:"",style:{height:"100%"},"header-style":{height:"auto"}},{title:r(()=>[l(w,{style:{margin:"0px"},ellipsis:{rows:2,showTooltip:!0}},{default:r(()=>[g(h(s.value.name),1)]),_:1})]),default:r(()=>[c(m)?Z("",!0):(k(),I(T,{key:0,animation:!0},{default:r(()=>[l(y,{direction:"vertical",style:{width:"100%"},size:0},{default:r(()=>[l(v,{rows:4,"line-height":22,"line-spacing":14,widths:["60%","70%","50%","60%"]})]),_:1})]),_:1})),c(m)?(k(),I(Y,{key:1,column:1,layout:"inline-horizontal",class:"space","label-style":{paddingRight:"10px"}},{default:r(()=>[l($,{label:c(n)("page.dashboard.clientStatus.card.type")},{default:r(()=>[l(y,null,{default:r(()=>[l(_,{bordered:""},{default:r(()=>[g(h(s.value.type),1)]),_:1}),l(S,{content:s.value.endpoint},{default:r(()=>[l(C,{size:"large"})]),_:1},8,["content"])]),_:1})]),_:1},8,["label"]),l($,{label:c(n)("page.dashboard.clientStatus.card.status")},{default:r(()=>[l(H,{type:f(c(m))[0]},{default:r(()=>[c(m).lastStatus==c(oe).HEALTHY?(k(),I(M,{key:0})):Z("",!0),c(m).lastStatus==c(oe).ERROR?(k(),I(R,{key:1})):Z("",!0),c(m).lastStatus==c(oe).UNKNOWN?(k(),I(V,{key:2})):Z("",!0),g(" "+h(c(n)(f(c(m))[1])),1)]),_:1},8,["type"])]),_:1},8,["label"]),c(m).lastStatus==c(oe).HEALTHY?(k(),I($,{key:0,label:c(n)("page.dashboard.clientStatus.card.status.torrentNumber")},{default:r(()=>[l(y,null,{default:r(()=>[l(_,{color:"arcoblue",bordered:""},{default:r(()=>[g(h(c(m).activeTorrents),1)]),_:1}),l(S,{content:c(n)("page.dashboard.torrentList.tips")},{default:r(()=>[l(J,{onClick:b[0]||(b[0]=()=>i("torrent-view-click",s.value.name)),shape:"circle",type:"text",size:"mini"},{icon:r(()=>[l(W,{size:"large",style:{color:"var(--color-text-1)"}})]),_:1})]),_:1},8,["content"])]),_:1})]),_:1},8,["label"])):Z("",!0),c(m).lastStatus==c(oe).HEALTHY?(k(),I($,{key:1,label:c(n)("page.dashboard.clientStatus.card.status.peerNumber")},{default:r(()=>[l(_,{color:"arcoblue",bordered:""},{default:r(()=>[g(h(c(m).activePeers),1)]),_:1})]),_:1},8,["label"])):Z("",!0)]),_:1})):Z("",!0)]),_:1})}}}),se=(e,t)=>{const n=e.__vccOpts||e;for(const[a,o]of t)n[a]=o;return n},cr=se(ir,[["__scopeId","data-v-ce71eb55"]]),ur=P({__name:"clientStatus",setup(e){const{t}=x(),n=z(),a=ce(),{data:o,refresh:i,loading:s}=ie(jo,{pollingInterval:L(()=>a.pollingInterval),cacheKey:()=>`${n.endpoint}-downloader`});re(()=>n.endpoint,i);const u=N();return(p,f)=>{const m=_e,d=Ot,b=q,w=Bt,v=rt,y=lt,T=it;return k(),A(de,null,[l(m,{heading:3},{default:r(()=>[g(h(c(t)("page.dashboard.clientStatus.title")),1)]),_:1}),l(T,{justify:"start",align:"stretch",wrap:!0,gutter:[{xs:8,sm:8,md:8,lg:24,xl:32},{xs:8,sm:8,md:8,lg:24,xl:32}]},{default:r(()=>{var _;return[!c(o)||((_=c(o))==null?void 0:_.length)===0||c(s)?(k(),I(y,{key:0,xs:24,sm:12,md:8,lg:6},{default:r(()=>[l(v,{hoverable:"","header-style":{height:"auto"}},{title:r(()=>[l(w,{animation:!0},{default:r(()=>[l(b,{direction:"vertical",style:{width:"100%"},size:0},{default:r(()=>[l(d,{"line-height":44,"line-spacing":0})]),_:1})]),_:1})]),default:r(()=>[l(w,{animation:!0},{default:r(()=>[l(b,{direction:"vertical",style:{width:"100%"},size:0},{default:r(()=>[l(d,{rows:4,"line-height":22,"line-spacing":14,widths:["60%","70%","50%","60%"]})]),_:1})]),_:1})]),_:1})]),_:1})):(k(!0),A(de,{key:1},at(c(o),C=>(k(),I(y,{xs:24,sm:12,md:8,lg:6,key:C.name},{default:r(()=>[l(cr,{downloader:C,onTorrentViewClick:()=>{var S;return(S=u.value)==null?void 0:S.showModal(C.name)}},null,8,["downloader","onTorrentViewClick"])]),_:2},1024))),128))]}),_:1}),l(Eo,{ref_key:"torrentList",ref:u},null,512)],64)}}}),dr=P({__name:"statisticInfo",setup(e){const{t}=x(),n=ce(),a=z(),o=N({checkCounter:0,peerBanCounter:0,peerUnbanCounter:0,banlistCounter:0}),i=N(o.value),{refresh:s}=ie(Uo,{pollingInterval:L(()=>n.pollingInterval),onSuccess:u=>{const p=i.value;i.value=u,pn.isEqual(u,p)||(o.value=p),n.renewLastUpdate()},cacheKey:()=>`${a.endpoint}-statistic`});return re(()=>a.endpoint,s),(u,p)=>{const f=K,m=En,d=Rn,b=xn,w=rt,v=q;return k(),I(v,{direction:"vertical",fill:""},{default:r(()=>[l(w,{title:c(t)("page.dashboard.statics.currentStatus")},{default:r(()=>[l(b,{cols:24,"row-gap":16,class:"panel"},{default:r(()=>[l(d,{class:"panel-col",span:{xs:12,sm:12,md:6}},{default:r(()=>{var y;return[l(m,{title:c(t)("page.dashboard.statics.checked"),value:(y=i.value)==null?void 0:y.checkCounter,"value-from":o.value.checkCounter,animation:"","show-group-separator":""},{suffix:r(()=>[l(f,null,{default:r(()=>[g(" "+h(c(t)("page.dashboard.statics.times")),1)]),_:1})]),_:1},8,["title","value","value-from"])]}),_:1}),l(d,{class:"panel-col",span:{xs:12,sm:12,md:6}},{default:r(()=>{var y;return[l(m,{title:c(t)("page.dashboard.statics.banPeer"),value:(y=i.value)==null?void 0:y.peerBanCounter,"value-from":o.value.peerBanCounter,animation:"","show-group-separator":""},{suffix:r(()=>[l(f,null,{default:r(()=>[g(" "+h(c(t)("page.dashboard.statics.times")),1)]),_:1})]),_:1},8,["title","value","value-from"])]}),_:1}),l(d,{class:"panel-col",span:{xs:12,sm:12,md:6}},{default:r(()=>{var y;return[l(m,{title:c(t)("page.dashboard.statics.unbanPeer"),value:(y=i.value)==null?void 0:y.peerUnbanCounter,"value-from":o.value.peerUnbanCounter,animation:"","show-group-separator":""},{suffix:r(()=>[l(f,null,{default:r(()=>[g(" "+h(c(t)("page.dashboard.statics.times")),1)]),_:1})]),_:1},8,["title","value","value-from"])]}),_:1}),l(d,{class:"panel-col",span:{xs:12,sm:12,md:6}},{default:r(()=>{var y;return[l(m,{title:c(t)("page.dashboard.statics.currentBan"),value:(y=i.value)==null?void 0:y.banlistCounter,"value-from":o.value.banlistCounter,animation:"","show-group-separator":""},{suffix:r(()=>[l(f,null,{default:r(()=>[g(" "+h(c(t)("page.dashboard.statics.number")),1)]),_:1})]),_:1},8,["title","value","value-from"])]}),_:1})]),_:1})]),_:1},8,["title"])]),_:1})}}}),pr=j("br",null,null,-1),mr=P({__name:"index",setup(e){return(t,n)=>{const a=K,o=q;return k(),I(o,{direction:"vertical",fill:""},{default:r(()=>[l(a,{style:{"font-size":"1.2em"}},{default:r(()=>[g(h(t.$t("page.dashboard.description")),1)]),_:1}),l(ur),pr,l(dr)]),_:1})}}});async function Xe(e,t){const n=z();await n.serverAvailable;const a=new URL(B(n.endpoint,"api/bans"),location.href);return a.searchParams.set("limit",String(e)),t&&a.searchParams.set("lastBanTime",String(t)),fetch(a,{headers:D()}).then(o=>(n.assertResponseLogin(o),o.json()))}const gr=e=>{let t=0,n,a;if(e.length===0)return t;for(n=0;n<e.length;n++)a=e.charCodeAt(n),t=(t<<5)-t+a,t|=0;return t},Ee=e=>{const t=Math.abs(gr(e))%zt.length;return zt[t]},zt=["red","orangered","orange","gold","lime","green","cyan","blue","arcoblue","purple","pinkpurple","magenta"],fr=["title"],br=P({__name:"countryFlag",props:{iso:{},title:{},mode:{}},setup(e){const{locale:t}=x(),n=e,a=L(()=>{let o="",i=n.iso.toLowerCase();return t.value==="zh-CN"&&i==="tw"&&(i="cn"),o="flag-icon-"+i,n.mode&&(o+=" flag-icon-"+n.mode),o});return(o,i)=>n.iso!==""?(k(),A("span",{key:0,class:X([a.value,"flag-icon"]),title:n.title||n.iso},null,10,fr)):Z("",!0)}}),hr=P({__name:"banListItem",props:{item:{}},setup(e){const{t,d:n}=x(),a=ct(N({md:1}),0);return(o,i)=>{const s=K,u=q,p=ot,f=on,m=an,d=er,b=ut,w=Le,v=gt,y=Ie,T=st;return k(),I(T,{column:{xs:3,md:6,xl:12},size:"medium",layout:["inline-vertical","horizontal"][c(a)]},{title:r(()=>[l(u,{wrap:""},{default:r(()=>[l(s,{bold:"",copyable:""},{default:r(()=>[g(h(o.item.banMetadata.peer.address.ip)+":"+h(o.item.banMetadata.peer.address.port),1)]),_:1}),l(s,{code:""},{default:r(()=>[g(h(o.item.banMetadata.peer.clientName?o.item.banMetadata.peer.clientName:c(t)("page.banlist.banlist.listItem.empty")),1)]),_:1})]),_:1})]),default:r(()=>[l(p,{label:c(t)("page.banlist.banlist.listItem.banTime"),span:4},{default:r(()=>[g(h(c(n)(o.item.banMetadata.banAt,"long")),1)]),_:1},8,["label"]),l(p,{label:c(t)("page.banlist.banlist.listItem.expireTime"),span:4},{default:r(()=>[g(h(c(n)(o.item.banMetadata.unbanAt,"long")),1)]),_:1},8,["label"]),l(p,{label:c(t)("page.banlist.banlist.listItem.snapshot"),span:4},{default:r(()=>[l(f,{class:"green"}),g(" "+h(c(be)(o.item.banMetadata.peer.uploaded))+" ",1),l(m,{class:"red"}),g(" "+h(c(be)(o.item.banMetadata.peer.downloaded))+" - "+h((o.item.banMetadata.peer.progress*100).toFixed(2))+"% ",1)]),_:1},8,["label"]),l(p,{label:c(t)("page.banlist.banlist.listItem.location"),span:12},{default:r(()=>[l(s,{style:{"margin-bottom":"0"},ellipsis:{showTooltip:!0}},{default:r(()=>[g(h(o.item.banMetadata.torrent.name),1)]),_:1})]),_:1},8,["label"]),l(p,{label:c(t)("page.banlist.banlist.listItem.reason"),span:12},{default:r(()=>[l(s,{style:{"margin-bottom":"0"}},{default:r(()=>[g(h(o.item.banMetadata.description),1)]),_:1})]),_:1},8,["label"]),o.item.banMetadata.geo?(k(),I(p,{key:0,label:c(t)("page.banlist.banlist.listItem.geo"),span:4},{default:r(()=>{var _,C,S,$,M;return[l(br,{iso:(_=o.item.banMetadata.geo)==null?void 0:_.iso,mode:"squared"},null,8,["iso"]),g(" "+h(`${(C=o.item.banMetadata.geo)==null?void 0:C.countryRegion} ${((S=o.item.banMetadata.geo)==null?void 0:S.city)??""}`)+" ",1),l(b,{href:`https://uri.amap.com/marker?position=${($=o.item.banMetadata.geo)==null?void 0:$.longitude},${(M=o.item.banMetadata.geo)==null?void 0:M.latitude}`,hoverable:!1},{default:r(()=>[l(d)]),_:1},8,["href"])]}),_:1},8,["label"])):Z("",!0),o.item.banMetadata.asn?(k(),I(p,{key:1,label:c(t)("page.banlist.banlist.listItem.asn"),span:4},{default:r(()=>[l(u,null,{default:r(()=>{var _,C;return[l(s,null,{default:r(()=>{var S;return[g(h((S=o.item.banMetadata.asn)==null?void 0:S.asOrganization),1)]}),_:1}),l(w,{color:c(Ee)((_=o.item.banMetadata.asn)==null?void 0:_.asn.toString())},{default:r(()=>{var S;return[g(h((S=o.item.banMetadata.asn)==null?void 0:S.asn),1)]}),_:1},8,["color"]),l(y,{content:c(t)("page.banlist.banlist.listItem.asn.subnet")+((C=o.item.banMetadata.asn)==null?void 0:C.asNetwork)},{default:r(()=>{var S;return[l(b,{href:`https://2ip.io/analytics/asn-list/?asnId=${(S=o.item.banMetadata.asn)==null?void 0:S.asn}`,hoverable:!1},{default:r(()=>[l(v)]),_:1},8,["href"])]}),_:1},8,["content"])]}),_:1})]),_:1},8,["label"])):Z("",!0),o.item.banMetadata.reverseLookup!=="N/A"?(k(),I(p,{key:2,label:c(t)("page.banlist.banlist.listItem.reserveDNSLookup"),span:4},{default:r(()=>[g(h(o.item.banMetadata.reverseLookup),1)]),_:1},8,["label"])):Z("",!0)]),_:1},8,["layout"])}}}),_r=se(hr,[["__scopeId","data-v-8b07a553"]]),vr=e=>(fn("data-v-bcc8aabb"),e=e(),bn(),e),yr=vr(()=>j("br",null,null,-1)),kr={key:1,style:{position:"absolute",transform:"translateY(-50%)"}},pe=5,wr=P({__name:"banList",setup(e){const{height:t}=mn(),n=N(),a=ce(),o=z(),i=N(!1),s=N(5),u=N(!1),{t:p}=x();let f=!0;async function m(){var S;if(f||!d.value)return f=!1,Xe(pe);if(d.value.length>s.value-pe){const $=[];let M=!1;for(;$.length<s.value&&!M;){const R=await Xe(pe,(S=$[$.length-1])==null?void 0:S.banMetadata.banAt);for(const V of R)if(V.banMetadata.randomId!==d.value[0].banMetadata.randomId)$.push(V);else{M=!0;break}}return M?(s.value=d.value.length+$.length,$.concat(d.value)):$}return d.value}const{data:d,refresh:b,run:w}=ie(m,{pollingInterval:L(()=>a.pollingInterval),onSuccess:a.renewLastUpdate,manual:!0}),v=S=>{var $,M;if(S){const R=($=d.value)==null?void 0:$.map(V=>V.address).findIndex(V=>V.includes(S));R!==-1&&((M=n.value)==null||M.scrollIntoView({index:R,align:"auto"}))}},y=async()=>{var S;if(d.value){if(s.value=d.value.length+pe,u.value=!0,i.value=!1,d.value.length<=s.value){const $=[];for(;$.length+d.value.length<s.value&&!i.value;){const M=await Xe(pe,(S=$[$.length-1]||d.value[d.value.length-1])==null?void 0:S.banMetadata.banAt);M.length<pe&&(i.value=!0),$.push(...M)}d.value=d.value.concat($)}setTimeout(()=>{u.value=!1},i.value?1e3:0)}};re(()=>o.endpoint,()=>{s.value=pe,d.value=void 0,b()}),gn(w);const T=L(()=>d.value??[]),_=ct(N({xs:1500,md:1e3,xl:800}),800),C=L(()=>Math.min(_.value,t.value-200));return(S,$)=>{const M=_e,R=K,V=Dt,H=q,W=On,J=qt,Y=Bn,ne=Dn;return k(),I(H,{direction:"vertical",fill:""},{default:r(()=>[l(M,{heading:3},{default:r(()=>[g(h(c(p)("page.banlist.banlist")),1)]),_:1}),yr,l(H,{class:"list-header",wrap:""},{default:r(()=>[l(R,null,{default:r(()=>[g(h(c(p)("page.banlist.banlist.description")),1)]),_:1}),l(V,{style:{width:"250px"},placeholder:c(p)("page.banlist.banlist.searchPlaceHolder"),onSearch:v,"allow-clear":"","search-button":""},null,8,["placeholder"])]),_:1}),l(ne,{virtualListProps:{height:C.value},ref_key:"banlist",ref:n,onReachBottom:y,scrollbar:!1,data:T.value},{item:r(({item:U,index:ae})=>[l(W,{style:G({marginBottom:ae===T.value.length-1&&u.value?"50px":void 0})},{default:r(()=>[l(_r,{item:U},null,8,["item"])]),_:2},1032,["style"])]),"scroll-loading":r(()=>[T.value.length===0?(k(),I(J,{key:0,style:G({height:`${C.value}px`})},null,8,["style"])):Z("",!0),u.value?(k(),A("div",kr,[i.value?(k(),I(R,{key:0},{default:r(()=>[g(h(c(p)("page.banlist.banlist.bottomReached")),1)]),_:1})):(k(),I(Y,{key:1}))])):Z("",!0)]),_:1},8,["virtualListProps","data"])]),_:1})}}}),Sr=se(wr,[["__scopeId","data-v-bcc8aabb"]]),$r=P({__name:"index",setup(e){return(t,n)=>{const a=q;return k(),I(a,{direction:"vertical",fill:""},{default:r(()=>[l(Sr)]),_:1})}}});async function Tr(e){const t=z();await t.serverAvailable;const n=new URL(B(t.endpoint,"api/bans/logs"),location.href);return n.searchParams.set("pageIndex",String(e.pageIndex-1)),e.pageSize&&n.searchParams.set("pageSize",String(e.pageSize)),fetch(n,{headers:D()}).then(a=>a.json()).then(a=>(t.assertResponseLogin(a),{...a,pageIndex:a.pageIndex+1}))}const Lr=P({__name:"banlogTable",setup(e){const t=N(!0),n=ce(),a=z(),{t:o,d:i}=x(),{data:s,total:u,current:p,loading:f,pageSize:m,changeCurrent:d,changePageSize:b,refresh:w}=At(Tr,{defaultParams:[{pageIndex:1,pageSize:10}],pagination:{currentKey:"pageIndex",pageSizeKey:"pageSize",totalKey:"total"},pollingInterval:L(()=>n.pollingInterval),cacheKey:_=>`${a.endpoint}-banlogs-${(_==null?void 0:_[0].pageIndex)||1}-${(_==null?void 0:_[0].pageSize)||10}`,onSuccess:n.renewLastUpdate,onAfter:()=>{t.value=!1}});re([m,p],()=>{t.value=!0}),re(()=>a.endpoint,w);const v=L(()=>t.value||f.value||!T.value),y=[{title:()=>o("page.banlog.banlogTable.column.banTime")+"/"+o("page.banlog.banlogTable.column.unbanTime"),slotName:"banAt",width:210},{title:()=>o("page.banlog.banlogTable.column.peerAddress"),slotName:"peerAddress",width:230},{title:()=>o("page.banlog.banlogTable.column.peerId"),slotName:"peerId",width:120},{title:()=>o("page.banlog.banlogTable.column.trafficSnapshot"),slotName:"peerStatus",width:150},{title:()=>o("page.banlog.banlogTable.column.torrentName"),dataIndex:"torrentName",ellipsis:!0,tooltip:!0},{title:()=>o("page.banlog.banlogTable.column.torrentSize"),slotName:"torrentSize",width:120},{title:()=>o("page.banlog.banlogTable.column.description"),dataIndex:"description",ellipsis:!0,tooltip:!0}],T=L(()=>{var _;return(_=s.value)==null?void 0:_.results});return(_,C)=>{const S=cs,$=K,M=Vt,R=q,V=on,H=an,W=xt,J=Ie,Y=gt,ne=he;return k(),I(ne,{stripe:!0,columns:y,data:T.value,loading:v.value,pagination:{total:c(u),current:c(p),pageSize:c(m),showPageSize:!0,baseSize:4,bufferSize:1},"column-resizable":"",size:"medium",onPageChange:c(d),onPageSizeChange:c(b),class:"banlog-table"},{banAt:r(({record:U})=>[l(R,{fill:"",direction:"vertical"},{default:r(()=>[l($,null,{default:r(()=>[l(S),g(" "+h(c(i)(U.banAt,"long")),1)]),_:2},1024),l($,null,{default:r(()=>[l(M),g(" "+h(U.unbanAt?c(i)(U.unbanAt,"long"):c(o)("page.banlog.banlogTable.notUnbanned")),1)]),_:2},1024)]),_:2},1024)]),peerAddress:r(({record:U})=>[l($,{copyable:"",code:""},{default:r(()=>[g(h(U.peerIp)+":"+h(U.peerPort),1)]),_:2},1024)]),peerStatus:r(({record:U})=>[l(R,{fill:"",style:{"justify-content":"space-between"}},{default:r(()=>[l(R,{fill:"",direction:"vertical"},{default:r(()=>[l($,null,{default:r(()=>[l(V,{class:"green"}),g(" "+h(c(be)(U.peerUploaded)),1)]),_:2},1024),l($,null,{default:r(()=>[l(H,{class:"red"}),g(" "+h(c(be)(U.peerDownloaded)),1)]),_:2},1024)]),_:2},1024),l(J,{content:(U.peerProgress*100).toFixed(2)+"%"},{default:r(()=>[l(W,{percent:U.peerProgress,size:"mini"},null,8,["percent"])]),_:2},1032,["content"])]),_:2},1024)]),peerId:r(({record:U})=>[j("p",null,[g(h(U.peerId?U.peerId:c(o)("page.banlist.banlist.listItem.empty"))+" ",1),l(J,{content:U.peerClientName?U.peerClientNam:c(o)("page.banlist.banlist.listItem.empty")},{default:r(()=>[l(Y)]),_:2},1032,["content"])])]),torrentSize:r(({record:U})=>[l(J,{content:`Hash: ${U.torrentInfoHash}`},{default:r(()=>[j("p",null,h(c(be)(U.torrentSize)),1)]),_:2},1032,["content"])]),_:1},8,["data","loading","pagination","onPageChange","onPageSizeChange"])}}}),Ir=se(Lr,[["__scopeId","data-v-ea291488"]]),Cr=P({__name:"index",setup(e){return(t,n)=>{const a=K,o=q;return k(),I(o,{direction:"vertical",fill:""},{default:r(()=>[l(a,{style:{"font-size":"1.2em"}},{default:r(()=>[g(h(t.$t("page.banlog.description")),1)]),_:1}),l(Ir)]),_:1})}}});async function Nr(e){const t=z();await t.serverAvailable;const n=new URL(B(t.endpoint,"api/bans/ranks"),location.href);return n.searchParams.set("limit",String(e)),fetch(n,{headers:D()}).then(a=>(t.assertResponseLogin(a),a.json()))}const Pr={class:"search-box"},Mr=P({__name:"top50Table",props:{topNumber:{type:Number,required:!0}},setup(e){const t=ce(),n=z(),{t:a}=x(),o=[{title:()=>a("page.topban.top50Table.column.ipaddress"),dataIndex:"address",filterable:{filter:(m,d)=>d.address.includes(m[0]),slotName:"ip-filter",icon:()=>hn(qn)}},{title:()=>a("page.topban.top50Table.column.historyCount"),dataIndex:"count"}],i=e,s=L(()=>i.topNumber),{data:u,loading:p,refresh:f}=ie(()=>Nr(s.value),{pollingInterval:L(()=>t.pollingInterval),onSuccess:t.renewLastUpdate,cacheKey:()=>`${n.endpoint}-topban-${s.value}`});return re([s,()=>n.endpoint],()=>{f()}),(m,d)=>{const b=Dt,w=q,v=he;return k(),I(v,{stripe:"","sticky-header":"",columns:o,data:c(u),"column-resizable":"",loading:c(p),pagination:{showPageSize:!0,baseSize:4,bufferSize:1},"filter-icon-align-left":""},{"ip-filter":r(({filterValue:y,setFilterValue:T,handleFilterConfirm:_,handleFilterReset:C})=>[j("div",Pr,[l(w,{direction:"vertical"},{default:r(()=>[l(b,{"model-value":y[0],placeholder:c(a)("page.topban.top50Table.searchPlaceholder"),"allow-clear":"",onSearch:_,onClear:C,onInput:S=>T([S])},null,8,["model-value","placeholder","onSearch","onClear","onInput"])]),_:2},1024)])]),_:1},8,["data","loading"])}}}),zr=se(Mr,[["__scopeId","data-v-918dd8d5"]]),Ur=P({__name:"index",setup(e){const t=N(50);return(n,a)=>{const o=K,i=_e,s=Ft,u=Ht,p=Vn,f=Hn,m=q;return k(),A(de,null,[l(o,{style:{"font-size":"1.2em"}},{default:r(()=>[g(h(n.$t("page.topban.description")),1)]),_:1}),l(u,null,{default:r(()=>[l(i,{heading:3},{default:r(()=>[g(h(n.$t("page.topban.title",{topNumber:t.value})),1)]),_:1}),l(s,null,{default:r(()=>[g(h(n.$t("page.topban.usage")),1)]),_:1})]),_:1}),l(m,{fill:"",direction:"vertical"},{default:r(()=>[l(m,null,{default:r(()=>[l(o,null,{default:r(()=>[g(h(n.$t("page.topban.onlyShow")),1)]),_:1}),l(f,{modelValue:t.value,"onUpdate:modelValue":a[0]||(a[0]=d=>t.value=d),"trigger-props":{autoFitPopupMinWidth:!0}},{default:r(()=>[l(p,{value:10},{default:r(()=>[g("10")]),_:1}),l(p,{value:20},{default:r(()=>[g("20")]),_:1}),l(p,{value:30},{default:r(()=>[g("30")]),_:1}),l(p,{value:40},{default:r(()=>[g("40")]),_:1}),l(p,{value:50},{default:r(()=>[g("50")]),_:1})]),_:1},8,["modelValue"]),l(o,null,{default:r(()=>[g(h(n.$t("page.topban.onlyShow.number")),1)]),_:1})]),_:1}),l(zr,{"top-number":t.value},null,8,["top-number"])]),_:1})],64)}}});async function jr(){const e=z();await e.serverAvailable;const t=new URL(B(e.endpoint,"api/statistic/rules"),location.href);return fetch(t,{headers:D()}).then(n=>(e.assertResponseLogin(n),n.json()))}const Ar={class:"search-box"},Er=P({__name:"ruleMetricsTable",setup(e){const t=ce(),{t:n}=x(),a=z(),{data:o,refresh:i,loading:s}=ie(jr,{pollingInterval:L(()=>t.pollingInterval),onSuccess:t.renewLastUpdate,cacheKey:()=>`${a.endpoint}-ruleStatic`}),u=f=>{var m;return(m=o.value)!=null&&m.dict[f]?Ee(f):"gray"},p=[{title:()=>n("page.ruleMetrices.metricsTable.column.type"),slotName:"type",width:200},{title:()=>n("page.ruleMetrices.metricsTable.column.content"),slotName:"ruleName",width:200},{title:()=>n("page.ruleMetrices.metricsTable.column.run"),dataIndex:"query",width:200},{title:()=>n("page.ruleMetrices.metricsTable.column.hit"),dataIndex:"hit",filterable:{filter:(f,m)=>f[0]==="yes"&&m.hit>0,slotName:"hit-filter"},width:200}];return re(()=>a.endpoint,i),(f,m)=>{var _;const d=qt,b=Le,w=K,v=dt,y=q,T=he;return k(),I(T,{columns:p,data:(_=c(o))==null?void 0:_.data,size:"large",loading:c(s),"column-resizable":"","filter-icon-align-left":"",pagination:{showPageSize:!0,baseSize:4,bufferSize:1}},{empty:r(()=>[l(d)]),type:r(({record:C})=>[l(b,{color:u(C.type)},{default:r(()=>{var S;return[g(h(((S=c(o))==null?void 0:S.dict[C.type])??C.type),1)]}),_:2},1032,["color"])]),ruleName:r(({record:C})=>[l(w,{code:""},{default:r(()=>[g(h(C.metadata.rule),1)]),_:2},1024)]),"hit-filter":r(({filterValue:C,handleFilterConfirm:S,handleFilterReset:$})=>[j("div",Ar,[l(y,null,{default:r(()=>[l(v,{modelValue:C[0],"onUpdate:modelValue":M=>C[0]=M,"checked-value":"yes","unchecked-value":"no",onChange:M=>M==="yes"?S():$()},null,8,["modelValue","onUpdate:modelValue","onChange"]),l(w,null,{default:r(()=>[g(h(c(n)("page.ruleMetrices.metricsTable.filter")),1)]),_:1})]),_:2},1024)])]),_:1},8,["data","loading"])}}}),Rr=se(Er,[["__scopeId","data-v-f4351b0d"]]),xr=P({__name:"index",setup(e){return(t,n)=>{const a=_e,o=Ft,i=Ht;return k(),A(de,null,[l(i,null,{default:r(()=>[l(a,{heading:3},{default:r(()=>[g(h(t.$t("page.ruleMetrices.title")),1)]),_:1}),l(o,null,{default:r(()=>[g(h(t.$t("page.ruleMetrices.description")),1)]),_:1})]),_:1}),l(Rr)],64)}}});async function Or(){const e=z();await e.serverAvailable;const t=new URL(B(e.endpoint,"api/sub/rules"),location.href);return fetch(t,{headers:D()}).then(n=>(e.assertResponseLogin(n),n.json()))}async function Br(e,t){const n=z();await n.serverAvailable;const a=new URL(B(n.endpoint,`api/sub/rule/${e}`),location.href);return fetch(a,{headers:D(),method:"PATCH",body:JSON.stringify({enabled:t})}).then(o=>(n.assertResponseLogin(o),o.json()))}async function Dr({ruleId:e,ruleName:t,subUrl:n}){const a=z();await a.serverAvailable;const o=new URL(B(a.endpoint,`/api/sub/rule/${e}`),location.href);return fetch(o,{headers:D(),method:"POST",body:JSON.stringify({ruleName:t,subUrl:n,enabled:!1})}).then(i=>(a.assertResponseLogin(i),i.json()))}async function qr({ruleId:e,ruleName:t,subUrl:n}){const a=z();await a.serverAvailable;const o=new URL(B(a.endpoint,"api/sub/rule"),location.href);return fetch(o,{headers:D(),method:"PUT",body:JSON.stringify({ruleId:e,ruleName:t,subUrl:n,enabled:!1})}).then(i=>(a.assertResponseLogin(i),i.json()))}async function Vr(e){const t=z();await t.serverAvailable;const n=new URL(B(t.endpoint,`api/sub/rule/${e}/update`),location.href);return fetch(n,{headers:D(),method:"POST"}).then(a=>(t.assertResponseLogin(a),a.json()))}async function Hr(e){const t=z();await t.serverAvailable;const n=new URL(B(t.endpoint,`/api/sub/rule/${e}`),location.href);return fetch(n,{headers:D(),method:"DELETE"}).then(a=>(t.assertResponseLogin(a),a.json()))}async function Fr(){const e=z();await e.serverAvailable;const t=new URL(B(e.endpoint,"/api/sub/rules/update"),location.href);return fetch(t,{headers:{...D(),"X-Audit":"Rule deletion"},method:"POST"}).then(n=>(e.assertResponseLogin(n),n.json()))}async function Wr(){const e=z();await e.serverAvailable;const t=new URL(B(e.endpoint,"api/sub/interval"),location.href);return fetch(t,{headers:D()}).then(n=>(e.assertResponseLogin(n),n.json()))}async function Gr(e){const t=z();await t.serverAvailable;const n=new URL(B(t.endpoint,"api/sub/interval"),location.href);return fetch(n,{headers:D(),method:"PATCH",body:JSON.stringify({checkInterval:e})}).then(a=>(t.assertResponseLogin(a),a.json()))}async function Kr(e){const t=z();await t.serverAvailable;const n=new URL(B(t.endpoint,"/api/sub/logs"),location.href);return n.searchParams.set("pageIndex",String(e.pageIndex-1)),e.pageSize&&n.searchParams.set("pageSize",String(e.pageSize)),fetch(n,{headers:D()}).then(a=>a.json()).then(a=>(t.assertResponseLogin(a),{...a.data,pageIndex:a.pageIndex+1}))}const Jr=P({__name:"asyncMethod",props:{once:{type:Boolean},asyncFn:{type:Function}},setup(e){const t=N(0),n=N(!1),a=N(),o=e,i=async(...s)=>{if(n.value&&o.once)return;n.value=!0;const u=++t.value;return Promise.resolve(o.asyncFn(...s)).catch(p=>{u===t.value&&(a.value=p)}).finally(()=>{u===t.value&&(n.value=!1)})};return(s,u)=>_n(s.$slots,"default",{run:i,loading:n.value,error:a.value})}}),Yr=P({__name:"editRuleItemModal",setup(e,{expose:t}){const{t:n}=x(),a=N(!1),o=N(!1),i=Et({ruleId:"",ruleName:"",subUrl:""}),s={ruleId:[{required:!0}],ruleName:[{required:!0,message:n("page.ruleSubscribe.editModal.form.name.required")}],subUrl:[{type:"url",required:!0}]};let u;t({showModal:(m,d,b)=>{o.value=m,u=d,!m&&b?(i.ruleId=b.ruleId,i.ruleName=b.ruleName,i.subUrl=b.subUrl):(i.ruleId=Math.random().toString(36).slice(2,10),i.ruleName="",i.subUrl=""),a.value=!0}});const p=N(),f=async()=>{var d;if(await((d=p.value)==null?void 0:d.validate()))return!1;if(o.value){const b=await qr(i);return b.success?(u&&u(i),!0):(F.error(b.message),!0)}else{const b=await Dr(i);return b.success?(u&&u(i),!0):(F.error(b.message),!0)}};return(m,d)=>{const b=Wt,w=Ue,v=Fn,y=je,T=Te;return k(),I(T,{visible:a.value,"onUpdate:visible":d[3]||(d[3]=_=>a.value=_),title:o.value?c(n)("page.ruleSubscribe.editModal.title.new"):c(n)("page.ruleSubscribe.editModal.title"),unmountOnClose:"",onBeforeOk:f},{default:r(()=>[l(y,{ref_key:"formRef",ref:p,model:i,rules:s},{default:r(()=>[l(w,{field:"ruleId",label:"ID"},{extra:r(()=>[g(h(c(n)("page.ruleSubscribe.editModal.form.id.extra")),1)]),default:r(()=>[l(b,{modelValue:i.ruleId,"onUpdate:modelValue":d[0]||(d[0]=_=>i.ruleId=_),disabled:!o.value,"allow-clear":""},null,8,["modelValue","disabled"])]),_:1}),l(w,{field:"ruleName",label:c(n)("page.ruleSubscribe.editModal.form.name")},{default:r(()=>[l(b,{modelValue:i.ruleName,"onUpdate:modelValue":d[1]||(d[1]=_=>i.ruleName=_),"allow-clear":""},null,8,["modelValue"])]),_:1},8,["label"]),l(w,{field:"subUrl",label:"URL"},{default:r(()=>[l(v,{modelValue:i.subUrl,"onUpdate:modelValue":d[2]||(d[2]=_=>i.subUrl=_),"allow-clear":"","auto-size":{minRows:2,maxRows:5}},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["visible","title"])}}}),Zr=P({__name:"settingsModal",setup(e,{expose:t}){const{t:n}=x(),a=N(!1);t({showModal:()=>{a.value=!0}});const o=f=>{const m=f.split(".");return m[0]=m[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),m.join(".")},i=f=>f.replace(/,/g,"");function s(f){const m=Math.floor(f/864e5);f%=864e5;const d=Math.floor(f/36e5);f%=36e5;const b=Math.floor(f/6e4);f%=6e4;const w=Math.floor(f/1e3);let v="";return m>0&&(v+=`${m} Day${m>1?"s":""} `),d>0&&(v+=`${d} Hour${d>1?"s":""} `),b>0&&(v+=`${b} Minute${b>1?"s":""} `),w>0&&(v+=`${w} Second${w>1?"s":""} `),v.trim()}const u=Et({checkInterval:0});ie(Wr,{onSuccess:f=>{u.checkInterval=f.data}});const p=async()=>{const f=await Gr(u.checkInterval);return f.success?(F.success(f.message),!0):(F.error(f.message),!1)};return(f,m)=>{const d=Gt,b=Ue,w=je,v=Te;return k(),I(v,{visible:a.value,"onUpdate:visible":m[1]||(m[1]=y=>a.value=y),title:c(n)("page.ruleSubscribe.settingsModal.title"),unmountOnClose:"","modal-style":{width:"35vw"},onBeforeOk:p},{default:r(()=>[l(w,{model:u},{default:r(()=>[l(b,{field:"checkInterval",label:c(n)("page.ruleSubscribe.settingsModal.checkInterval")},{extra:r(()=>[g(h(s(u.checkInterval)),1)]),default:r(()=>[l(d,{modelValue:u.checkInterval,"onUpdate:modelValue":m[0]||(m[0]=y=>u.checkInterval=y),step:1e3,min:1e3,formatter:o,parser:i},{suffix:r(()=>[g(" ms ")]),_:1},8,["modelValue"])]),_:1},8,["label"])]),_:1},8,["model"])]),_:1},8,["visible","title"])}}}),Xr=P({__name:"logModal",setup(e,{expose:t}){const{t:n,d:a}=x(),o=N(!1);t({showModal:()=>{o.value=!0}});const i=[{title:"ID",slotName:"ruleId"},{title:()=>n("page.ruleSubscribe.updateLog.updateTime"),slotName:"updateTime"},{title:()=>n("page.ruleSubscribe.updateLog.ruleCount"),dataIndex:"count"},{title:()=>n("page.ruleSubscribe.updateLog.updateType"),slotName:"updateType"}],s=N(!0),u=L(()=>s.value||d.value||!v.value),{data:p,total:f,current:m,loading:d,pageSize:b,changeCurrent:w}=At(Kr,{defaultParams:[{pageIndex:1,pageSize:5}],pagination:{currentKey:"pageIndex",pageSizeKey:"pageSize",totalKey:"total"},onAfter:()=>{s.value=!1}});re([b,m],()=>{s.value=!0});const v=L(()=>{var y;return(y=p.value)==null?void 0:y.results});return(y,T)=>{const _=Le,C=K,S=he,$=Te;return k(),I($,{visible:o.value,"onUpdate:visible":T[0]||(T[0]=M=>o.value=M),title:c(n)("page.ruleSubscribe.updateLog"),unmountOnClose:"","modal-style":{width:"35vw"}},{default:r(()=>[l(S,{stripe:!0,columns:i,data:v.value,loading:u.value,pagination:{total:c(f),current:c(m),pageSize:c(b),showPageSize:!0,baseSize:4,bufferSize:1},size:"medium",onPageChange:c(w),class:"banlog-table"},{ruleId:r(({record:M})=>[l(_,{color:c(Ee)(M.ruleId)},{default:r(()=>[g(h(M.ruleId),1)]),_:2},1032,["color"])]),updateTime:r(({record:M})=>[l(C,null,{default:r(()=>[g(h(c(a)(M.updateTime,"long")),1)]),_:2},1024)]),updateType:r(({record:M})=>[l(_,{color:M.updateType==="手动更新"?"green":"blue"},{default:r(()=>[g(h(M.updateType),1)]),_:2},1032,["color"])]),_:1},8,["data","loading","pagination","onPageChange"])]),_:1},8,["visible","title"])}}}),Qr=P({__name:"ruleList",setup(e){const{t,d:n}=x(),{data:a,loading:o,refresh:i}=ie(Or,{}),s=N(),u=N(),p=N(),f=[{title:()=>t("page.ruleSubscribe.column.status"),slotName:"status"},{title:"ID",slotName:"ruleId"},{title:()=>t("page.ruleSubscribe.column.ruleName"),dataIndex:"ruleName"},{title:"URL",slotName:"url"},{title:()=>t("page.ruleSubscribe.column.lastUpdated"),slotName:"lastUpdated"},{title:()=>t("page.ruleSubscribe.column.rulesCount"),slotName:"rulesCount"},{title:()=>t("page.ruleSubscribe.column.actions"),slotName:"action"}],m=T=>{var _;(_=s.value)==null||_.showModal(!1,()=>i(),T)},d=()=>{var T;(T=s.value)==null||T.showModal(!0,()=>i())},b=T=>Vr(T).then(_=>{_.success?F.info(_.message):F.error(_.message),i()}),w=async T=>{const _=await Hr(T);return _.success?F.success(_.message):F.error(_.message),i(),!0},v=N(!1),y=async()=>{v.value=!0;const T=await Fr();T.success?F.success(T.message):F.error(T.message),i(),v.value=!1};return(T,_)=>{const C=as,S=Ce,$=ks,M=sn,R=Ie,V=fs,H=Wn,W=q,J=Le,Y=K,ne=dt,U=Gn,ae=Kn,rn=Jn,ln=he;return k(),I(W,{direction:"vertical",fill:""},{default:r(()=>{var bt;return[l(W,{class:"align-right",fill:""},{default:r(()=>[l(S,{type:"primary",onClick:d},{icon:r(()=>[l(C)]),default:r(()=>[g(" "+h(T.$t("page.ruleSubscribe.addRule")),1)]),_:1}),l(H,null,{default:r(()=>[l(S,{loading:v.value,onClick:y},{icon:r(()=>[l($)]),default:r(()=>[g(" "+h(c(t)("page.ruleSubscribe.updateAll")),1)]),_:1},8,["loading"]),l(R,{content:c(t)("page.ruleSubscribe.settingsTips")},{default:r(()=>{var E;return[l(S,{onClick:(E=u.value)==null?void 0:E.showModal},{icon:r(()=>[l(M)]),_:1},8,["onClick"])]}),_:1},8,["content"]),l(R,{content:c(t)("page.ruleSubscribe.updateLog")},{default:r(()=>{var E;return[l(S,{onClick:(E=p.value)==null?void 0:E.showModal},{icon:r(()=>[l(V)]),_:1},8,["onClick"])]}),_:1},8,["content"])]),_:1})]),_:1}),l(ln,{stripe:"",columns:f,data:(bt=c(a))==null?void 0:bt.data,loading:c(o)},{ruleId:r(({record:E})=>[l(J,{color:c(Ee)(E.ruleId)},{default:r(()=>[g(h(E.ruleId),1)]),_:2},1032,["color"])]),url:r(({record:E})=>[l(Y,{copyable:"",ellipsis:{showTooltip:!0}},{default:r(()=>[g(h(E.subUrl),1)]),_:2},1024)]),status:r(({record:E})=>[l(W,null,{default:r(()=>[l(ne,{modelValue:E.enabled,"onUpdate:modelValue":ve=>E.enabled=ve,beforeChange:async ve=>{const Pe=await c(Br)(E.ruleId,ve);return Pe.success?(c(i)(),!0):(c(F).error(Pe.message),!1)}},null,8,["modelValue","onUpdate:modelValue","beforeChange"])]),_:2},1024)]),lastUpdated:r(({record:E})=>[l(Y,null,{default:r(()=>[g(h(E.lastUpdate>0?c(n)(E.lastUpdate,"long"):c(t)("page.ruleSubscribe.column.notUpdated")),1)]),_:2},1024)]),rulesCount:r(({record:E})=>[l(Y,null,{default:r(()=>[g(h(E.enabled?E.entCount:"NaN"),1)]),_:2},1024)]),action:r(({record:E})=>[l(W,{warp:""},{default:r(()=>[l(R,{content:c(t)("page.ruleSubscribe.column.actions.edit"),position:"top",mini:""},{default:r(()=>[l(S,{class:"edit-btn",shape:"circle",type:"text",onClick:()=>m(E)},{icon:r(()=>[l(U)]),_:2},1032,["onClick"])]),_:2},1032,["content"]),l(Jr,{once:"","async-fn":()=>b(E.ruleId)},{default:r(({run:ve,loading:Pe})=>[l(R,{content:c(t)("page.ruleSubscribe.column.actions.update"),position:"top",mini:""},{default:r(()=>[l(S,{class:"edit-btn",shape:"circle",type:"text",onClick:ve},{icon:r(()=>[l($,{spin:Pe},null,8,["spin"])]),_:2},1032,["onClick"])]),_:2},1032,["content"])]),_:2},1032,["async-fn"]),l(rn,{content:c(t)("page.ruleSubscribe.column.deleteConfirm"),type:"warning",onBeforeOk:()=>w(E.ruleId)},{default:r(()=>[l(S,{class:"edit-btn",status:"danger",shape:"circle",type:"text"},{icon:r(()=>[l(ae)]),_:1})]),_:2},1032,["content","onBeforeOk"])]),_:2},1024)]),_:1},8,["data","loading"]),l(Yr,{ref_key:"editModal",ref:s},null,512),l(Zr,{ref_key:"settingsModal",ref:u},null,512),l(Xr,{ref_key:"updateLog",ref:p},null,512)]}),_:1})}}}),el=se(Qr,[["__scopeId","data-v-3c38c549"]]),tl=P({__name:"index",setup(e){const{t}=x();return(n,a)=>{const o=K,i=q;return k(),I(i,{direction:"vertical",fill:""},{default:r(()=>[l(o,{style:{"font-size":"1.2em"}},{default:r(()=>[g(h(c(t)("page.ruleSubscribe.description")),1)]),_:1}),l(el)]),_:1})}}}),ft=[{path:"/dashboard",name:"dashboard",meta:{label:"router.dashboard"},component:mr},{path:"/list",name:"banlist",meta:{label:"router.banlist"},component:$r},{path:"/log",name:"banlogs",meta:{label:"router.banlogs"},component:Cr},{path:"/top",name:"top",meta:{label:"router.topban"},component:Ur},{path:"/metrics",name:"rule_metrics",meta:{label:"router.ruleMetrics"},component:xr},{path:"/subscribe",name:"rule_subscribe",meta:{label:"router.ruleSubscribe",disableAutoUpdate:!0,moduleRequire:"com.ghostchu.peerbanhelper.module.impl.webapi.RuleSubController",documentation:"https://github.com/PBH-BTN/PeerBanHelper/wiki/%E8%A7%84%E5%88%99%E8%AE%A2%E9%98%85%E5%8A%9F%E8%83%BD"},component:tl}];let ze=location.pathname;var Ut;for(const e of ft)if(!((Ut=e.meta)!=null&&Ut.hidden)&&ze.endsWith(e.path)){ze=ze.slice(0,-e.path.length);break}const nl=vn({history:yn(ze),routes:ft});function al(){const e=kn(),t=Rt(),n=i=>{e.replace({name:`${i}`})},a=L(()=>ft.filter(i=>{var s;return!((s=i.meta)!=null&&s.hidden)})),o=L(()=>t.name);return[a,o,n]}const ol=["href"],sl={key:1},rl=P({__name:"pageFooter",setup(e){const{t}=x(),n="1.6.1",a=`c2dc5608f442704cf1db68bbbcb1c2a073f114db
`,o=z(),i=L(()=>{var p;return(p=o.serverManifest)==null?void 0:p.version}),s=L(()=>o.latestVersion),u=L(()=>{var p,f;return tn(((p=o.latestVersion)==null?void 0:p.tagName)??"1.0",((f=o.serverManifest)==null?void 0:f.version.version)??"1.0",">")});return re(()=>o.checkUpgradeError,p=>{F.error(`${t("settings.accessToken.error")},error:${p}`)}),(p,f)=>{const m=Yn,d=ut,b=q,w=ot,v=st,y=lt,T=it;return k(),I(T,{align:"center",justify:"center"},{default:r(()=>[l(y,{class:"footer"},{default:r(()=>[l(v,{column:{xs:1,md:3,lg:4}},{default:r(()=>[l(w,{label:"Backend Version"},{default:r(()=>[l(b,null,{default:r(()=>{var _,C,S;return[u.value?(k(),A("a",{key:0,href:(_=s.value)==null?void 0:_.url},[l(m,{dot:"",count:1,offset:[8,-1]},{default:r(()=>{var $;return[g(h(($=i.value)==null?void 0:$.version),1)]}),_:1})],8,ol)):(k(),A("div",sl,h((C=i.value)==null?void 0:C.version),1)),j("div",null,[g(" ("),l(d,{href:`https://github.com/Ghost-chu/PeerBanHelper/commit/${(S=i.value)==null?void 0:S.commit}`},{default:r(()=>{var $;return[g(h(($=i.value)==null?void 0:$.commit.substring(0,8)),1)]}),_:1},8,["href"]),g(") ")])]}),_:1})]),_:1}),l(w,{label:"WebUI Version"},{default:r(()=>[l(b,null,{default:r(()=>[g(h(c(n))+" ",1),j("div",null,[g(" ("),l(d,{href:`https://github.com/Gaojianli/pbh-fe/commit/${c(a)}`},{default:r(()=>[g(h(c(a).substring(0,8)),1)]),_:1},8,["href"]),g(") ")])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}}}),ll=se(rl,[["__scopeId","data-v-0dda03bd"]]),il=["innerHTML"],cl=P({__name:"settingsModal",setup(e,{expose:t}){const n=z(),a=ce(),o=N(!1),i=L(()=>n.loading),s=L(()=>n.status==="fail"),u=N({endpoint:n.endpoint,interval:a.interval,accessToken:n.accessToken}),{t:p}=x();function f(){u.value.endpoint=n.endpoint,u.value.interval=a.interval}t({showModal:()=>{o.value=!0,f()}});const m=()=>{if(!i.value)return a.interval=u.value.interval,n.setAccessToken(u.value.accessToken),n.setEndpoint(u.value.endpoint)};re(()=>n.error,w=>{ue.is(w)?d():fe.is(w)?(F.error(p(w.message)),!o.value&&w.isApiWrong&&(o.value=!0,f())):w&&(F.error(`${p("settings.endpoint.error")},error:${w}`),o.value||(o.value=!0,f()))},{immediate:!0});const d=()=>{o.value=!1,f()},b=ct(N({md:1}),0);return(w,v)=>{const y=Wt,T=Ue,_=Gt,C=je,S=Te;return k(),I(S,{"modal-style":{"max-width":"80vw"},visible:o.value,"onUpdate:visible":v[3]||(v[3]=$=>o.value=$),onBeforeOk:m,onCancel:d,closable:!s.value,maskClosable:!s.value,"hide-cancel":s.value,"ok-loading":i.value},{title:r(()=>[g(h(c(p)("settings.modal.title")),1)]),default:r(()=>[l(C,{model:u.value,onSubmit:m,layout:["vertical","horizontal"][c(b)],"label-col-props":{span:6},"wrapper-col-props":{span:18}},{default:r(()=>[l(T,{field:"endpoint",label:"Endpoint:",tooltip:c(p)("settings.modal.endpointTips"),"validate-trigger":"input"},{default:r(()=>[l(y,{modelValue:u.value.endpoint,"onUpdate:modelValue":v[0]||(v[0]=$=>u.value.endpoint=$),placeholder:"http://localhost:8989","allow-clear":""},null,8,["modelValue"])]),_:1},8,["tooltip"]),l(T,{field:"interval",label:c(p)("settings.modal.pollInterval"),"validate-trigger":"input"},{default:r(()=>[l(_,{modelValue:u.value.interval,"onUpdate:modelValue":v[1]||(v[1]=$=>u.value.interval=$),placeholder:"3000",min:100,"hide-button":""},{suffix:r(()=>[g(" ms ")]),_:1},8,["modelValue"])]),_:1},8,["label"]),l(T,{field:"accessToken",label:"Access Token:","validate-trigger":"input"},{extra:r(()=>[j("div",{innerHTML:c(p)("settings.modal.accessTokenTips")},null,8,il)]),default:r(()=>[l(y,{modelValue:u.value.accessToken,"onUpdate:modelValue":v[2]||(v[2]=$=>u.value.accessToken=$),"allow-clear":""},null,8,["modelValue"])]),_:1})]),_:1},8,["model","layout"])]),_:1},8,["visible","closable","maskClosable","hide-cancel","ok-loading"])}}}),ul=se(cl,[["__scopeId","data-v-9b0a9c0f"]]);function dl(){const e=x({useScope:"global"});return{changeLocale:n=>{var a;e.locale.value===n||!e.availableLocales.includes(n)||(e.locale.value=n,(a=document.querySelector("html"))==null||a.setAttribute("lang",n),F.success(e.t("navbar.action.locale")))}}}const pl={class:"lang-selector"},ml=P({__name:"pageHeader",props:{disableAutoUpdate:{type:Boolean,default:!1}},setup(e){const{t,d:n,locale:a}=x(),{changeLocale:o}=dl(),i=[...ja],s=ce(),u=wn({selector:"body",attribute:"arco-theme",valueDark:"dark",valueLight:"light",storageKey:null}),p=N(),f=Sn(u),m=()=>{f()},d=e,b=L(()=>d.disableAutoUpdate);return(w,v)=>{const y=Vt,T=K,_=dt,C=Gs,S=Ce,$=Ie,M=Qn,R=ea,V=Zn,H=Us,W=Bs,J=sn,Y=q,ne=Xn;return k(),A(de,null,[l(ne,{title:"PeerBanHelper","show-back":!1},{extra:r(()=>[l(Y,{class:"right-side",wrap:""},{default:r(()=>{var U;return[b.value?Z("",!0):(k(),A(de,{key:0},[l(T,null,{default:r(()=>[l(y),g(" "+h(c(t)("navbar.action.autoUpdate.lastUpdate"))+h(c(n)(c(s).lastUpdate,"longlong")),1)]),_:1}),l(_,{modelValue:c(s).autoUpdate,"onUpdate:modelValue":v[0]||(v[0]=ae=>c(s).autoUpdate=ae)},null,8,["modelValue"]),l(T,null,{default:r(()=>[g(h(c(t)("navbar.action.autoUpdate")),1)]),_:1})],64)),j("div",pl,[l(V,{trigger:"click",onSelect:v[1]||(v[1]=ae=>c(o)(ae))},{content:r(()=>[(k(),A(de,null,at(i,ae=>l(R,{key:ae.value,value:ae.value},{icon:r(()=>[$n(l(M,null,null,512),[[Tn,ae.value===c(a)]])]),default:r(()=>[g(" "+h(ae.label),1)]),_:2},1032,["value"])),64))]),default:r(()=>[l($,{content:c(t)("settings.language")},{default:r(()=>[l(S,{class:"nav-btn",type:"outline",shape:"circle"},{icon:r(()=>[l(C)]),_:1})]),_:1},8,["content"])]),_:1})]),l($,{content:c(u)?c(t)("settings.navbar.theme.toLight"):c(t)("settings.navbar.theme.toDark")},{default:r(()=>[l(S,{class:"nav-btn",type:"outline",shape:"circle",onClick:m},{icon:r(()=>[c(u)?(k(),I(H,{key:0})):(k(),I(W,{key:1}))]),_:1})]),_:1},8,["content"]),l(S,{class:"nav-btn",type:"outline",shape:"circle",status:"normal",onClick:(U=p.value)==null?void 0:U.showModal},{icon:r(()=>[l(J)]),_:1},8,["onClick"])]}),_:1})]),_:1}),l(ul,{ref_key:"settingsModalRef",ref:p},null,512)],64)}}}),gl=se(ml,[["__scopeId","data-v-ba380ce7"]]),fl=P({__name:"index",setup(e){const t=z(),{t:n}=x(),a=N(!1),o=N({rememberPassword:!0,token:t.authToken}),i=N(),s=async({errors:u,values:p})=>{var b,w,v;const f=u?Object.keys(u):[];if(f.length>0){(b=i.value)==null||b.scrollToField(f[0]);return}const{token:m,rememberPassword:d}=p;if(!a.value){a.value=!0,(w=i.value)==null||w.setFields({token:{status:"validating",message:""}});try{await t.setAuthToken(m,d),F.success(n("login.form.login.success"))}catch(y){(v=i.value)==null||v.setFields({token:{status:"error",message:`${n("login.form.login.failed")}  ${y.message}`}})}finally{a.value=!1}}};return(u,p)=>{const f=_e,m=lr,d=ta,b=Ue,w=na,v=ut,y=Ce,T=je,_=q,C=lt,S=it;return k(),I(S,{justify:"center"},{default:r(()=>[l(C,{xs:24,sm:20,md:16,lg:12,xl:8},{default:r(()=>[l(_,{direction:"vertical",fill:""},{default:r(()=>[l(f,{heading:3},{default:r(()=>[g(h(u.$t("login.form.title")),1)]),_:1}),l(T,{ref_key:"loginForm",ref:i,model:o.value,class:"login-form",layout:"vertical",onSubmit:s},{default:r(()=>[l(b,{field:"token",rules:[{required:!0,message:u.$t("login.form.password.errMsg")}],"validate-trigger":["change","input"],"hide-label":""},{default:r(()=>[l(d,{modelValue:o.value.token,"onUpdate:modelValue":p[0]||(p[0]=$=>o.value.token=$),placeholder:u.$t("login.form.password.placeholder"),"allow-clear":""},{prefix:r(()=>[l(m)]),_:1},8,["modelValue","placeholder"])]),_:1},8,["rules"]),l(b,{field:"rememberPassword",class:"login-form-password-actions"},{default:r(()=>[l(w,{checked:"rememberPassword","model-value":o.value.rememberPassword},{default:r(()=>[g(h(u.$t("login.form.rememberPassword")),1)]),_:1},8,["model-value"]),l(v,{style:{marginLeft:"auto"},href:"https://github.com/PBH-BTN/PeerBanHelper/wiki/%E5%A6%82%E4%BD%95%E9%87%8D%E7%BD%AEToken"},{default:r(()=>[g(h(u.$t("login.form.forgetPassword")),1)]),_:1})]),_:1}),l(y,{type:"primary","html-type":"submit",long:"",loading:a.value},{default:r(()=>[g(h(u.$t("login.form.login")),1)]),_:1},8,["loading"])]),_:1},8,["model"])]),_:1})]),_:1})]),_:1})}}}),bl=P({__name:"App",setup(e){const t=z(),n=L(()=>t.status),a=Rt(),{t:o,locale:i}=x(),[s,u,p]=al(),f=L(()=>a.meta.disableAutoUpdate);return(m,d)=>{const b=oa,w=sa,v=K,y=Ce,T=q,_=ua,C=da,S=ra,$=la,M=ia,R=ca,V=aa;return k(),I(V,{locale:c(Ea)[c(i)]},{default:r(()=>[l(R,null,{default:r(()=>[l(b,null,{default:r(()=>[l(gl,{"disable-auto-update":f.value},null,8,["disable-auto-update"])]),_:1}),n.value==="needLogin"?(k(),I(w,{key:0,class:"login-page"},{default:r(()=>[l(fl,{style:{width:"100%","max-width":"1200px",margin:"auto"}})]),_:1})):(k(),I(w,{key:1},{default:r(()=>[l(T,{direction:"vertical",fill:"",style:{width:"100%","max-width":"1200px",margin:"auto"}},{default:r(()=>[l(S,{"active-key":c(u),onChange:c(p),size:"large",animation:!0,"destroy-on-hide":!0,"lazy-load":!0},{default:r(()=>[(k(!0),A(de,null,at(c(s),H=>{var W;return k(),I(C,{key:H.name,title:c(o)(String((W=H.meta)==null?void 0:W.label))},{default:r(()=>{var J,Y,ne;return[(J=H.meta)!=null&&J.moduleRequire&&!c(Mo)(c(t).serverManifest,String((Y=H.meta)==null?void 0:Y.moduleRequire))?(k(),I(_,{key:0,status:"error",title:c(o)("router.moduleNotEnable",{moduleName:c(o)(String((ne=H.meta)==null?void 0:ne.label))})},{subtitle:r(()=>[l(v,{style:{"font-size":"0.8rem"}},{default:r(()=>[g(h(c(o)("router.moduleNotEnable.tips")),1)]),_:1})]),extra:r(()=>[l(T,null,{default:r(()=>{var U;return[l(y,{href:String((U=H.meta)==null?void 0:U.documentation),type:"primary"},{default:r(()=>[g(h(c(o)("router.moduleNotEnable.viewDoc")),1)]),_:2},1032,["href"])]}),_:2},1024)]),_:2},1032,["title"])):(k(),I(Ln(H.component),{key:1}))]}),_:2},1032,["title"])}),128))]),_:1},8,["active-key","onChange"]),l($)]),_:1})]),_:1})),l(M,null,{default:r(()=>[l(ll)]),_:1})]),_:1})]),_:1},8,["locale"])}}}),hl=se(bl,[["__scopeId","data-v-c0d6f42c"]]),Ne=In(hl);F._context=Ne._context;Cn({loadingDelay:400,loadingKeep:1e3,pollingWhenOffline:!0});Ne.use(Nn());Ne.use(Aa);Ne.use(nl);Ne.mount("#app");
